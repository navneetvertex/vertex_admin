"use strict";(self.webpackChunkskote=self.webpackChunkskote||[]).push([[967],{8386:(v,f,o)=>{o.d(f,{i:()=>e});var a=o(2340),g=o(4650),d=o(529);let e=(()=>{class c{constructor(n){this.http=n}getBasicUserProfile(n){return this.http.get(`${a.N.api_url}users/profile/${n}`)}getAllUsers(n=0,s=10,i){return this.http.get(`${a.N.api_url}users?page=${n}&limit=${s}&${i}`)}getAllAdvisors(n=0,s=10,i){return this.http.get(`${a.N.api_url}users/advisors?page=${n}&limit=${s}&${i}`)}getSHGCoordinators(n=0,s=10,i){return this.http.get(`${a.N.api_url}users/shg?page=${n}&limit=${s}&${i}`)}getDirectRefUsers(n=0,s=10,i,h){return this.http.get(`${a.N.api_url}users/direct-ref-users/${h}?page=${n}&limit=${s}&${i}`)}getInDirectRefUsers(n=0,s=10,i,h){return this.http.get(`${a.N.api_url}users/indirect-ref-users/${h}?page=${n}&limit=${s}&${i}`)}changeUserStatus(n,s){return this.http.put(`${a.N.api_url}users/changeStatus/${n}`,{status:s})}sendNotification(n,s,i){return this.http.post(`${a.N.api_url}users/sendNotification`,{title:s,message:i,userId:n})}upsertKyc(n){return this.http.post(`${a.N.api_url}users/kyc`,n)}updateProfile(n){return this.http.put(`${a.N.api_url}users/profile`,n)}createBank(n){return this.http.post(`${a.N.api_url}users/bank`,n)}createAddress(n){return this.http.post(`${a.N.api_url}users/address`,n)}getUserById(n){return this.http.get(`${a.N.api_url}users/${n}`)}getAllUserIds(){return this.http.get(`${a.N.api_url}users/getAllUserId/all`)}deleteBank(n){return this.http.delete(`${a.N.api_url}users/bank/${n}`)}deleteAddress(n){return this.http.delete(`${a.N.api_url}users/address/${n}`)}editBank(n,s){return this.http.put(`${a.N.api_url}users/bank/${n}`,s)}editAddress(n,s){return this.http.put(`${a.N.api_url}users/address/${n}`,s)}getUserDashboard(n){return this.http.get(`${a.N.api_url}dashboard/user?userId=${n}`)}getKycRequests(n=0,s=10,i){return this.http.get(`${a.N.api_url}users/kyc?page=${n}&limit=${s}&${i}`)}getAllTransferRequests(n=0,s=10,i){return this.http.get(`${a.N.api_url}masters/all-transfer-requests?page=${n}&limit=${s}&${i}`)}exportUsers(){return this.http.get(`${a.N.api_url}users/export/user/admin`,{responseType:"blob"})}hardDeleteUser(n){return this.http.delete(`${a.N.api_url}users/hard-delete/${n}`)}}return c.\u0275fac=function(n){return new(n||c)(g.\u0275\u0275inject(d.eN))},c.\u0275prov=g.\u0275\u0275defineInjectable({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},6967:(v,f,o)=>{o.r(f),o.d(f,{PaymentsModule:()=>E});var a=o(6895),g=o(9158),d=o(4006),e=o(4650),c=o(8386),_=o(9234),n=o(9061);function s(r,m){1&r&&(e.\u0275\u0275elementStart(0,"div",19),e.\u0275\u0275element(1,"img",20),e.\u0275\u0275elementStart(2,"p",21),e.\u0275\u0275text(3,"No Payment Request in current filter."),e.\u0275\u0275elementEnd()())}function i(r,m){if(1&r&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&r){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.active_bank_details[0].account_number)}}function h(r,m){if(1&r&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&r){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.active_bank_details[0].bank_name)}}function y(r,m){if(1&r&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&r){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.active_bank_details[0].branch_name)}}function x(r,m){if(1&r&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&r){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.active_bank_details[0].ifsc_code)}}function $(r,m){if(1&r&&(e.\u0275\u0275elementStart(0,"tr")(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td"),e.\u0275\u0275text(4),e.\u0275\u0275element(5,"br"),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"td"),e.\u0275\u0275text(8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"td"),e.\u0275\u0275text(10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"td"),e.\u0275\u0275template(12,i,2,1,"span",30),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"td"),e.\u0275\u0275template(14,h,2,1,"span",30),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"td"),e.\u0275\u0275template(16,y,2,1,"span",30),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"td"),e.\u0275\u0275template(18,x,2,1,"span",30),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"td"),e.\u0275\u0275text(20),e.\u0275\u0275elementEnd()()),2&r){const t=m.$implicit,p=m.index,u=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate((u.page-1)*u.pageSize+p+1),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",null==t||null==t.user?null:t.user.name," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",(null==t||null==t.user?null:t.user.user_id)||"-"," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.amount),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.type),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",0!==t.active_bank_details.length),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",0!==t.active_bank_details.length),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",0!==t.active_bank_details.length),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",0!==t.active_bank_details.length),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.message||"-")}}function S(r,m){if(1&r){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",22)(1,"table",23)(2,"thead")(3,"tr")(4,"th"),e.\u0275\u0275text(5,"Sr No"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"th"),e.\u0275\u0275text(7,"User"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"th"),e.\u0275\u0275text(9,"Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"th"),e.\u0275\u0275text(11,"Type"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"th"),e.\u0275\u0275text(13,"Account Number"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"th"),e.\u0275\u0275text(15,"Bank Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"th"),e.\u0275\u0275text(17,"Branch Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"th"),e.\u0275\u0275text(19,"IFSC Code"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"th"),e.\u0275\u0275text(21,"Comments"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(22,"tbody"),e.\u0275\u0275template(23,$,21,10,"tr",24),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(24,"div",25)(25,"div",26)(26,"div",27),e.\u0275\u0275text(27,"Showing "),e.\u0275\u0275elementStart(28,"b"),e.\u0275\u0275text(29),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(30),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(31,"div",26)(32,"div",28)(33,"ngb-pagination",29),e.\u0275\u0275listener("pageChange",function(u){e.\u0275\u0275restoreView(t);const l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.page=u)})("pageChange",function(u){e.\u0275\u0275restoreView(t);const l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.pageChange(u))}),e.\u0275\u0275elementEnd()()()()()}if(2&r){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(23),e.\u0275\u0275property("ngForOf",t.paymentList),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate((t.page-1)*t.pageSize+1),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate2(" to ",t.findPageShowing()," of ",t.total," entries "),e.\u0275\u0275advance(3),e.\u0275\u0275property("collectionSize",t.total)("page",t.page)("pageSize",t.pageSize)}}const b=[{path:"",component:(()=>{class r{constructor(t){this.userService=t,this.paymentList=[],this.total=0,this.page=1,this.pageSize=10}ngOnInit(){this.breadCrumbItems=[{label:"Transfer Request"},{label:"Lists",active:!0}],this.searchFormGroup=new d.cw({name:new d.NI(""),date:new d.NI("")}),this.getBankTransferRequests()}getBankTransferRequests(){const t=this.searchFormGroup.value,p=[];Object.keys(t).forEach(l=>{null!==t[l]&&""!==t[l]&&p.push(`${l}=${encodeURIComponent(t[l])}`)});const u=p.join("&");this.userService.getAllTransferRequests(this.page,this.pageSize,u).subscribe({next:l=>{console.log("Bank Transfer Requests:",l.data.results),this.paymentList=l.data.results,this.total=l.data.total,this.page=l.data.page||1,this.pageSize=l.data.limit||10},error:l=>{console.error("Error fetching bank transfer requests:",l)}})}reset(){this.page=1,this.searchFormGroup.reset(),this.getBankTransferRequests()}findPageShowing(){return Math.min(this.page*this.pageSize,this.total)}pageChange(t){this.page=t,this.getBankTransferRequests()}}return r.\u0275fac=function(t){return new(t||r)(e.\u0275\u0275directiveInject(c.i))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["app-payments"]],decls:23,vars:4,consts:[[1,"container-fluid"],["title","Payments",3,"breadcrumbItems"],[1,"row"],[1,"col-xl-12"],[1,"card"],[1,"card-body"],[1,"card-body","border-bottom"],[3,"formGroup"],[1,"col-lg-5"],["type","search","id","searchInput","formControlName","name","placeholder","Search for Name/User ID...",1,"form-control"],[1,"col-lg-4"],["type","date","id","searchInput","formControlName","date","placeholder","Search for User id...",1,"form-control"],[1,"col-lg-1"],["type","button",1,"btn","btn-soft-secondary","w-100",3,"click"],[1,"mdi","mdi-filter-outline","align-middle"],["type","button",1,"btn","btn-light",3,"click"],[1,"mdi","mdi-refresh"],["class","d-flex flex-column justify-content-center align-items-center","style","min-height: 150px;",4,"ngIf"],["class","table-responsive",4,"ngIf"],[1,"d-flex","flex-column","justify-content-center","align-items-center",2,"min-height","150px"],["src","assets/img/not-found.png","width","300px","alt",""],[1,"text-mutes","mt-2"],[1,"table-responsive"],["id","basic-datatable",1,"table","table-bordered","dt-responsive","nowrap","datatables","no-footer","dtr-inline"],[4,"ngFor","ngForOf"],[1,"row","justify-content-md-between","align-items-md-center","mt-2"],[1,"col-sm-12","col-md-5"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[1,"text-md-right","float-md-end","pagination-rounded"],[3,"collectionSize","page","pageSize","pageChange"],[4,"ngIf"]],template:function(t,p){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-page-title",1),e.\u0275\u0275elementStart(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"form",7)(8,"div",2)(9,"div",8),e.\u0275\u0275element(10,"input",9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",10),e.\u0275\u0275element(12,"input",11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"div",12)(14,"button",13),e.\u0275\u0275listener("click",function(){return p.getBankTransferRequests()}),e.\u0275\u0275element(15,"i",14),e.\u0275\u0275text(16," Filter"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(17,"div",12)(18,"button",15),e.\u0275\u0275listener("click",function(){return p.reset()}),e.\u0275\u0275element(19,"i",16),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(20,"div",2),e.\u0275\u0275template(21,s,4,0,"div",17),e.\u0275\u0275template(22,S,34,7,"div",18),e.\u0275\u0275elementEnd()()()()()()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("breadcrumbItems",p.breadCrumbItems),e.\u0275\u0275advance(6),e.\u0275\u0275property("formGroup",p.searchFormGroup),e.\u0275\u0275advance(14),e.\u0275\u0275property("ngIf",!p.paymentList||0===p.paymentList.length),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0!=p.paymentList.length))},dependencies:[a.NgForOf,a.NgIf,_.V,d._Y,d.Fj,d.JJ,d.JL,d.sg,d.u,n.N9]}),r})()}];let C=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.\u0275\u0275defineNgModule({type:r}),r.\u0275inj=e.\u0275\u0275defineInjector({imports:[g.Bz.forChild(b),g.Bz]}),r})();var I=o(9668);let E=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.\u0275\u0275defineNgModule({type:r}),r.\u0275inj=e.\u0275\u0275defineInjector({imports:[a.CommonModule,I.v,d.UX,n.jF,C]}),r})()}}]);