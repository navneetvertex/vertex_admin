"use strict";(self.webpackChunkskote=self.webpackChunkskote||[]).push([[967],{6967:(P,d,l)=>{l.r(d),l.d(d,{PaymentsModule:()=>E});var s=l(36895),p=l(59158),i=l(24006),e=l(94650),u=l(88386),g=l(29234),c=l(84029);function f(n,r){1&n&&(e.\u0275\u0275elementStart(0,"div",19),e.\u0275\u0275element(1,"img",20),e.\u0275\u0275elementStart(2,"p",21),e.\u0275\u0275text(3,"No Payment Request in current filter."),e.\u0275\u0275elementEnd()())}function h(n,r){if(1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.active_bank_details[0].account_number)}}function v(n,r){if(1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.active_bank_details[0].bank_name)}}function y(n,r){if(1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.active_bank_details[0].branch_name)}}function x(n,r){if(1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.active_bank_details[0].ifsc_code)}}function _(n,r){if(1&n&&(e.\u0275\u0275elementStart(0,"tr")(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td"),e.\u0275\u0275text(4),e.\u0275\u0275element(5,"br"),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"td"),e.\u0275\u0275text(8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"td"),e.\u0275\u0275text(10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"td"),e.\u0275\u0275template(12,h,2,1,"span",30),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"td"),e.\u0275\u0275template(14,v,2,1,"span",30),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"td"),e.\u0275\u0275template(16,y,2,1,"span",30),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"td"),e.\u0275\u0275template(18,x,2,1,"span",30),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"td"),e.\u0275\u0275text(20),e.\u0275\u0275elementEnd()()),2&n){const t=r.$implicit,o=r.index,m=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate((m.page-1)*m.pageSize+o+1),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",null==t||null==t.user?null:t.user.name," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",(null==t||null==t.user?null:t.user.user_id)||"-"," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.amount),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.type),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",0!==t.active_bank_details.length),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",0!==t.active_bank_details.length),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",0!==t.active_bank_details.length),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",0!==t.active_bank_details.length),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.message||"-")}}function S(n,r){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",22)(1,"table",23)(2,"thead")(3,"tr")(4,"th"),e.\u0275\u0275text(5,"Sr No"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"th"),e.\u0275\u0275text(7,"User"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"th"),e.\u0275\u0275text(9,"Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"th"),e.\u0275\u0275text(11,"Type"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"th"),e.\u0275\u0275text(13,"Account Number"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"th"),e.\u0275\u0275text(15,"Bank Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"th"),e.\u0275\u0275text(17,"Branch Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"th"),e.\u0275\u0275text(19,"IFSC Code"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"th"),e.\u0275\u0275text(21,"Comments"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(22,"tbody"),e.\u0275\u0275template(23,_,21,10,"tr",24),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(24,"div",25)(25,"div",26)(26,"div",27),e.\u0275\u0275text(27,"Showing "),e.\u0275\u0275elementStart(28,"b"),e.\u0275\u0275text(29),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(30),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(31,"div",26)(32,"div",28)(33,"ngb-pagination",29),e.\u0275\u0275listener("pageChange",function(m){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.page=m)})("pageChange",function(m){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.pageChange(m))}),e.\u0275\u0275elementEnd()()()()()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(23),e.\u0275\u0275property("ngForOf",t.paymentList),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate((t.page-1)*t.pageSize+1),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate2(" to ",t.findPageShowing()," of ",t.total," entries "),e.\u0275\u0275advance(3),e.\u0275\u0275property("collectionSize",t.total)("page",t.page)("pageSize",t.pageSize)}}const b=[{path:"",component:(()=>{class n{constructor(t){this.userService=t,this.paymentList=[],this.total=0,this.page=1,this.pageSize=10}ngOnInit(){this.breadCrumbItems=[{label:"Transfer Request"},{label:"Lists",active:!0}],this.searchFormGroup=new i.cw({name:new i.NI(""),date:new i.NI("")}),this.getBankTransferRequests()}getBankTransferRequests(){const t=this.searchFormGroup.value,o=[];Object.keys(t).forEach(a=>{null!==t[a]&&""!==t[a]&&o.push(`${a}=${encodeURIComponent(t[a])}`)});const m=o.join("&");this.userService.getAllTransferRequests(this.page,this.pageSize,m).subscribe({next:a=>{console.log("Bank Transfer Requests:",a.data.results),this.paymentList=a.data.results,this.total=a.data.total,this.page=a.data.page||1,this.pageSize=a.data.limit||10},error:a=>{console.error("Error fetching bank transfer requests:",a)}})}reset(){this.page=1,this.searchFormGroup.reset(),this.getBankTransferRequests()}findPageShowing(){return Math.min(this.page*this.pageSize,this.total)}pageChange(t){this.page=t,this.getBankTransferRequests()}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(u.i))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-payments"]],decls:23,vars:4,consts:[[1,"container-fluid"],["title","Payments",3,"breadcrumbItems"],[1,"row"],[1,"col-xl-12"],[1,"card"],[1,"card-body"],[1,"card-body","border-bottom"],[3,"formGroup"],[1,"col-lg-5"],["type","search","id","searchInput","formControlName","name","placeholder","Search for Name/User ID...",1,"form-control"],[1,"col-lg-4"],["type","date","id","searchInput","formControlName","date","placeholder","Search for User id...",1,"form-control"],[1,"col-lg-1"],["type","button",1,"btn","btn-soft-secondary","w-100",3,"click"],[1,"mdi","mdi-filter-outline","align-middle"],["type","button",1,"btn","btn-light",3,"click"],[1,"mdi","mdi-refresh"],["class","d-flex flex-column justify-content-center align-items-center","style","min-height: 150px;",4,"ngIf"],["class","table-responsive",4,"ngIf"],[1,"d-flex","flex-column","justify-content-center","align-items-center",2,"min-height","150px"],["src","assets/img/not-found.png","width","300px","alt",""],[1,"text-mutes","mt-2"],[1,"table-responsive"],["id","basic-datatable",1,"table","table-bordered","dt-responsive","nowrap","datatables","no-footer","dtr-inline"],[4,"ngFor","ngForOf"],[1,"row","justify-content-md-between","align-items-md-center","mt-2"],[1,"col-sm-12","col-md-5"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[1,"text-md-right","float-md-end","pagination-rounded"],[3,"collectionSize","page","pageSize","pageChange"],[4,"ngIf"]],template:function(t,o){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-page-title",1),e.\u0275\u0275elementStart(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"form",7)(8,"div",2)(9,"div",8),e.\u0275\u0275element(10,"input",9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",10),e.\u0275\u0275element(12,"input",11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"div",12)(14,"button",13),e.\u0275\u0275listener("click",function(){return o.getBankTransferRequests()}),e.\u0275\u0275element(15,"i",14),e.\u0275\u0275text(16," Filter"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(17,"div",12)(18,"button",15),e.\u0275\u0275listener("click",function(){return o.reset()}),e.\u0275\u0275element(19,"i",16),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(20,"div",2),e.\u0275\u0275template(21,f,4,0,"div",17),e.\u0275\u0275template(22,S,34,7,"div",18),e.\u0275\u0275elementEnd()()()()()()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("breadcrumbItems",o.breadCrumbItems),e.\u0275\u0275advance(6),e.\u0275\u0275property("formGroup",o.searchFormGroup),e.\u0275\u0275advance(14),e.\u0275\u0275property("ngIf",!o.paymentList||0===o.paymentList.length),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0!=o.paymentList.length))},dependencies:[s.NgForOf,s.NgIf,g.V,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,c.N9]}),n})()}];let C=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[p.Bz.forChild(b),p.Bz]}),n})();var I=l(19668);let E=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[s.CommonModule,I.v,i.UX,c.jF,C]}),n})()}}]);