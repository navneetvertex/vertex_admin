"use strict";(self.webpackChunkskote=self.webpackChunkskote||[]).push([[529],{1529:(re,h,l)=>{l.r(h),l.d(h,{SubadminModule:()=>se});var m=l(6895),o=l(4006),g=l(9061),E=l(150),c=l(9158),w=l(5226),u=l.n(w),e=l(4650),S=l(529),y=l(2340);let _=(()=>{class r{constructor(t){this.http=t,this.apiUrl=y.N.api_url+"subadmin"}getSubAdmins(t){let n=new S.LE;return t&&Object.keys(t).forEach(i=>{t[i]&&(n=n.append(i,t[i]))}),this.http.get(`${this.apiUrl}`,{params:n})}getSubAdmin(t){return this.http.get(`${this.apiUrl}/${t}`)}createSubAdmin(t){return this.http.post(`${this.apiUrl}`,t)}updateSubAdmin(t,n){return this.http.put(`${this.apiUrl}/${t}`,n)}updateSubAdminPassword(t,n){return this.http.put(`${this.apiUrl}/${t}/password`,{password:n})}changeSubAdminStatus(t,n){return this.http.put(`${this.apiUrl}/${t}/status`,{status:n})}deleteSubAdmin(t){return this.http.delete(`${this.apiUrl}/${t}`)}getSubAdminPermissions(t){return this.http.get(`${this.apiUrl}/${t}/permissions`)}updateSubAdminPermissions(t,n){return this.http.put(`${this.apiUrl}/${t}/permissions`,{permissions:n})}}return r.\u0275fac=function(t){return new(t||r)(e.\u0275\u0275inject(S.eN))},r.\u0275prov=e.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var b=l(7185),v=l(9234);function A(r,a){if(1&r&&(e.\u0275\u0275elementStart(0,"option",33),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&r){const t=a.$implicit;e.\u0275\u0275property("value",t),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t)}}function P(r,a){1&r&&(e.\u0275\u0275elementStart(0,"span",53),e.\u0275\u0275element(1,"i",54),e.\u0275\u0275text(2," Configured "),e.\u0275\u0275elementEnd())}function V(r,a){1&r&&(e.\u0275\u0275elementStart(0,"span",55),e.\u0275\u0275element(1,"i",56),e.\u0275\u0275text(2," Not Set "),e.\u0275\u0275elementEnd())}const I=function(r,a,t,n){return{"bg-success":r,"bg-warning":a,"bg-secondary":t,"bg-danger":n}};function T(r,a){if(1&r){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr")(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td")(4,"div",34)(5,"div",35)(6,"span",36),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"div")(9,"h6",37),e.\u0275\u0275text(10),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(11,"td"),e.\u0275\u0275text(12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"td"),e.\u0275\u0275text(14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"td"),e.\u0275\u0275text(16),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"td")(18,"span",38),e.\u0275\u0275text(19),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(20,"td",39),e.\u0275\u0275template(21,P,3,0,"span",40),e.\u0275\u0275template(22,V,3,0,"span",41),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"td"),e.\u0275\u0275text(24),e.\u0275\u0275pipe(25,"date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"td")(27,"div",42)(28,"button",43),e.\u0275\u0275listener("click",function(){const s=e.\u0275\u0275restoreView(t).$implicit,d=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(d.editSubAdmin(s._id))}),e.\u0275\u0275element(29,"i",44),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(30,"button",45),e.\u0275\u0275listener("click",function(){const s=e.\u0275\u0275restoreView(t).$implicit,d=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(d.managePermissions(s._id))}),e.\u0275\u0275element(31,"i",46),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(32,"button",47),e.\u0275\u0275listener("click",function(){const s=e.\u0275\u0275restoreView(t).$implicit,d=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(d.updatePassword(s._id,s.name))}),e.\u0275\u0275element(33,"i",48),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(34,"button",49),e.\u0275\u0275listener("click",function(){const s=e.\u0275\u0275restoreView(t).$implicit,d=e.\u0275\u0275nextContext(),p=e.\u0275\u0275reference(63);return e.\u0275\u0275resetView(d.openStatusModal(p,s._id,s.status))}),e.\u0275\u0275element(35,"i",50),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(36,"button",51),e.\u0275\u0275listener("click",function(){const s=e.\u0275\u0275restoreView(t).$implicit,d=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(d.deleteSubAdmin(s._id,s.name))}),e.\u0275\u0275element(37,"i",52),e.\u0275\u0275elementEnd()()()()}if(2&r){const t=a.$implicit,n=a.index,i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate((i.page-1)*i.pageSize+n+1),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",null==t.name?null:t.name.charAt(0).toUpperCase()," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.name),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.user_id),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.email_id||"N/A"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.mobile_number),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction4(14,I,"Active"===t.status,"Pending"===t.status,"Inactive"===t.status,"Blocked"===t.status)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.status," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.hasPermissions),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.hasPermissions),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind2(25,11,t.created_date,"dd/MM/yyyy"))}}function k(r,a){1&r&&(e.\u0275\u0275elementStart(0,"tr")(1,"td",57),e.\u0275\u0275element(2,"i",58),e.\u0275\u0275elementStart(3,"p",59),e.\u0275\u0275text(4,"No sub-admins found"),e.\u0275\u0275elementEnd()()())}function F(r,a){if(1&r){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",60)(1,"div",61)(2,"div",62),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",61)(5,"div",63)(6,"ngb-pagination",64),e.\u0275\u0275listener("pageChange",function(i){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.page=i)})("pageChange",function(i){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.onPageChange(i))}),e.\u0275\u0275elementEnd()()()()}if(2&r){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate3(" Showing ",(t.page-1)*t.pageSize+1," to ",t.Math.min(t.page*t.pageSize,t.total)," of ",t.total," entries "),e.\u0275\u0275advance(3),e.\u0275\u0275property("collectionSize",t.total)("page",t.page)("pageSize",t.pageSize)}}function O(r,a){if(1&r&&(e.\u0275\u0275elementStart(0,"option",76),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&r){const t=a.$implicit;e.\u0275\u0275property("ngValue",t),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t)}}function L(r,a){if(1&r){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",65)(1,"h5",66),e.\u0275\u0275text(2,"Change Status"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",67),e.\u0275\u0275listener("click",function(){const s=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(s.dismiss("Cross click"))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",68)(5,"div",69)(6,"label",70),e.\u0275\u0275text(7,"Select Status:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"select",71),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.currStatus=i)}),e.\u0275\u0275template(9,O,2,2,"option",72),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(10,"div",73)(11,"button",74),e.\u0275\u0275listener("click",function(){const s=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(s.close("Close click"))}),e.\u0275\u0275text(12,"Cancel"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"button",75),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.changeStatus())}),e.\u0275\u0275text(14,"Update Status"),e.\u0275\u0275elementEnd()()}if(2&r){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(8),e.\u0275\u0275property("ngModel",t.currStatus),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.statusList)}}let N=(()=>{class r{constructor(t,n,i,s){this.subadminService=t,this.modalService=n,this.toast=i,this.router=s,this.subAdminList=[],this.total=0,this.page=1,this.pageSize=10,this.statusList=["Pending","Active","Inactive","Blocked"],this.currStatus="Active",this.currSubAdminId="",this.Math=Math}ngOnInit(){this.breadCrumbItems=[{label:"Sub-Admin Management"},{label:"Sub-Admin List",active:!0}],this.searchFormGroup=new o.cw({name:new o.NI(""),user_id:new o.NI(""),status:new o.NI("")}),this.getAllSubAdmins()}getAllSubAdmins(){const t={page:this.page,limit:this.pageSize,...this.searchFormGroup.value};this.subadminService.getSubAdmins(t).subscribe({next:n=>{n.success&&(this.subAdminList=n.data,this.total=n.total)},error:n=>{this.toast.error(n.error?.message||"Failed to fetch sub-admins","Error")}})}search(){this.page=1,this.getAllSubAdmins()}reset(){this.page=1,this.searchFormGroup.reset(),this.getAllSubAdmins()}onPageChange(t){this.page=t,this.getAllSubAdmins()}editSubAdmin(t){this.router.navigate(["/subadmin/edit",t])}managePermissions(t){this.router.navigate(["/subadmin/permissions",t])}openStatusModal(t,n,i){this.currSubAdminId=n,this.currStatus=i,this.modalService.open(t,{centered:!0})}changeStatus(){this.subadminService.changeSubAdminStatus(this.currSubAdminId,this.currStatus).subscribe({next:t=>{t.success&&(this.toast.success("Status updated successfully","Success"),this.getAllSubAdmins(),this.modalService.dismissAll())},error:t=>{this.toast.error(t.error?.message||"Failed to update status","Error")}})}deleteSubAdmin(t,n){u().fire({title:"Are you sure?",text:`Do you want to delete ${n}? This action cannot be undone!`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc3545",cancelButtonColor:"#6c757d",confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel"}).then(i=>{i.isConfirmed&&this.subadminService.deleteSubAdmin(t).subscribe({next:s=>{s.success&&(this.toast.success("Sub-admin deleted successfully","Success"),this.getAllSubAdmins(),u().fire("Deleted!","Sub-admin has been deleted.","success"))},error:s=>{this.toast.error(s.error?.message||"Failed to delete sub-admin","Error")}})})}updatePassword(t,n){u().fire({title:"Update Password",html:`\n        <p class="mb-3">Enter new password for <strong>${n}</strong></p>\n        <input type="password" id="newPassword" class="swal2-input" placeholder="New Password" minlength="8">\n        <input type="password" id="confirmPassword" class="swal2-input" placeholder="Confirm Password" minlength="8">\n        <small class="text-muted d-block mt-2">Password must be at least 8 characters and include uppercase, lowercase, number, and special character.</small>\n      `,showCancelButton:!0,confirmButtonText:"Update Password",cancelButtonText:"Cancel",confirmButtonColor:"#667eea",preConfirm:()=>{const i=document.getElementById("newPassword").value,s=document.getElementById("confirmPassword").value;return i&&s?i!==s?(u().showValidationMessage("Passwords do not match"),!1):i.length<8?(u().showValidationMessage("Password must be at least 8 characters"),!1):{password:i}:(u().showValidationMessage("Please enter both password fields"),!1)}}).then(i=>{i.isConfirmed&&i.value&&this.subadminService.updateSubAdminPassword(t,i.value.password).subscribe({next:s=>{s.success&&u().fire("Success!","Password updated successfully","success")},error:s=>{this.toast.error(s.error?.message||"Failed to update password","Error")}})})}}return r.\u0275fac=function(t){return new(t||r)(e.\u0275\u0275directiveInject(_),e.\u0275\u0275directiveInject(g.FF),e.\u0275\u0275directiveInject(b._W),e.\u0275\u0275directiveInject(c.F0))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["app-subadmin-list"]],decls:64,vars:6,consts:[[1,"container-fluid"],["title","Sub-Admin List",3,"breadcrumbItems"],[1,"row"],[1,"col-xl-12"],[1,"card"],[1,"card-body"],[1,"card-body","border-bottom"],[3,"formGroup"],[1,"row","align-items-end","g-2"],[1,"col-lg-3"],[1,"form-label"],["type","search","formControlName","name","placeholder","Search by name...",1,"form-control"],["type","search","formControlName","user_id","placeholder","Search by user ID...",1,"form-control"],[1,"col-lg-2"],["formControlName","status",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-lg-2","d-grid"],["type","button",1,"btn","btn-soft-secondary",3,"click"],[1,"mdi","mdi-filter-outline","align-middle"],[1,"col-lg-1","d-grid"],[1,"mdi","mdi-refresh"],["routerLink","/subadmin/add",1,"btn","btn-primary"],[1,"mdi","mdi-plus"],[1,"row","mt-3"],[1,"table-responsive"],[1,"table","table-bordered","table-hover"],[1,"table-light"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","row justify-content-md-between align-items-md-center mt-2",4,"ngIf"],["role","document"],["changeStatusModal",""],[3,"value"],[1,"d-flex","align-items-center"],[1,"avatar-sm","me-2"],[1,"avatar-title","rounded-circle","bg-soft-primary","text-primary"],[1,"mb-0"],[1,"badge","fs-6",3,"ngClass"],[1,"text-center"],["class","badge bg-success",4,"ngIf"],["class","badge bg-warning",4,"ngIf"],["role","group",1,"btn-group"],["type","button","title","Edit",1,"btn","btn-sm","btn-primary",3,"click"],[1,"mdi","mdi-pencil"],["type","button","title","Manage Permissions",1,"btn","btn-sm","btn-info",3,"click"],[1,"mdi","mdi-shield-account"],["type","button","title","Update Password",1,"btn","btn-sm","btn-warning",3,"click"],[1,"mdi","mdi-key"],["type","button","title","Change Status",1,"btn","btn-sm","btn-secondary",3,"click"],[1,"mdi","mdi-cog"],["type","button","title","Delete",1,"btn","btn-sm","btn-danger",3,"click"],[1,"mdi","mdi-delete"],[1,"badge","bg-success"],[1,"mdi","mdi-check"],[1,"badge","bg-warning"],[1,"mdi","mdi-alert"],["colspan","9",1,"text-center","py-4"],[1,"mdi","mdi-alert-circle-outline","mdi-24px","text-muted"],[1,"text-muted","mt-2"],[1,"row","justify-content-md-between","align-items-md-center","mt-2"],[1,"col-sm-12","col-md-5"],[1,"dataTables_info","mb-2"],[1,"text-md-right","float-md-end","pagination-rounded"],[3,"collectionSize","page","pageSize","pageChange"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],["for","status-select",1,"form-label"],["id","status-select",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[3,"ngValue"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-page-title",1),e.\u0275\u0275elementStart(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"form",7)(8,"div",8)(9,"div",9)(10,"label",10),e.\u0275\u0275text(11,"Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(12,"input",11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"div",9)(14,"label",10),e.\u0275\u0275text(15,"User ID"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(16,"input",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div",13)(18,"label",10),e.\u0275\u0275text(19,"Status"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"select",14)(21,"option",15),e.\u0275\u0275text(22,"All Status"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(23,A,2,2,"option",16),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(24,"div",17)(25,"button",18),e.\u0275\u0275listener("click",function(){return n.search()}),e.\u0275\u0275element(26,"i",19),e.\u0275\u0275text(27," Filter "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(28,"div",20)(29,"button",18),e.\u0275\u0275listener("click",function(){return n.reset()}),e.\u0275\u0275element(30,"i",21),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(31,"div",20)(32,"button",22),e.\u0275\u0275element(33,"i",23),e.\u0275\u0275text(34," Add "),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(35,"div",24)(36,"div",25)(37,"table",26)(38,"thead",27)(39,"tr")(40,"th"),e.\u0275\u0275text(41,"Sr No"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(42,"th"),e.\u0275\u0275text(43,"Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(44,"th"),e.\u0275\u0275text(45,"User ID"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(46,"th"),e.\u0275\u0275text(47,"Email"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(48,"th"),e.\u0275\u0275text(49,"Mobile"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(50,"th"),e.\u0275\u0275text(51,"Status"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(52,"th"),e.\u0275\u0275text(53,"Permissions"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(54,"th"),e.\u0275\u0275text(55,"Created Date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(56,"th"),e.\u0275\u0275text(57,"Actions"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(58,"tbody"),e.\u0275\u0275template(59,T,38,19,"tr",28),e.\u0275\u0275template(60,k,5,0,"tr",29),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(61,F,7,6,"div",30),e.\u0275\u0275elementEnd()()()()()()(),e.\u0275\u0275template(62,L,15,2,"ng-template",31,32,e.\u0275\u0275templateRefExtractor)),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("breadcrumbItems",n.breadCrumbItems),e.\u0275\u0275advance(6),e.\u0275\u0275property("formGroup",n.searchFormGroup),e.\u0275\u0275advance(16),e.\u0275\u0275property("ngForOf",n.statusList),e.\u0275\u0275advance(36),e.\u0275\u0275property("ngForOf",n.subAdminList),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0===n.subAdminList.length),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.total>0))},dependencies:[m.NgClass,m.NgForOf,m.NgIf,o._Y,o.YN,o.Kr,o.Fj,o.EJ,o.JJ,o.JL,o.On,o.sg,o.u,g.N9,v.V,c.rH,m.DatePipe],styles:[".avatar-sm[_ngcontent-%COMP%]{height:2.5rem;width:2.5rem}.avatar-title[_ngcontent-%COMP%]{align-items:center;background-color:#667eea;color:#fff;display:flex;font-weight:500;height:100%;justify-content:center;width:100%}.bg-soft-primary[_ngcontent-%COMP%]{background-color:#667eea2e!important;color:#667eea!important}.btn-group[_ngcontent-%COMP%]{gap:4px}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;text-transform:uppercase;font-size:12px;letter-spacing:.5px}"]}),r})();function D(r,a){1&r&&(e.\u0275\u0275elementStart(0,"div",10)(1,"div",11)(2,"span",12),e.\u0275\u0275text(3,"Loading..."),e.\u0275\u0275elementEnd()()())}function j(r,a){if(1&r){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"div",13)(2,"div",14)(3,"div",15),e.\u0275\u0275element(4,"i",16),e.\u0275\u0275elementStart(5,"h5",17),e.\u0275\u0275text(6,"Dashboard"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"span",18),e.\u0275\u0275text(8),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"div",19)(10,"div",20)(11,"input",21),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.permissions.dashboard=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"label",22),e.\u0275\u0275text(13,"Access Dashboard"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(14,"div",13)(15,"div",14)(16,"div",15),e.\u0275\u0275element(17,"i",23),e.\u0275\u0275elementStart(18,"h5",17),e.\u0275\u0275text(19,"Members Management"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(20,"button",24),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.toggleAll("members",!i.isAllSelected("members")))}),e.\u0275\u0275text(21),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(22,"div",19)(23,"div",2)(24,"div",25)(25,"div",20)(26,"input",21),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.permissions.members.view=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(27,"label",22),e.\u0275\u0275text(28,"View Member List"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(29,"div",25)(30,"div",20)(31,"input",21),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.permissions.members.kyc=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(32,"label",22),e.\u0275\u0275text(33,"KYC Requests"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(34,"div",25)(35,"div",20)(36,"input",21),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.permissions.members.accountClosure=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(37,"label",22),e.\u0275\u0275text(38,"Account Closure"),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275elementStart(39,"div",13)(40,"div",14)(41,"div",15),e.\u0275\u0275element(42,"i",26),e.\u0275\u0275elementStart(43,"h5",17),e.\u0275\u0275text(44,"Advisors"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(45,"button",24),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.toggleAll("advisors",!i.isAllSelected("advisors")))}),e.\u0275\u0275text(46),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(47,"div",19)(48,"div",2)(49,"div",27)(50,"div",20)(51,"input",21),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.permissions.advisors.view=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(52,"label",22),e.\u0275\u0275text(53,"View Advisors"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(54,"div",27)(55,"div",20)(56,"input",21),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.permissions.advisors.manage=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(57,"label",22),e.\u0275\u0275text(58,"Manage Advisors"),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275elementStart(59,"div",13)(60,"div",14)(61,"div",15),e.\u0275\u0275element(62,"i",28),e.\u0275\u0275elementStart(63,"h5",17),e.\u0275\u0275text(64,"Franchises"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(65,"button",24),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.toggleAll("franchises",!i.isAllSelected("franchises")))}),e.\u0275\u0275text(66),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(67,"div",19)(68,"div",2)(69,"div",27)(70,"div",20)(71,"input",21),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.permissions.franchises.view=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(72,"label",22),e.\u0275\u0275text(73,"View Franchises"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(74,"div",27)(75,"div",20)(76,"input",21),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.permissions.franchises.manage=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(77,"label",22),e.\u0275\u0275text(78,"Manage Franchises"),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275elementStart(79,"div",13)(80,"div",14)(81,"div",15),e.\u0275\u0275element(82,"i",29),e.\u0275\u0275elementStart(83,"h5",17),e.\u0275\u0275text(84,"Deposit Management"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(85,"button",24),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.toggleAll("deposits",!i.isAllSelected("deposits")))}),e.\u0275\u0275text(86),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(87,"div",19)(88,"div",2)(89,"div",25)(90,"div",20)(91,"input",21),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.permissions.deposits.compulsory=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(92,"label",22),e.\u0275\u0275text(93,"Compulsory Deposit"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(94,"div",25)(95,"div",20)(96,"input",21),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.permissions.deposits.recurring=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(97,"label",22),e.\u0275\u0275text(98,"Recurring Deposit"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(99,"div",25)(100,"div",20)(101,"input",21),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.permissions.deposits.fixed=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(102,"label",22),e.\u0275\u0275text(103,"Fixed Deposit"),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275elementStart(104,"div",13)(105,"div",14)(106,"div",15),e.\u0275\u0275element(107,"i",30),e.\u0275\u0275elementStart(108,"h5",17),e.\u0275\u0275text(109,"Pin Management"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(110,"button",24),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.toggleAll("pinManagement",!i.isAllSelected("pinManagement")))}),e.\u0275\u0275text(111),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(112,"div",19)(113,"div",2)(114,"div",25)(115,"div",20)(116,"input",21),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.permissions.pinManagement.add=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(117,"label",22),e.\u0275\u0275text(118,"Add Pins"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(119,"div",25)(120,"div",20)(121,"input",21),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.permissions.pinManagement.assigned=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(122,"label",22),e.\u0275\u0275text(123,"Assigned Pins"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(124,"div",25)(125,"div",20)(126,"input",21),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.permissions.pinManagement.fund=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(127,"label",22),e.\u0275\u0275text(128,"Fund Pins"),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275elementStart(129,"div",13)(130,"div",14)(131,"div",15),e.\u0275\u0275element(132,"i",31),e.\u0275\u0275elementStart(133,"h5",17),e.\u0275\u0275text(134,"Messages"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(135,"div",19)(136,"div",20)(137,"input",21),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.permissions.messages=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(138,"label",22),e.\u0275\u0275text(139,"Access Messages"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(140,"div",13)(141,"div",14)(142,"div",15),e.\u0275\u0275element(143,"i",32),e.\u0275\u0275elementStart(144,"h5",17),e.\u0275\u0275text(145,"Sahyog Card"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(146,"button",24),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.toggleAll("sahyogCard",!i.isAllSelected("sahyogCard")))}),e.\u0275\u0275text(147),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(148,"div",19)(149,"div",2)(150,"div",25)(151,"div",20)(152,"input",21),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.permissions.sahyogCard.cardList=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(153,"label",22),e.\u0275\u0275text(154,"Card List"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(155,"div",25)(156,"div",20)(157,"input",21),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.permissions.sahyogCard.requestNew=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(158,"label",22),e.\u0275\u0275text(159,"Request New Card"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(160,"div",25)(161,"div",20)(162,"input",21),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.permissions.sahyogCard.assignedCards=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(163,"label",22),e.\u0275\u0275text(164,"Assigned Cards"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(165,"div",25)(166,"div",20)(167,"input",21),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.permissions.sahyogCard.requestAmounts=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(168,"label",22),e.\u0275\u0275text(169,"Request Amounts"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(170,"div",25)(171,"div",20)(172,"input",21),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.permissions.sahyogCard.payableAmount=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(173,"label",22),e.\u0275\u0275text(174,"Payable Amount"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(175,"div",25)(176,"div",20)(177,"input",21),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.permissions.sahyogCard.transactions=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(178,"label",22),e.\u0275\u0275text(179,"Transactions"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(180,"div",25)(181,"div",20)(182,"input",21),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.permissions.sahyogCard.reports=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(183,"label",22),e.\u0275\u0275text(184,"Reports"),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275elementStart(185,"div",13)(186,"div",14)(187,"div",15),e.\u0275\u0275element(188,"i",33),e.\u0275\u0275elementStart(189,"h5",17),e.\u0275\u0275text(190,"Loan Management"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(191,"button",24),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.toggleAll("loanManagement",!i.isAllSelected("loanManagement")))}),e.\u0275\u0275text(192),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(193,"div",19)(194,"div",2)(195,"div",25)(196,"div",20)(197,"input",21),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.permissions.loanManagement.personalLoans=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(198,"label",22),e.\u0275\u0275text(199,"Personal Loans"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(200,"div",25)(201,"div",20)(202,"input",21),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.permissions.loanManagement.guaranteedLoans=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(203,"label",22),e.\u0275\u0275text(204,"Guaranteed Loans"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(205,"div",25)(206,"div",20)(207,"input",21),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.permissions.loanManagement.fdAgainstLoans=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(208,"label",22),e.\u0275\u0275text(209,"FD Against Loans"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(210,"div",25)(211,"div",20)(212,"input",21),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.permissions.loanManagement.payLoan=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(213,"label",22),e.\u0275\u0275text(214,"Pay Loan"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(215,"div",25)(216,"div",20)(217,"input",21),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.permissions.loanManagement.userTransactions=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(218,"label",22),e.\u0275\u0275text(219,"User Transactions"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(220,"div",25)(221,"div",20)(222,"input",21),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.permissions.loanManagement.adminTransactions=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(223,"label",22),e.\u0275\u0275text(224,"Admin Transactions"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(225,"div",25)(226,"div",20)(227,"input",21),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.permissions.loanManagement.reports=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(228,"label",22),e.\u0275\u0275text(229,"Reports"),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275elementStart(230,"div",13)(231,"div",14)(232,"div",15),e.\u0275\u0275element(233,"i",34),e.\u0275\u0275elementStart(234,"h5",17),e.\u0275\u0275text(235,"Other Modules"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(236,"div",19)(237,"div",2)(238,"div",25)(239,"div",20)(240,"input",21),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.permissions.shg=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(241,"label",22),e.\u0275\u0275text(242,"SHG"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(243,"div",25)(244,"div",20)(245,"input",21),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.permissions.careers=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(246,"label",22),e.\u0275\u0275text(247,"Careers"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(248,"div",25)(249,"div",20)(250,"input",21),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.permissions.awards=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(251,"label",22),e.\u0275\u0275text(252,"Awards"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(253,"div",25)(254,"div",20)(255,"input",21),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.permissions.paymentManagement=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(256,"label",22),e.\u0275\u0275text(257,"Payment Management"),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275elementStart(258,"div",13)(259,"div",14)(260,"div",15),e.\u0275\u0275element(261,"i",35),e.\u0275\u0275elementStart(262,"h5",17),e.\u0275\u0275text(263,"Settings"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(264,"button",24),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.toggleAll("settings",!i.isAllSelected("settings")))}),e.\u0275\u0275text(265),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(266,"div",19)(267,"div",2)(268,"div",27)(269,"div",20)(270,"input",21),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.permissions.settings.general=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(271,"label",22),e.\u0275\u0275text(272,"General Settings"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(273,"div",27)(274,"div",20)(275,"input",21),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.permissions.settings.fees=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(276,"label",22),e.\u0275\u0275text(277,"Member Fees"),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275elementStart(278,"div",13)(279,"div",14)(280,"div",15),e.\u0275\u0275element(281,"i",36),e.\u0275\u0275elementStart(282,"h5",17),e.\u0275\u0275text(283,"State Management"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(284,"button",24),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.toggleAll("stateManagement",!i.isAllSelected("stateManagement")))}),e.\u0275\u0275text(285),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(286,"div",19)(287,"div",2)(288,"div",25)(289,"div",20)(290,"input",21),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.permissions.stateManagement.states=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(291,"label",22),e.\u0275\u0275text(292,"States"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(293,"div",25)(294,"div",20)(295,"input",21),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.permissions.stateManagement.districts=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(296,"label",22),e.\u0275\u0275text(297,"Districts"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(298,"div",25)(299,"div",20)(300,"input",21),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.permissions.stateManagement.areas=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(301,"label",22),e.\u0275\u0275text(302,"Areas"),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275elementStart(303,"div",37)(304,"button",38),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.savePermissions())}),e.\u0275\u0275element(305,"i",39),e.\u0275\u0275text(306," Save Permissions "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(307,"button",40),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.cancel())}),e.\u0275\u0275element(308,"i",41),e.\u0275\u0275text(309," Cancel "),e.\u0275\u0275elementEnd()()()}if(2&r){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(7),e.\u0275\u0275property("ngClass",t.permissions.dashboard?"bg-success":"bg-secondary"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.permissions.dashboard?"Enabled":"Disabled"),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngModel",t.permissions.dashboard),e.\u0275\u0275advance(10),e.\u0275\u0275textInterpolate1(" ",t.isAllSelected("members")?"Deselect All":"Select All"," "),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngModel",t.permissions.members.view),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngModel",t.permissions.members.kyc),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngModel",t.permissions.members.accountClosure),e.\u0275\u0275advance(10),e.\u0275\u0275textInterpolate1(" ",t.isAllSelected("advisors")?"Deselect All":"Select All"," "),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngModel",t.permissions.advisors.view),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngModel",t.permissions.advisors.manage),e.\u0275\u0275advance(10),e.\u0275\u0275textInterpolate1(" ",t.isAllSelected("franchises")?"Deselect All":"Select All"," "),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngModel",t.permissions.franchises.view),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngModel",t.permissions.franchises.manage),e.\u0275\u0275advance(10),e.\u0275\u0275textInterpolate1(" ",t.isAllSelected("deposits")?"Deselect All":"Select All"," "),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngModel",t.permissions.deposits.compulsory),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngModel",t.permissions.deposits.recurring),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngModel",t.permissions.deposits.fixed),e.\u0275\u0275advance(10),e.\u0275\u0275textInterpolate1(" ",t.isAllSelected("pinManagement")?"Deselect All":"Select All"," "),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngModel",t.permissions.pinManagement.add),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngModel",t.permissions.pinManagement.assigned),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngModel",t.permissions.pinManagement.fund),e.\u0275\u0275advance(11),e.\u0275\u0275property("ngModel",t.permissions.messages),e.\u0275\u0275advance(10),e.\u0275\u0275textInterpolate1(" ",t.isAllSelected("sahyogCard")?"Deselect All":"Select All"," "),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngModel",t.permissions.sahyogCard.cardList),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngModel",t.permissions.sahyogCard.requestNew),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngModel",t.permissions.sahyogCard.assignedCards),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngModel",t.permissions.sahyogCard.requestAmounts),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngModel",t.permissions.sahyogCard.payableAmount),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngModel",t.permissions.sahyogCard.transactions),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngModel",t.permissions.sahyogCard.reports),e.\u0275\u0275advance(10),e.\u0275\u0275textInterpolate1(" ",t.isAllSelected("loanManagement")?"Deselect All":"Select All"," "),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngModel",t.permissions.loanManagement.personalLoans),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngModel",t.permissions.loanManagement.guaranteedLoans),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngModel",t.permissions.loanManagement.fdAgainstLoans),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngModel",t.permissions.loanManagement.payLoan),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngModel",t.permissions.loanManagement.userTransactions),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngModel",t.permissions.loanManagement.adminTransactions),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngModel",t.permissions.loanManagement.reports),e.\u0275\u0275advance(13),e.\u0275\u0275property("ngModel",t.permissions.shg),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngModel",t.permissions.careers),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngModel",t.permissions.awards),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngModel",t.permissions.paymentManagement),e.\u0275\u0275advance(10),e.\u0275\u0275textInterpolate1(" ",t.isAllSelected("settings")?"Deselect All":"Select All"," "),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngModel",t.permissions.settings.general),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngModel",t.permissions.settings.fees),e.\u0275\u0275advance(10),e.\u0275\u0275textInterpolate1(" ",t.isAllSelected("stateManagement")?"Deselect All":"Select All"," "),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngModel",t.permissions.stateManagement.states),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngModel",t.permissions.stateManagement.districts),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngModel",t.permissions.stateManagement.areas)}}let $=(()=>{class r{constructor(t,n,i,s){this.route=t,this.router=n,this.subadminService=i,this.toast=s,this.subAdminId=null,this.subAdminName="",this.loading=!0,this.permissions={dashboard:!0,members:{view:!1,kyc:!1,accountClosure:!1},advisors:{view:!1,manage:!1},franchises:{view:!1,manage:!1},deposits:{compulsory:!1,recurring:!1,fixed:!1},pinManagement:{add:!1,assigned:!1,fund:!1},messages:!1,sahyogCard:{cardList:!1,requestNew:!1,assignedCards:!1,requestAmounts:!1,payableAmount:!1,transactions:!1,reports:!1},giftCard:{add:!1,list:!1,distributor:!1,receive:!1},loanManagement:{personalLoans:!1,guaranteedLoans:!1,fdAgainstLoans:!1,payLoan:!1,userTransactions:!1,adminTransactions:!1,reports:!1},shg:!1,careers:!1,awards:!1,settings:{general:!1,fees:!1},stateManagement:{states:!1,districts:!1,areas:!1},paymentManagement:!1}}ngOnInit(){if(this.subAdminId=this.route.snapshot.paramMap.get("id"),!this.subAdminId)return this.toast.error("Invalid sub-admin ID","Error"),void this.router.navigate(["/subadmin/list"]);this.breadCrumbItems=[{label:"Sub-Admin Management"},{label:"Manage Permissions",active:!0}],this.loadSubAdminData(),this.loadPermissions()}loadSubAdminData(){this.subadminService.getSubAdmin(this.subAdminId).subscribe({next:t=>{t.success&&(this.subAdminName=t.data.name)},error:t=>{console.error("Error loading sub-admin:",t)}})}loadPermissions(){this.loading=!0,this.subadminService.getSubAdminPermissions(this.subAdminId).subscribe({next:t=>{t.success&&t.data?.permissions&&(this.permissions={...this.permissions,...t.data.permissions}),this.loading=!1},error:t=>{this.toast.error(t.error?.message||"Failed to load permissions","Error"),this.loading=!1}})}toggleAll(t,n){"object"==typeof this.permissions[t]&&!Array.isArray(this.permissions[t])&&Object.keys(this.permissions[t]).forEach(i=>{this.permissions[t][i]=n})}isAllSelected(t){return"object"==typeof this.permissions[t]&&!Array.isArray(this.permissions[t])&&Object.values(this.permissions[t]).every(n=>!0===n)}isAnySelected(t){return"object"==typeof this.permissions[t]&&!Array.isArray(this.permissions[t])&&Object.values(this.permissions[t]).some(n=>!0===n)}savePermissions(){this.subadminService.updateSubAdminPermissions(this.subAdminId,this.permissions).subscribe({next:t=>{t.success&&(this.toast.success("Permissions updated successfully","Success"),this.router.navigate(["/subadmin/list"]))},error:t=>{this.toast.error(t.error?.message||"Failed to update permissions","Error")}})}cancel(){this.router.navigate(["/subadmin/list"])}}return r.\u0275fac=function(t){return new(t||r)(e.\u0275\u0275directiveInject(c.gz),e.\u0275\u0275directiveInject(c.F0),e.\u0275\u0275directiveInject(_),e.\u0275\u0275directiveInject(b._W))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["app-subadmin-permissions"]],decls:14,vars:4,consts:[[1,"container-fluid"],["title","Manage Permissions",3,"breadcrumbItems"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],["role","alert",1,"alert","alert-info"],[1,"mdi","mdi-information-outline","me-2"],["class","text-center py-5",4,"ngIf"],[4,"ngIf"],[1,"text-center","py-5"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"permission-section"],[1,"section-header"],[1,"d-flex","align-items-center"],[1,"mdi","mdi-view-dashboard","mdi-24px","me-2","text-primary"],[1,"mb-0"],[1,"badge",3,"ngClass"],[1,"section-body"],[1,"form-check","form-switch"],["type","checkbox",1,"form-check-input",3,"ngModel","ngModelChange"],[1,"form-check-label"],[1,"mdi","mdi-account-group","mdi-24px","me-2","text-primary"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"col-md-4"],[1,"mdi","mdi-account-check","mdi-24px","me-2","text-primary"],[1,"col-md-6"],[1,"mdi","mdi-store","mdi-24px","me-2","text-primary"],[1,"mdi","mdi-wallet","mdi-24px","me-2","text-primary"],[1,"mdi","mdi-tag-multiple","mdi-24px","me-2","text-primary"],[1,"mdi","mdi-message-text","mdi-24px","me-2","text-primary"],[1,"mdi","mdi-credit-card","mdi-24px","me-2","text-primary"],[1,"mdi","mdi-cash-multiple","mdi-24px","me-2","text-primary"],[1,"mdi","mdi-dots-horizontal","mdi-24px","me-2","text-primary"],[1,"mdi","mdi-cog","mdi-24px","me-2","text-primary"],[1,"mdi","mdi-map-marker","mdi-24px","me-2","text-primary"],[1,"mt-4","d-flex","gap-2"],["type","button",1,"btn","btn-primary",3,"click"],[1,"mdi","mdi-content-save","me-1"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"mdi","mdi-close","me-1"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-page-title",1),e.\u0275\u0275elementStart(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),e.\u0275\u0275element(7,"i",7),e.\u0275\u0275text(8," Configure access permissions for "),e.\u0275\u0275elementStart(9,"strong"),e.\u0275\u0275text(10),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(11,". If Dashboard is disabled, the sub-admin will land on the first available page after login. "),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(12,D,4,0,"div",8),e.\u0275\u0275template(13,j,310,49,"div",9),e.\u0275\u0275elementEnd()()()()()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("breadcrumbItems",n.breadCrumbItems),e.\u0275\u0275advance(9),e.\u0275\u0275textInterpolate(n.subAdminName),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.loading),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.loading))},dependencies:[m.NgClass,m.NgIf,o.Wl,o.JJ,o.On,v.V],styles:[".permission-section[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:10px;padding:20px;margin-bottom:20px;border:1px solid #e9ecef;transition:all .3s ease}.permission-section[_ngcontent-%COMP%]:hover{box-shadow:0 4px 15px #667eea1a}.permission-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-bottom:15px;margin-bottom:15px;border-bottom:2px solid #667eea}.permission-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:600;color:#667eea;margin:0}.permission-section[_ngcontent-%COMP%]   .section-body[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]{padding-left:2.5rem;margin-bottom:1rem}.permission-section[_ngcontent-%COMP%]   .section-body[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{width:3rem;height:1.5rem;cursor:pointer}.permission-section[_ngcontent-%COMP%]   .section-body[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked{background-color:#667eea;border-color:#667eea}.permission-section[_ngcontent-%COMP%]   .section-body[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #667eea40}.permission-section[_ngcontent-%COMP%]   .section-body[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]{font-weight:500;color:#495057;cursor:pointer;padding-left:.5rem}.alert-info[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(102,126,234,.1) 0%,rgba(118,75,162,.1) 100%);border-color:#667eea4d;color:#667eea}"]}),r})();var U=l(3321);function B(r,a){1&r&&(e.\u0275\u0275elementStart(0,"div",52)(1,"small"),e.\u0275\u0275text(2,"Name is required"),e.\u0275\u0275elementEnd()())}function z(r,a){1&r&&(e.\u0275\u0275elementStart(0,"div",52)(1,"small"),e.\u0275\u0275text(2,"Valid 10-digit mobile number is required"),e.\u0275\u0275elementEnd()())}function G(r,a){1&r&&(e.\u0275\u0275elementStart(0,"div",52)(1,"small"),e.\u0275\u0275text(2,"Valid email is required"),e.\u0275\u0275elementEnd()())}function R(r,a){1&r&&(e.\u0275\u0275elementStart(0,"div",52)(1,"small"),e.\u0275\u0275text(2,"Valid 10-digit number required"),e.\u0275\u0275elementEnd()())}function J(r,a){if(1&r&&(e.\u0275\u0275elementStart(0,"option",41),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&r){const t=a.$implicit;e.\u0275\u0275property("ngValue",t._id),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.name)}}function W(r,a){if(1&r&&(e.\u0275\u0275elementStart(0,"option",41),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&r){const t=a.$implicit;e.\u0275\u0275property("ngValue",t._id),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.name)}}function q(r,a){if(1&r&&(e.\u0275\u0275elementStart(0,"option",41),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&r){const t=a.$implicit;e.\u0275\u0275property("ngValue",t._id),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.name)}}function Y(r,a){1&r&&(e.\u0275\u0275elementStart(0,"div",27)(1,"h5",7),e.\u0275\u0275text(2,"Security"),e.\u0275\u0275elementEnd()())}function H(r,a){1&r&&(e.\u0275\u0275elementStart(0,"div",52)(1,"small"),e.\u0275\u0275text(2,"Password is required and must be at least 8 characters"),e.\u0275\u0275elementEnd()())}function K(r,a){if(1&r&&(e.\u0275\u0275elementStart(0,"div",8)(1,"div",9)(2,"label",10),e.\u0275\u0275text(3,"Password "),e.\u0275\u0275elementStart(4,"span",11),e.\u0275\u0275text(5,"*"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(6,"input",53),e.\u0275\u0275elementStart(7,"small",54),e.\u0275\u0275text(8,"Password must include uppercase, lowercase, number, and special character."),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(9,H,3,0,"div",13),e.\u0275\u0275elementEnd()()),2&r){const t=e.\u0275\u0275nextContext();let n;e.\u0275\u0275advance(9),e.\u0275\u0275property("ngIf",(null==(n=t.subAdminForm.get("password"))?null:n.invalid)&&(null==(n=t.subAdminForm.get("password"))?null:n.touched))}}function X(r,a){1&r&&(e.\u0275\u0275elementStart(0,"div",52)(1,"small"),e.\u0275\u0275text(2,"Please confirm your password"),e.\u0275\u0275elementEnd()())}function Q(r,a){1&r&&(e.\u0275\u0275elementStart(0,"div",52)(1,"small"),e.\u0275\u0275text(2,"Passwords do not match"),e.\u0275\u0275elementEnd()())}function Z(r,a){if(1&r&&(e.\u0275\u0275elementStart(0,"div",8)(1,"div",9)(2,"label",10),e.\u0275\u0275text(3,"Confirm Password "),e.\u0275\u0275elementStart(4,"span",11),e.\u0275\u0275text(5,"*"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(6,"input",55),e.\u0275\u0275template(7,X,3,0,"div",13),e.\u0275\u0275template(8,Q,3,0,"div",13),e.\u0275\u0275elementEnd()()),2&r){const t=e.\u0275\u0275nextContext();let n,i;e.\u0275\u0275advance(7),e.\u0275\u0275property("ngIf",(null==(n=t.subAdminForm.get("confirmPassword"))?null:n.invalid)&&(null==(n=t.subAdminForm.get("confirmPassword"))?null:n.touched)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.subAdminForm.hasError("passwordMismatch")&&(null==(i=t.subAdminForm.get("confirmPassword"))?null:i.touched))}}let x=(()=>{class r{constructor(t,n,i,s,d,p){this.fb=t,this.subadminService=n,this.mastersService=i,this.route=s,this.router=d,this.toast=p,this.isEditMode=!1,this.subAdminId=null,this.states=[],this.districts=[],this.areas=[]}ngOnInit(){this.subAdminId=this.route.snapshot.paramMap.get("id"),this.isEditMode=!!this.subAdminId,this.breadCrumbItems=[{label:"Sub-Admin Management"},{label:this.isEditMode?"Edit Sub-Admin":"Add Sub-Admin",active:!0}],this.initForm(),this.loadStates(),this.isEditMode&&this.subAdminId&&this.loadSubAdminData()}initForm(){this.subAdminForm=this.fb.group({name:["",o.kI.required],email_id:["",[o.kI.email]],mobile_number:["",[o.kI.required,o.kI.pattern(/^[0-9]{10}$/)]],whatsapp_no:[null,[o.kI.pattern(/^[0-9]{10}$/)]],date_of_birth:[""],gender:["Male",o.kI.required],guardian_name:[null],guardian_relation:[null],state:[null],district:[null],area:[null],payment_method:["cash",o.kI.required],password:["",this.isEditMode?[]:[o.kI.required,o.kI.minLength(8)]],confirmPassword:["",this.isEditMode?[]:[o.kI.required]]},{validators:this.passwordMatchValidator}),this.subAdminForm.get("state")?.valueChanges.subscribe(t=>{t?this.loadDistricts(t):(this.districts=[],this.areas=[]),this.subAdminForm.patchValue({district:null,area:null})}),this.subAdminForm.get("district")?.valueChanges.subscribe(t=>{t?this.loadAreas(t):this.areas=[],this.subAdminForm.patchValue({area:null})})}loadStates(){this.mastersService.getStates().subscribe({next:t=>{t.success&&(this.states=t.data)},error:t=>{console.error("Error loading states:",t)}})}loadDistricts(t){this.mastersService.districts(t).subscribe({next:n=>{n.success&&(this.districts=n.data)},error:n=>{console.error("Error loading districts:",n)}})}loadAreas(t){this.mastersService.areas(t).subscribe({next:n=>{n.success&&(this.areas=n.data)},error:n=>{console.error("Error loading areas:",n)}})}loadSubAdminData(){this.subadminService.getSubAdmin(this.subAdminId).subscribe({next:t=>{if(t.success){const n=t.data;n.state&&this.loadDistricts(n.state._id||n.state),n.district&&setTimeout(()=>{this.loadAreas(n.district._id||n.district)},500),this.subAdminForm.patchValue({name:n.name,email_id:n.email_id,mobile_number:n.mobile_number,whatsapp_no:n.whatsapp_no,date_of_birth:n.date_of_birth?new Date(n.date_of_birth).toISOString().split("T")[0]:"",gender:n.gender,guardian_name:n.guardian_name,guardian_relation:n.guardian_relation,state:n.state?._id||n.state,district:n.district?._id||n.district,area:n.area?._id||n.area,payment_method:n.payment_method})}},error:t=>{this.toast.error(t.error?.message||"Failed to load sub-admin data","Error"),this.router.navigate(["/subadmin/list"])}})}onSubmit(){if(this.subAdminForm.invalid)return void Object.keys(this.subAdminForm.controls).forEach(i=>{this.subAdminForm.get(i)?.markAsTouched()});const t={...this.subAdminForm.value};delete t.confirmPassword,this.isEditMode&&!t.password&&delete t.password,(this.isEditMode?this.subadminService.updateSubAdmin(this.subAdminId,t):this.subadminService.createSubAdmin(t)).subscribe({next:i=>{i.success&&(this.toast.success(this.isEditMode?"Sub-admin updated successfully":"Sub-admin created successfully","Success"),this.router.navigate(["/subadmin/list"]))},error:i=>{this.toast.error(i.error?.message||"Operation failed","Error")}})}passwordMatchValidator(t){const n=t.get("password")?.value,i=t.get("confirmPassword")?.value;return n&&i&&n!==i?(t.get("confirmPassword")?.setErrors({passwordMismatch:!0}),{passwordMismatch:!0}):null}cancel(){this.router.navigate(["/subadmin/list"])}}return r.\u0275fac=function(t){return new(t||r)(e.\u0275\u0275directiveInject(o.qu),e.\u0275\u0275directiveInject(_),e.\u0275\u0275directiveInject(U.R),e.\u0275\u0275directiveInject(c.gz),e.\u0275\u0275directiveInject(c.F0),e.\u0275\u0275directiveInject(b._W))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["app-subadmin-add"]],decls:137,vars:20,consts:[[1,"container-fluid"],[3,"title","breadcrumbItems"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"card-title","mb-3"],[1,"col-md-6"],[1,"mb-3"],[1,"form-label"],[1,"text-danger"],["type","text","formControlName","name","placeholder","Enter full name",1,"form-control"],["class","text-danger mt-1",4,"ngIf"],["type","text","formControlName","mobile_number","placeholder","10-digit mobile number","maxlength","10",1,"form-control"],["type","email","formControlName","email_id","placeholder","Enter email address",1,"form-control"],[1,"col-md-6","display-none"],["type","text","formControlName","whatsapp_no","placeholder","10-digit WhatsApp number","maxlength","10",1,"form-control"],["type","date","formControlName","date_of_birth",1,"form-control"],["formControlName","gender",1,"form-control"],["value","Male"],["value","Female"],["value","Other"],[1,"col-md-4","display-none"],["formControlName","payment_method",1,"form-control"],["value","cash"],["value","online"],[1,"col-12","mt-3"],["type","text","formControlName","guardian_name","placeholder","Enter guardian name",1,"form-control"],["formControlName","guardian_relation",1,"form-control"],["value",""],["value","Father"],["value","Mother"],["value","Brother"],["value","Sister"],["value","Wife"],["value","Husband"],["value","Son"],["value","Daughter"],[1,"col-12","mt-3","display-none"],["formControlName","state",1,"form-control"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["formControlName","district",1,"form-control",3,"disabled"],["formControlName","area",1,"form-control",3,"disabled"],["class","col-12 mt-3",4,"ngIf"],["class","col-md-6",4,"ngIf"],[1,"d-flex","gap-2"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"mdi","mdi-content-save","me-1"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"mdi","mdi-close","me-1"],[1,"text-danger","mt-1"],["type","password","formControlName","password","placeholder","Enter password (min 8 characters)",1,"form-control"],[1,"text-muted"],["type","password","formControlName","confirmPassword","placeholder","Re-enter password",1,"form-control"]],template:function(t,n){if(1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-page-title",1),e.\u0275\u0275elementStart(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"form",6),e.\u0275\u0275listener("ngSubmit",function(){return n.onSubmit()}),e.\u0275\u0275elementStart(7,"div",2)(8,"div",3)(9,"h5",7),e.\u0275\u0275text(10,"Personal Information"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(11,"div",8)(12,"div",9)(13,"label",10),e.\u0275\u0275text(14,"Full Name "),e.\u0275\u0275elementStart(15,"span",11),e.\u0275\u0275text(16,"*"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(17,"input",12),e.\u0275\u0275template(18,B,3,0,"div",13),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(19,"div",8)(20,"div",9)(21,"label",10),e.\u0275\u0275text(22,"Mobile Number "),e.\u0275\u0275elementStart(23,"span",11),e.\u0275\u0275text(24,"*"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(25,"input",14),e.\u0275\u0275template(26,z,3,0,"div",13),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(27,"div",8)(28,"div",9)(29,"label",10),e.\u0275\u0275text(30,"Email Address"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(31,"input",15),e.\u0275\u0275template(32,G,3,0,"div",13),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(33,"div",16)(34,"div",9)(35,"label",10),e.\u0275\u0275text(36,"WhatsApp Number"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(37,"input",17),e.\u0275\u0275template(38,R,3,0,"div",13),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(39,"div",8)(40,"div",9)(41,"label",10),e.\u0275\u0275text(42,"Date of Birth"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(43,"input",18),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(44,"div",8)(45,"div",9)(46,"label",10),e.\u0275\u0275text(47,"Gender "),e.\u0275\u0275elementStart(48,"span",11),e.\u0275\u0275text(49,"*"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(50,"select",19)(51,"option",20),e.\u0275\u0275text(52,"Male"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(53,"option",21),e.\u0275\u0275text(54,"Female"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(55,"option",22),e.\u0275\u0275text(56,"Other"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(57,"div",23)(58,"div",9)(59,"label",10),e.\u0275\u0275text(60,"Payment Method "),e.\u0275\u0275elementStart(61,"span",11),e.\u0275\u0275text(62,"*"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(63,"select",24)(64,"option",25),e.\u0275\u0275text(65,"Cash"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(66,"option",26),e.\u0275\u0275text(67,"Online"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(68,"div",27)(69,"h5",7),e.\u0275\u0275text(70,"Guardian Information (Optional)"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(71,"div",8)(72,"div",9)(73,"label",10),e.\u0275\u0275text(74,"Guardian Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(75,"input",28),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(76,"div",8)(77,"div",9)(78,"label",10),e.\u0275\u0275text(79,"Guardian Relation"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(80,"select",29)(81,"option",30),e.\u0275\u0275text(82,"Select Relation"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(83,"option",31),e.\u0275\u0275text(84,"Father"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(85,"option",32),e.\u0275\u0275text(86,"Mother"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(87,"option",33),e.\u0275\u0275text(88,"Brother"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(89,"option",34),e.\u0275\u0275text(90,"Sister"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(91,"option",35),e.\u0275\u0275text(92,"Wife"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(93,"option",36),e.\u0275\u0275text(94,"Husband"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(95,"option",37),e.\u0275\u0275text(96,"Son"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(97,"option",38),e.\u0275\u0275text(98,"Daughter"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(99,"div",39)(100,"h5",7),e.\u0275\u0275text(101,"Location Information (Optional)"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(102,"div",23)(103,"div",9)(104,"label",10),e.\u0275\u0275text(105,"State"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(106,"select",40)(107,"option",41),e.\u0275\u0275text(108,"Select State"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(109,J,2,2,"option",42),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(110,"div",23)(111,"div",9)(112,"label",10),e.\u0275\u0275text(113,"District"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(114,"select",43)(115,"option",41),e.\u0275\u0275text(116,"Select District"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(117,W,2,2,"option",42),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(118,"div",23)(119,"div",9)(120,"label",10),e.\u0275\u0275text(121,"Area"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(122,"select",44)(123,"option",41),e.\u0275\u0275text(124,"Select Area"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(125,q,2,2,"option",42),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(126,Y,3,0,"div",45),e.\u0275\u0275template(127,K,10,1,"div",46),e.\u0275\u0275template(128,Z,9,2,"div",46),e.\u0275\u0275elementStart(129,"div",27)(130,"div",47)(131,"button",48),e.\u0275\u0275element(132,"i",49),e.\u0275\u0275text(133),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(134,"button",50),e.\u0275\u0275listener("click",function(){return n.cancel()}),e.\u0275\u0275element(135,"i",51),e.\u0275\u0275text(136," Cancel "),e.\u0275\u0275elementEnd()()()()()()()()()()),2&t){let i,s,d,p,C,M;e.\u0275\u0275advance(1),e.\u0275\u0275property("title",n.isEditMode?"Edit Sub-Admin":"Add Sub-Admin")("breadcrumbItems",n.breadCrumbItems),e.\u0275\u0275advance(5),e.\u0275\u0275property("formGroup",n.subAdminForm),e.\u0275\u0275advance(12),e.\u0275\u0275property("ngIf",(null==(i=n.subAdminForm.get("name"))?null:i.invalid)&&(null==(i=n.subAdminForm.get("name"))?null:i.touched)),e.\u0275\u0275advance(8),e.\u0275\u0275property("ngIf",(null==(s=n.subAdminForm.get("mobile_number"))?null:s.invalid)&&(null==(s=n.subAdminForm.get("mobile_number"))?null:s.touched)),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",(null==(d=n.subAdminForm.get("email_id"))?null:d.invalid)&&(null==(d=n.subAdminForm.get("email_id"))?null:d.touched)),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",(null==(p=n.subAdminForm.get("whatsapp_no"))?null:p.invalid)&&(null==(p=n.subAdminForm.get("whatsapp_no"))?null:p.touched)),e.\u0275\u0275advance(69),e.\u0275\u0275property("ngValue",null),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",n.states),e.\u0275\u0275advance(5),e.\u0275\u0275property("disabled",!(null!=(C=n.subAdminForm.get("state"))&&C.value)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngValue",null),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",n.districts),e.\u0275\u0275advance(5),e.\u0275\u0275property("disabled",!(null!=(M=n.subAdminForm.get("district"))&&M.value)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngValue",null),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",n.areas),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.isEditMode),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.isEditMode),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.isEditMode),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",n.subAdminForm.invalid),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",n.isEditMode?"Update Sub-Admin":"Create Sub-Admin"," ")}},dependencies:[m.NgForOf,m.NgIf,o._Y,o.YN,o.Kr,o.Fj,o.EJ,o.JJ,o.JL,o.nD,o.sg,o.u,v.V],styles:[".card-title[_ngcontent-%COMP%]{color:#667eea;font-weight:600;border-bottom:2px solid #667eea;padding-bottom:8px}.form-label[_ngcontent-%COMP%]{font-weight:500;color:#495057;margin-bottom:.5rem}.text-danger[_ngcontent-%COMP%]{font-size:.875rem}.display-none[_ngcontent-%COMP%]{display:none!important}"]}),r})();const ee=[{path:"list",component:N},{path:"add",component:x},{path:"edit/:id",component:x},{path:"permissions/:id",component:$}];let te=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.\u0275\u0275defineNgModule({type:r}),r.\u0275inj=e.\u0275\u0275defineInjector({imports:[c.Bz.forChild(ee),c.Bz]}),r})();var f=l(9668),ne=l(1819);let ie=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.\u0275\u0275defineNgModule({type:r}),r.\u0275inj=e.\u0275\u0275defineInjector({imports:[m.CommonModule,f.v,ne.y]}),r})(),se=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.\u0275\u0275defineNgModule({type:r}),r.\u0275inj=e.\u0275\u0275defineInjector({imports:[m.CommonModule,o.u5,o.UX,g.IJ,E.A0,f.v,te,ie]}),r})()}}]);