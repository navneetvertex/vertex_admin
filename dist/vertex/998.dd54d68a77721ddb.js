"use strict";(self.webpackChunkskote=self.webpackChunkskote||[]).push([[998],{7998:(Ut,C,p)=>{p.r(C),p.d(C,{LoanModule:()=>Bt});var m=p(6895),l=p(4006),f=p(9158),D=p(5226),S=p.n(D),V=p(5933),e=p(4650),u=p(2340),j=p(529);let x=(()=>{class n{constructor(t){this.http=t}getLoanList(t=0,a=10,r){return this.http.get(`${u.N.api_url}loans?${r}&page=${t}&limit=${a}`)}updateLoanStatus(t,a){return this.http.put(`${u.N.api_url}loans/${t}`,a)}getUserTransaction(t=0,a=10,r){return this.http.get(`${u.N.api_url}loans/user-transanction?${r}&page=${t}&limit=${a}`)}getAdminTransaction(t=0,a=10,r){return this.http.get(`${u.N.api_url}loans/admin-transanction?${r}&page=${t}&limit=${a}`)}getAllUserActiveLoans(t){return this.http.get(`${u.N.api_url}loans/getAllUserActiveLoans/${t}`)}getTotalPaymentAmount(t){return this.http.get(`${u.N.api_url}loans/getTotalPaymentAmount/${t}`)}recordPayment(t){return this.http.post(`${u.N.api_url}loans/record-payment`,t)}getLoanSchedule(t){return this.http.get(`${u.N.api_url}loans/schedule/${t}`)}getPersonalLoanSchedule(t){return this.http.get(`${u.N.api_url}loans/personal/schedule/${t}`)}getAllUsersLoanReport(t={}){let a=new URLSearchParams;return Object.keys(t).forEach(r=>{null!=t[r]&&""!==t[r]&&a.append(r,t[r].toString())}),this.http.get(`${u.N.api_url}loans/reports/all-users?${a.toString()}`)}getLoanComprehensiveReport(t){return this.http.get(`${u.N.api_url}loans/reports/comprehensive/${t}`)}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275inject(j.eN))},n.\u0275prov=e.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var g=p(9061),$=p(9878),h=p(9234);function O(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"option",30),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=o.$implicit;e.\u0275\u0275property("ngValue",t),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t)}}function B(n,o){1&n&&(e.\u0275\u0275elementStart(0,"div",31),e.\u0275\u0275element(1,"img",32),e.\u0275\u0275elementStart(2,"p",33),e.\u0275\u0275text(3,"No Loan found in the current filter."),e.\u0275\u0275elementEnd()())}function z(n,o){1&n&&(e.\u0275\u0275elementStart(0,"th"),e.\u0275\u0275text(1,"Guarantor"),e.\u0275\u0275elementEnd())}function U(n,o){1&n&&e.\u0275\u0275element(0,"i",51)}function J(n,o){1&n&&e.\u0275\u0275element(0,"i",52)}function K(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"span",48),e.\u0275\u0275text(1),e.\u0275\u0275elementStart(2,"strong"),e.\u0275\u0275text(3,"Guarantor 1"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(4," \xa0 "),e.\u0275\u0275template(5,U,1,0,"i",49),e.\u0275\u0275template(6,J,1,0,"i",50),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275property("ngClass",null!=t&&t.guarantor_1_approved?"text-success":"text-danger"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate2("",null==t||null==t.guarantor_1[0]?null:t.guarantor_1[0].name," (",null==t||null==t.guarantor_1[0]?null:t.guarantor_1[0].user_id,") - "),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",null==t?null:t.guarantor_1_approved),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!(null!=t&&t.guarantor_1_approved))}}function Y(n,o){1&n&&e.\u0275\u0275element(0,"i",51)}function H(n,o){1&n&&e.\u0275\u0275element(0,"i",52)}function W(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"span",48),e.\u0275\u0275text(1),e.\u0275\u0275elementStart(2,"strong"),e.\u0275\u0275text(3,"Guarantor 2"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(4," \xa0 "),e.\u0275\u0275template(5,Y,1,0,"i",49),e.\u0275\u0275template(6,H,1,0,"i",50),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275property("ngClass",null!=t&&t.guarantor_2_approved?"text-success":"text-danger"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate2("",null==t||null==t.guarantor_2[0]?null:t.guarantor_2[0].name," (",null==t||null==t.guarantor_2[0]?null:t.guarantor_2[0].user_id,") - "),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",null==t?null:t.guarantor_2_approved),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!(null!=t&&t.guarantor_2_approved))}}function Q(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"td"),e.\u0275\u0275template(1,K,7,5,"span",47),e.\u0275\u0275element(2,"br"),e.\u0275\u0275template(3,W,7,5,"span",47),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0!==(null==t||null==t.guarantor_1?null:t.guarantor_1.length)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",0!==(null==t||null==t.guarantor_2?null:t.guarantor_2.length))}}const X=function(n,o,t,a){return{"badge-soft-primary":n,"badge-soft-warning":o,"badge-soft-danger":t,"badge-soft-secondary":a}};function Z(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"a",53),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction4(2,X,"Approved"===t.status||"Completed"===t.status,"Requested"===t.status,"Rejected"===t.status||"Defaulted"===t.status,"Pending"===t.status)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.status," ")}}function ee(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li",54),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext().$implicit,i=e.\u0275\u0275nextContext(2),s=e.\u0275\u0275reference(45);return e.\u0275\u0275resetView(i.openLoanModal(s,r))}),e.\u0275\u0275elementStart(1,"a",55),e.\u0275\u0275element(2,"i",56),e.\u0275\u0275elementEnd()()}}function te(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li",57)(1,"a",58),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext().$implicit,i=e.\u0275\u0275nextContext(2),s=e.\u0275\u0275reference(47);return e.\u0275\u0275resetView(i.viewGuaranteedLoan(s,r))}),e.\u0275\u0275element(2,"i",59),e.\u0275\u0275elementEnd()()}}function ne(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li",57)(1,"a",58),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext().$implicit,i=e.\u0275\u0275nextContext(2),s=e.\u0275\u0275reference(47);return e.\u0275\u0275resetView(i.viewPersonalLoan(s,r))}),e.\u0275\u0275element(2,"i",59),e.\u0275\u0275elementEnd()()}}function ae(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"tr")(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td"),e.\u0275\u0275text(4),e.\u0275\u0275element(5,"br"),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"td"),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"td"),e.\u0275\u0275text(11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"td"),e.\u0275\u0275text(13),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"td"),e.\u0275\u0275text(15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"td"),e.\u0275\u0275text(17),e.\u0275\u0275pipe(18,"date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"td"),e.\u0275\u0275text(20),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(21,Q,4,2,"td",36),e.\u0275\u0275elementStart(22,"td"),e.\u0275\u0275template(23,Z,2,7,"a",43),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"td")(25,"ul",44),e.\u0275\u0275template(26,ee,3,0,"li",45),e.\u0275\u0275template(27,te,3,0,"li",46),e.\u0275\u0275template(28,ne,3,0,"li",46),e.\u0275\u0275elementEnd()()()),2&n){const t=o.$implicit,a=o.index,r=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate((r.page-1)*r.pageSize+a+1),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.loan_id," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" Requested Date: ",e.\u0275\u0275pipeBind1(7,16,t.created_date)," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate2("",t.user.name," (",t.user.user_id,") "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("\u20b9",t.requested_loan_amount,""),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate2("",t.duration," ","Daily"===t.interval?"day(s)":"month(s)"," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.interval),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(18,18,t.start_date)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.purpose),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Personal"!==r.loanType),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.status),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf","Pending"===t.status),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Pending"!==t.status&&"Rejected"!==t.status&&"Garanteed"===t.loan_type),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Pending"!==t.status&&"Rejected"!==t.status&&"Personal"===t.loan_type)}}function re(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",34)(1,"table",35)(2,"thead")(3,"tr")(4,"th"),e.\u0275\u0275text(5,"Sr No"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"th"),e.\u0275\u0275text(7,"Loan Number"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"th"),e.\u0275\u0275text(9,"User"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"th"),e.\u0275\u0275text(11,"Loan Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"th"),e.\u0275\u0275text(13,"Duration"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"th"),e.\u0275\u0275text(15,"EMI Type"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"th"),e.\u0275\u0275text(17,"Start Date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"th"),e.\u0275\u0275text(19,"Purpose"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(20,z,2,0,"th",36),e.\u0275\u0275elementStart(21,"th"),e.\u0275\u0275text(22,"Status"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"th"),e.\u0275\u0275text(24,"Action"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(25,"tbody"),e.\u0275\u0275template(26,ae,29,20,"tr",37),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(27,"div",38)(28,"div",39)(29,"div",40),e.\u0275\u0275text(30,"Showing "),e.\u0275\u0275elementStart(31,"b"),e.\u0275\u0275text(32),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(33),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(34,"div",39)(35,"div",41)(36,"ngb-pagination",42),e.\u0275\u0275listener("pageChange",function(r){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.page=r)})("pageChange",function(r){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.pageChange(r))}),e.\u0275\u0275elementEnd()()()()()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(20),e.\u0275\u0275property("ngIf","Personal"!==t.loanType),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngForOf",t.loanList),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate((t.page-1)*t.pageSize+1),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate2(" to ",t.findPageShowing()," of ",t.total," entries "),e.\u0275\u0275advance(3),e.\u0275\u0275property("collectionSize",t.total)("page",t.page)("pageSize",t.pageSize)}}function oe(n,o){1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Status is required."),e.\u0275\u0275elementEnd())}function le(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div",78),e.\u0275\u0275template(1,oe,2,0,"small",36),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(2);let a;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(a=t.statusFormGroup.get("status"))||null==a.errors?null:a.errors.required)}}function ie(n,o){1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Rejected reason is required."),e.\u0275\u0275elementEnd())}function se(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div",78),e.\u0275\u0275template(1,ie,2,0,"small",36),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(3);let a;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(a=t.statusFormGroup.get("rejected_reason"))||null==a.errors?null:a.errors.required)}}function de(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div",65)(1,"label",79),e.\u0275\u0275text(2,"Rejected Reason"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"select",80)(4,"option",12),e.\u0275\u0275text(5,"Select reason"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"option",81),e.\u0275\u0275text(7,"Insufficient funds"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"option",82),e.\u0275\u0275text(9,"Credit score too low"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"option",83),e.\u0275\u0275text(11,"Unverifiable income"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(12,se,2,1,"div",72),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(2);let a;e.\u0275\u0275advance(12),e.\u0275\u0275property("ngIf",(null==(a=t.statusFormGroup.get("rejected_reason"))?null:a.touched)&&(null==(a=t.statusFormGroup.get("rejected_reason"))?null:a.invalid))}}function me(n,o){1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Approved Loan Amount is required."),e.\u0275\u0275elementEnd())}function pe(n,o){1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Enter a valid number."),e.\u0275\u0275elementEnd())}function ce(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div",78),e.\u0275\u0275template(1,me,2,0,"small",36),e.\u0275\u0275template(2,pe,2,0,"small",36),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(3);let a,r;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(a=t.statusFormGroup.get("requested_loan_amount"))||null==a.errors?null:a.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(r=t.statusFormGroup.get("requested_loan_amount"))||null==r.errors?null:r.errors.pattern)}}function ue(n,o){1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Approved Loan Amount is required."),e.\u0275\u0275elementEnd())}function _e(n,o){1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Enter a valid number."),e.\u0275\u0275elementEnd())}function ge(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div",78),e.\u0275\u0275template(1,ue,2,0,"small",36),e.\u0275\u0275template(2,_e,2,0,"small",36),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(3);let a,r;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(a=t.statusFormGroup.get("approved_loan_amount"))||null==a.errors?null:a.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(r=t.statusFormGroup.get("approved_loan_amount"))||null==r.errors?null:r.errors.pattern)}}function ve(n,o){1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Interest Rate is required."),e.\u0275\u0275elementEnd())}function fe(n,o){1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Enter a valid number (e.g. 5, 7.25)."),e.\u0275\u0275elementEnd())}function xe(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div",78),e.\u0275\u0275template(1,ve,2,0,"small",36),e.\u0275\u0275template(2,fe,2,0,"small",36),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(3);let a,r;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(a=t.statusFormGroup.get("interest_rate"))||null==a.errors?null:a.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(r=t.statusFormGroup.get("interest_rate"))||null==r.errors?null:r.errors.pattern)}}function he(n,o){1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Start Date is required."),e.\u0275\u0275elementEnd())}function Se(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div",78),e.\u0275\u0275template(1,he,2,0,"small",36),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(3);let a;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(a=t.statusFormGroup.get("start_date"))||null==a.errors?null:a.errors.required)}}function ye(n,o){1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Penalty is required."),e.\u0275\u0275elementEnd())}function be(n,o){1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Enter a valid number (e.g. 2, 3.5)."),e.\u0275\u0275elementEnd())}function Ce(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div",78),e.\u0275\u0275template(1,ye,2,0,"small",36),e.\u0275\u0275template(2,be,2,0,"small",36),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(3);let a,r;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(a=t.statusFormGroup.get("penalty"))||null==a.errors?null:a.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(r=t.statusFormGroup.get("penalty"))||null==r.errors?null:r.errors.pattern)}}function Ee(n,o){1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Indirect referral amount is required."),e.\u0275\u0275elementEnd())}function Ie(n,o){1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Must be at least 0."),e.\u0275\u0275elementEnd())}function Le(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div",78),e.\u0275\u0275template(1,Ee,2,0,"small",36),e.\u0275\u0275template(2,Ie,2,0,"small",36),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(3);let a,r;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(a=t.statusFormGroup.get("franchise_refer_per"))||null==a.errors?null:a.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(r=t.statusFormGroup.get("franchise_refer_per"))||null==r.errors?null:r.errors.min)}}function Te(n,o){1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Indirect referral amount is required."),e.\u0275\u0275elementEnd())}function Re(n,o){1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Must be at least 0."),e.\u0275\u0275elementEnd())}function Fe(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div",78),e.\u0275\u0275template(1,Te,2,0,"small",36),e.\u0275\u0275template(2,Re,2,0,"small",36),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(3);let a,r;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(a=t.statusFormGroup.get("indirect_refer_per"))||null==a.errors?null:a.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(r=t.statusFormGroup.get("indirect_refer_per"))||null==r.errors?null:r.errors.min)}}function Pe(n,o){1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Direct referral % is required."),e.\u0275\u0275elementEnd())}function we(n,o){1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Must be at least 0."),e.\u0275\u0275elementEnd())}function qe(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div",78),e.\u0275\u0275template(1,Pe,2,0,"small",36),e.\u0275\u0275template(2,we,2,0,"small",36),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(3);let a,r;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(a=t.statusFormGroup.get("direct_refer_per"))||null==a.errors?null:a.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(r=t.statusFormGroup.get("direct_refer_per"))||null==r.errors?null:r.errors.min)}}function ke(n,o){if(1&n&&e.\u0275\u0275element(0,"img",108),2&n){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275propertyInterpolate("src",t.uploadedChequeProof,e.\u0275\u0275sanitizeUrl)}}function Ge(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",106),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext();const r=e.\u0275\u0275reference(45);return e.\u0275\u0275resetView(r.click())}),e.\u0275\u0275template(1,ke,1,1,"img",107),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.uploadedChequeProof)}}function Me(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",2)(1,"div",84)(2,"label",85),e.\u0275\u0275text(3,"Requested Loan Amount (\u20b9)"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(4,"input",86),e.\u0275\u0275template(5,ce,3,2,"div",72),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",84)(7,"label",87),e.\u0275\u0275text(8,"Approved Loan Amount (\u20b9)"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(9,"input",88),e.\u0275\u0275template(10,ge,3,2,"div",72),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",84)(12,"label",89),e.\u0275\u0275text(13,"Interest Rate (%)"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(14,"input",90),e.\u0275\u0275template(15,xe,3,2,"div",72),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"div",84)(17,"label",91),e.\u0275\u0275text(18,"Start Date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(19,"input",92),e.\u0275\u0275template(20,Se,2,1,"div",72),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"div",84)(22,"label",93),e.\u0275\u0275text(23,"Penalty (\u20b9)"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(24,"input",94),e.\u0275\u0275template(25,Ce,3,2,"div",72),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"div",95)(27,"label",96),e.\u0275\u0275text(28,"Franchise Referral %"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(29,"input",97),e.\u0275\u0275template(30,Le,3,2,"div",72),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(31,"div",95)(32,"label",98),e.\u0275\u0275text(33,"Indirect Referral %"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(34,"input",99),e.\u0275\u0275template(35,Fe,3,2,"div",72),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(36,"div",95)(37,"label",100),e.\u0275\u0275text(38,"Direct Referral %"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(39,"input",101),e.\u0275\u0275template(40,qe,3,2,"div",72),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(41,"div",95)(42,"label",102),e.\u0275\u0275text(43,"Cheque Proof"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(44,"input",103,104),e.\u0275\u0275listener("change",function(r){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(i.onFileSelected(r,"chequeProof"))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(46,Ge,2,1,"div",105),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext(2);let a,r,i,s,d,c,_,v;e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(a=t.statusFormGroup.get("requested_loan_amount"))?null:a.touched)&&(null==(a=t.statusFormGroup.get("requested_loan_amount"))?null:a.invalid)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(r=t.statusFormGroup.get("approved_loan_amount"))?null:r.touched)&&(null==(r=t.statusFormGroup.get("approved_loan_amount"))?null:r.invalid)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(i=t.statusFormGroup.get("interest_rate"))?null:i.touched)&&(null==(i=t.statusFormGroup.get("interest_rate"))?null:i.invalid)),e.\u0275\u0275advance(4),e.\u0275\u0275property("min",t.minDate)("max",t.maxDate)("value",t.minDate),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==(s=t.statusFormGroup.get("start_date"))?null:s.touched)&&(null==(s=t.statusFormGroup.get("start_date"))?null:s.invalid)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(d=t.statusFormGroup.get("penalty"))?null:d.touched)&&(null==(d=t.statusFormGroup.get("penalty"))?null:d.invalid)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(c=t.statusFormGroup.get("franchise_refer_per"))?null:c.touched)&&(null==(c=t.statusFormGroup.get("franchise_refer_per"))?null:c.invalid)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(_=t.statusFormGroup.get("indirect_refer_per"))?null:_.touched)&&(null==(_=t.statusFormGroup.get("indirect_refer_per"))?null:_.invalid)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(v=t.statusFormGroup.get("direct_refer_per"))?null:v.touched)&&(null==(v=t.statusFormGroup.get("direct_refer_per"))?null:v.invalid)),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",t.uploadedChequeProof)}}function Ne(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",60)(1,"h5",61),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",62),e.\u0275\u0275listener("click",function(){const i=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(i.dismiss("Cross click"))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"form",7)(5,"div",63)(6,"div",2)(7,"div",64)(8,"div",65)(9,"label"),e.\u0275\u0275text(10,"Status"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",66)(12,"div",67),e.\u0275\u0275element(13,"input",68),e.\u0275\u0275elementStart(14,"label",69),e.\u0275\u0275text(15,"Approved"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(16,"div",67),e.\u0275\u0275element(17,"input",70),e.\u0275\u0275elementStart(18,"label",71),e.\u0275\u0275text(19,"Rejected"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(20,le,2,1,"div",72),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(21,de,13,1,"div",73),e.\u0275\u0275template(22,Me,47,12,"div",74),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(23,"div",75)(24,"button",76),e.\u0275\u0275listener("click",function(){const i=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(i.close("Close click"))}),e.\u0275\u0275text(25,"Close"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"button",77),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.submit())}),e.\u0275\u0275text(27,"Submit"),e.\u0275\u0275elementEnd()()()}if(2&n){const t=e.\u0275\u0275nextContext();let a,r,i;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("Approved/Reject ",t.loanType," Loan"),e.\u0275\u0275advance(2),e.\u0275\u0275property("formGroup",t.statusFormGroup),e.\u0275\u0275advance(16),e.\u0275\u0275property("ngIf",(null==(a=t.statusFormGroup.get("status"))?null:a.touched)&&(null==(a=t.statusFormGroup.get("status"))?null:a.invalid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Rejected"===(null==(r=t.statusFormGroup.get("status"))?null:r.value)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Rejected"!==(null==(i=t.statusFormGroup.get("status"))?null:i.value))}}function Ae(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div",117)(1,"div",118)(2,"small",119),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",120),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()()()),2&n){const t=o.$implicit;e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.label),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.value)}}const E=function(n){return{label:"Total Days",value:n}},I=function(n){return{label:"Principal",value:n}},L=function(n){return{label:"Interest",value:n}},T=function(n){return{label:"Projected EMI",value:n}},R=function(n){return{label:"Projected (Penalties)",value:n}},F=function(n){return{label:"Penalty",value:n}},P=function(n){return{label:"Paid",value:n}},w=function(n){return{label:"Remaining",value:n}},q=function(n){return{label:"Fully Paid",value:n}},k=function(n){return{label:"Partially Paid",value:n}},G=function(n){return{label:"Pending",value:n}},M=function(n){return{label:"Paid Interest",value:n}},N=function(n){return{label:"Rem. Interest",value:n}},De=function(n,o,t,a,r,i,s,d,c,_,v,y,b){return[n,o,t,a,r,i,s,d,c,_,v,y,b]};function Ve(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div",115),e.\u0275\u0275template(1,Ae,6,2,"div",116),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pureFunctionV(27,De,[e.\u0275\u0275pureFunction1(1,E,t.LoanTotal["Total Days"]),e.\u0275\u0275pureFunction1(3,I,"\u20b9"+t.LoanTotal["Total Principal"]),e.\u0275\u0275pureFunction1(5,L,"\u20b9"+t.LoanTotal["Total Interest"]),e.\u0275\u0275pureFunction1(7,T,"\u20b9"+t.LoanTotal["Projected Total EMI"]),e.\u0275\u0275pureFunction1(9,R,"\u20b9"+t.LoanTotal["Projected Total (with Penalties)"]),e.\u0275\u0275pureFunction1(11,F,"\u20b9"+t.LoanTotal["Total Penalty"]),e.\u0275\u0275pureFunction1(13,P,"\u20b9"+t.LoanTotal["Total Amount Paid"]),e.\u0275\u0275pureFunction1(15,w,"\u20b9"+t.LoanTotal["Total Remaining Amount"]),e.\u0275\u0275pureFunction1(17,q,t.LoanTotal["Fully Paid Installments"]),e.\u0275\u0275pureFunction1(19,k,t.LoanTotal["Partially Paid Installments"]),e.\u0275\u0275pureFunction1(21,G,t.LoanTotal["Pending Installments"]),e.\u0275\u0275pureFunction1(23,M,"\u20b9"+t.LoanTotal["Paid Interest"]),e.\u0275\u0275pureFunction1(25,N,"\u20b9"+t.LoanTotal["Remaining Interest"])]))}}function je(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div",117)(1,"div",118)(2,"small",119),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",120),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()()()),2&n){const t=o.$implicit;e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.label),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.value)}}const $e=function(n){return{label:"Outstanding",value:n}},Oe=function(n,o,t,a,r,i,s,d,c,_,v,y,b,zt){return[n,o,t,a,r,i,s,d,c,_,v,y,b,zt]};function Be(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div",115),e.\u0275\u0275template(1,je,6,2,"div",116),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pureFunctionV(29,Oe,[e.\u0275\u0275pureFunction1(1,E,t.LoanTotal["Total Days"]),e.\u0275\u0275pureFunction1(3,I,"\u20b9"+t.LoanTotal["Total Principal"]),e.\u0275\u0275pureFunction1(5,L,"\u20b9"+t.LoanTotal["Total Interest"]),e.\u0275\u0275pureFunction1(7,T,"\u20b9"+t.LoanTotal["Projected Total EMI"]),e.\u0275\u0275pureFunction1(9,R,"\u20b9"+t.LoanTotal["Projected Total (with Penalties)"]),e.\u0275\u0275pureFunction1(11,F,"\u20b9"+t.LoanTotal["Total Penalty"]),e.\u0275\u0275pureFunction1(13,P,"\u20b9"+t.LoanTotal["Total Amount Paid"]),e.\u0275\u0275pureFunction1(15,w,"\u20b9"+t.LoanTotal["Total Remaining Amount"]),e.\u0275\u0275pureFunction1(17,q,t.LoanTotal["Fully Paid Installments"]),e.\u0275\u0275pureFunction1(19,k,t.LoanTotal["Partially Paid Installments"]),e.\u0275\u0275pureFunction1(21,G,t.LoanTotal["Pending Installments"]),e.\u0275\u0275pureFunction1(23,M,"\u20b9"+t.LoanTotal["Paid Interest"]),e.\u0275\u0275pureFunction1(25,N,"\u20b9"+t.LoanTotal["Remaining Interest"]),e.\u0275\u0275pureFunction1(27,$e,"\u20b9"+t.LoanTotal.Outstanding)]))}}function ze(n,o){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"tr")(2,"td"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"td"),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"td"),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"td"),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"td"),e.\u0275\u0275text(11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"td"),e.\u0275\u0275text(13),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"td"),e.\u0275\u0275text(15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"td"),e.\u0275\u0275text(17),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"td"),e.\u0275\u0275text(19),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd()),2&n){const t=o.$implicit;e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.Installment),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.Date),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("\u20b9",t["Principal O/S"],""),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("\u20b9",t.EMI,""),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("\u20b9",t.Penalty,""),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("\u20b9",t.Interest,""),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("\u20b9",t.Principal,""),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("\u20b9",t.Balance,""),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.Status)}}function Ue(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",60)(1,"h5",61),e.\u0275\u0275text(2,"Loan Details"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",62),e.\u0275\u0275listener("click",function(){const i=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(i.dismiss("Cross click"))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",63)(5,"div",2)(6,"div",109)(7,"p")(8,"strong"),e.\u0275\u0275text(9,"Loan Number:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"p")(12,"strong"),e.\u0275\u0275text(13,"User:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"p")(16,"strong"),e.\u0275\u0275text(17,"Requested Amount:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(18),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"p")(20,"strong"),e.\u0275\u0275text(21,"Approved Amount:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(22),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"p")(24,"strong"),e.\u0275\u0275text(25,"Interest Rate:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(26),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(27,"p")(28,"strong"),e.\u0275\u0275text(29,"Status:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(30),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(31,"div",109)(32,"p")(33,"strong"),e.\u0275\u0275text(34,"Loan Type:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(35),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(36,"p")(37,"strong"),e.\u0275\u0275text(38,"Duration:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(39),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(40,"p")(41,"strong"),e.\u0275\u0275text(42,"EMI Type:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(43),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(44,"p")(45,"strong"),e.\u0275\u0275text(46,"Purpose:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(47),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(48,"p")(49,"strong"),e.\u0275\u0275text(50,"Start Date:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(51),e.\u0275\u0275pipe(52,"date"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(53,"div",110)(54,"button",111),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.payloan())}),e.\u0275\u0275text(55,"Pay Loan"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(56,Ve,2,41,"div",112),e.\u0275\u0275elementStart(57,"div",113),e.\u0275\u0275element(58,"img",108),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(59,Be,2,44,"div",112),e.\u0275\u0275elementStart(60,"div",34)(61,"table",114)(62,"tbody")(63,"tr")(64,"th")(65,"strong"),e.\u0275\u0275text(66,"Installment"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(67,"th")(68,"strong"),e.\u0275\u0275text(69,"Date"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(70,"th")(71,"strong"),e.\u0275\u0275text(72,"Principal O/S"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(73,"th")(74,"strong"),e.\u0275\u0275text(75,"EMI"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(76,"th")(77,"strong"),e.\u0275\u0275text(78,"Penalty"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(79,"th")(80,"strong"),e.\u0275\u0275text(81,"Interest"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(82,"th")(83,"strong"),e.\u0275\u0275text(84,"Principal"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(85,"th")(86,"strong"),e.\u0275\u0275text(87,"Balance"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(88,"th")(89,"strong"),e.\u0275\u0275text(90,"Status"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(91,ze,20,9,"ng-container",37),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(92,"div",75)(93,"button",76),e.\u0275\u0275listener("click",function(){const i=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(i.close("Close click"))}),e.\u0275\u0275text(94,"Close"),e.\u0275\u0275elementEnd()()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(10),e.\u0275\u0275textInterpolate1(" ",null==t.loanSelected?null:t.loanSelected.loan_id,""),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate2(" ",null==t.loanSelected?null:t.loanSelected.user.name," (",null==t.loanSelected?null:t.loanSelected.user.user_id,")"),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" \u20b9",null==t.loanSelected?null:t.loanSelected.requested_loan_amount,""),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" \u20b9",null==t.loanSelected?null:t.loanSelected.approved_loan_amount,""),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",null==t.loanSelected?null:t.loanSelected.interest_rate,"% (A.P.R.)"),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",null==t.loanSelected?null:t.loanSelected.status,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",null==t.loanSelected?null:t.loanSelected.loan_type,""),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate2(" ",null==t.loanSelected?null:t.loanSelected.duration," ","Daily"===(null==t.loanSelected?null:t.loanSelected.interval)?"day(s)":"month(s)"," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",null==t.loanSelected?null:t.loanSelected.interval,""),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",null==t.loanSelected?null:t.loanSelected.purpose,""),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind2(52,17,null==t.loanSelected?null:t.loanSelected.start_date,"dd/MM/yyyy"),""),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",t.LoanTotal&&"Garanteed"===t.loanType),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("src",t.document_to,e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.LoanTotal&&"Personal"===t.loanType),e.\u0275\u0275advance(32),e.\u0275\u0275property("ngForOf",t.LoanTable)}}let Je=(()=>{class n{constructor(t,a,r,i,s){this.loanService=t,this.modalService=a,this.route=r,this.settingsService=i,this.router=s,this.loanList=[],this.total=0,this.loanType="",this.page=1,this.pageSize=10,this.LoanTable=[],this.LoanTotal=null,this.queryParams="",this.status=["Pending","Approved","Rejected","Completed","Defaulted"],this.loanSelected=null,this.document_to=null,this.uploadedChequeProof="",this.route.paramMap.subscribe(d=>{this.loanType=d.get("type")||"",this.search()})}ngOnInit(){this.breadCrumbItems=[{label:"Loans"},{label:"Requested Loan",active:!0}];const t=new Date,a=new Date;a.setDate(t.getDate()+1),this.minDate=a.toISOString().split("T")[0];const r=new Date(t);r.setDate(t.getDate()+5),this.maxDate=r.toISOString().split("T")[0],this.statusFormGroup=new l.cw({_id:new l.NI(null),status:new l.NI(""),interest_rate:new l.NI(null,[l.kI.min(0),l.kI.max(100)]),requested_loan_amount:new l.NI({value:"",disabled:!0}),approved_loan_amount:new l.NI(null,[l.kI.min(0)]),start_date:new l.NI(null),penalty:new l.NI(null,[l.kI.min(0),l.kI.max(100)]),franchise_refer_per:new l.NI(null,[l.kI.min(0),l.kI.max(100)]),direct_refer_per:new l.NI(null,[l.kI.min(0),l.kI.max(100)]),indirect_refer_per:new l.NI(null,[l.kI.min(0),l.kI.max(100)]),rejected_reason:new l.NI(""),cheque_proof:new l.NI("")}),this.statusFormGroup.get("status")?.valueChanges.subscribe(i=>{"Rejected"===i?(this.statusFormGroup.get("rejected_reason")?.setValidators([l.kI.required]),["interest_rate","approved_loan_amount","start_date","franchise_refer_per","direct_refer_per","indirect_refer_per"].forEach(s=>{const d=this.statusFormGroup.get(s);if(d){const c=d.validator?[l.kI.min(0),l.kI.max(100)].filter(_=>"approved_loan_amount"!==s&&"start_date"!==s):[];d.setValidators("approved_loan_amount"===s?[l.kI.min(0)]:"start_date"===s?[]:c),d.updateValueAndValidity()}}),this.statusFormGroup.get("rejected_reason")?.updateValueAndValidity()):(this.statusFormGroup.get("rejected_reason")?.clearValidators(),this.statusFormGroup.get("interest_rate")?.setValidators([l.kI.required,l.kI.min(0),l.kI.max(100)]),this.statusFormGroup.get("approved_loan_amount")?.setValidators([l.kI.required,l.kI.min(0)]),this.statusFormGroup.get("start_date")?.setValidators([l.kI.required]),this.statusFormGroup.get("franchise_refer_per")?.setValidators([l.kI.required,l.kI.min(0),l.kI.max(100)]),this.statusFormGroup.get("direct_refer_per")?.setValidators([l.kI.required,l.kI.min(0),l.kI.max(100)]),this.statusFormGroup.get("indirect_refer_per")?.setValidators([l.kI.required,l.kI.min(0),l.kI.max(100)]),["interest_rate","approved_loan_amount","start_date","franchise_refer_per","direct_refer_per","indirect_refer_per"].forEach(s=>{this.statusFormGroup.get(s)?.updateValueAndValidity()}))}),this.searchFormGroup=new l.cw({name:new l.NI(""),loan_type:new l.NI(this.loanType),status:new l.NI("Pending"),interval:new l.NI("")}),this.search()}refresh(){this.page=1,this.searchFormGroup.reset(),this.searchFormGroup.patchValue({status:"Pending",loan_type:"",name:"",interval:""}),this.getLoanList()}openLoanModal(t,a){this.modalService.open(t,{size:"lg",backdrop:"static"}),this.uploadedChequeProof=null,this.statusFormGroup.reset(),this.settingsService.getGeneralSettings$().subscribe(r=>{r&&("Personal"===this.loanType&&this.statusFormGroup.patchValue({penalty:r.loan_penalty||0,interest_rate:r.loan_rate||0,indirect_refer_per:r.loan_indirect_percentage||0,direct_refer_per:r.loan_direct_percentage||0,franchise_refer_per:r.loan_francise_percentage||0}),"Personal"!==this.loanType&&this.statusFormGroup.patchValue({penalty:r.g_loan_penalty||0,interest_rate:r.g_loan_rate||0,indirect_refer_per:r.g_loan_indirect_percentage||0,direct_refer_per:r.g_loan_direct_percentage||0,franchise_refer_per:r.g_loan_francise_percentage||0}))}),this.statusFormGroup.patchValue({_id:a._id,requested_loan_amount:a.requested_loan_amount})}submit(){if(this.statusFormGroup.invalid)return console.log("Form is invalid:",this.statusFormGroup.errors),void Object.keys(this.statusFormGroup.controls).forEach(a=>{const r=this.statusFormGroup.get(a);r&&r.invalid&&console.log(`Control "${a}" is invalid:`,r.errors)});const t={...this.statusFormGroup.value,cheque_proof:this.uploadedChequeProof||this.statusFormGroup.value.cheque_proof||null};this.loanService.updateLoanStatus(t._id,t).subscribe({next:a=>{S().fire({title:"Success",text:`Loan status updated to ${t.status}`,icon:"success",confirmButtonText:"OK"}),this.statusFormGroup.reset(),this.selectedLoan=null,this.modalService.dismissAll(),this.getLoanList(),this.settingsService.getGeneralSettings$().subscribe(r=>{r&&this.statusFormGroup.patchValue({interest_rate:r.loan_rate||0,indirect_refer_per:r.loan_indirect_percentage||0,direct_refer_per:r.loan_direct_percentage||0,franchise_refer_per:r.loan_francise_percentage||0})})},error:a=>{console.error("Error updating loan status:",a)}})}findPageShowing(){return Math.min(this.page*this.pageSize,this.total)}pageChange(t){this.page=t,this.getLoanList()}search(){const t=[];if(this.searchFormGroup&&this.searchFormGroup.value){const a=this.searchFormGroup.value;Object.keys(a).forEach(r=>{"loan_type"!==r&&null!==a[r]&&""!==a[r]&&t.push(`${r}=${encodeURIComponent(a[r])}`)})}this.loanType&&t.push(`loan_type=${encodeURIComponent(this.loanType)}`),t.some(a=>a.startsWith("status="))||t.push("status=Pending"),this.queryParams=t.join("&"),this.page=1,this.getLoanList()}getLoanList(){this.loanService.getLoanList(this.page,this.pageSize,this.queryParams).subscribe({next:t=>{this.loanList=t.data.loans,console.log("Fetched loan list:",this.loanList),this.total=t.data.total},error:t=>{console.error("Error fetching loan list:",t)}})}viewGuaranteedLoan(t,a){this.selectedLoan=a,this.loanService.getLoanSchedule(a._id).subscribe({next:r=>{console.log(r),this.LoanTable=r.data.schedule,this.LoanTotal=r.data.totals,this.loanSelected=a,this.document_to=r.data.loan.cheque_proof||null},error:r=>{console.error("Error fetching guaranteed loan schedule:",r),S().fire({title:"Error",text:"Failed to fetch guaranteed loan schedule.",icon:"error",confirmButtonText:"OK"})}}),this.modalService.open(t,{size:"xl",backdrop:"static"})}viewPersonalLoan(t,a){this.selectedLoan=a,this.loanService.getPersonalLoanSchedule(a._id).subscribe({next:r=>{this.LoanTable=r.data.schedule,this.LoanTotal=r.data.totals,this.loanSelected=a,this.document_to=r.data.loan.doc||null},error:r=>{console.error("Error fetching personal loan schedule:",r),S().fire({title:"Error",text:"Failed to fetch personal loan schedule.",icon:"error",confirmButtonText:"OK"})}}),this.modalService.open(t,{size:"xl",backdrop:"static"})}payloan(){this.router.navigate(["/loan-management/pay-loan"],{queryParams:{id:this.loanSelected._id,user:this.loanSelected?.user.user_id}}),this.modalService.dismissAll()}onFileSelected(t,a){const r=t.target;if(r.files&&0!==r.files.length)return r.files[0].type.startsWith("image/")?void(r.files&&r.files.length>0&&this.openImageCropper({file:t,from:a})):(S().fire({title:"Invalid File Type",text:"Please select a valid image file.",icon:"error",confirmButtonText:"OK"}),void(r.value=""))}openImageCropper(t){const a=this.modalService.open(V.a,{centered:!0,size:"xl"});a.componentInstance.data=t,a.result.then(r=>{r&&r.image&&this.cropAndSetPhoto(r.image,r.from)}).catch(r=>{console.log("Modal dismissed:",r)})}cropAndSetPhoto(t,a="profile_image"){const r=new Image;r.onload=()=>{const i=document.createElement("canvas");i.width=.5*r.width,i.height=.5*r.height,i.getContext("2d").drawImage(r,0,0,i.width,i.height);const d=i.toDataURL("image/jpeg",.3);this.uploadedChequeProof=d,this.statusFormGroup.patchValue({cheque_proof:d}),console.log(`Selected ${a}:`)},r.src=t}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(x),e.\u0275\u0275directiveInject(g.FF),e.\u0275\u0275directiveInject(f.gz),e.\u0275\u0275directiveInject($.g),e.\u0275\u0275directiveInject(f.F0))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-loan-requested"]],decls:48,vars:6,consts:[[1,"container-fluid"],[3,"title","breadcrumbItems"],[1,"row"],[1,"col-xl-12"],[1,"card"],[1,"card-body"],[1,"card-body","border-bottom"],[3,"formGroup"],[1,"col-lg-4"],["type","search","id","searchInput","placeholder","Search for Name / User Id / Email id...","formControlName","name",1,"form-control"],[1,"col-lg-2"],["formControlName","loan_type",1,"form-control"],["value",""],["value","Personal"],["value","Garanteed"],["formControlName","interval",1,"form-control"],["value","Daily"],["value","Monthly"],["formControlName","status",1,"form-control"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"col-lg-1"],["type","button",1,"btn","btn-soft-secondary","w-100",3,"click"],[1,"mdi","mdi-filter-outline","align-middle"],["type","button",1,"btn","btn-light",3,"click"],[1,"mdi","mdi-refresh"],["class","d-flex flex-column justify-content-center align-items-center","style","min-height: 150px;",4,"ngIf"],["class","table-responsive",4,"ngIf"],["role","document"],["loanModal",""],["loanViewGaranteedModal",""],[3,"ngValue"],[1,"d-flex","flex-column","justify-content-center","align-items-center",2,"min-height","150px"],["src","assets/img/not-found.png","width","300px","alt",""],[1,"text-mutes","mt-2"],[1,"table-responsive"],["id","basic-datatable",1,"table","table-bordered","dt-responsive","nowrap","datatables","no-footer","dtr-inline"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"row","justify-content-md-between","align-items-md-center","mt-2"],[1,"col-sm-12","col-md-5"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[1,"text-md-right","float-md-end","pagination-rounded"],[3,"collectionSize","page","pageSize","pageChange"],["href","javascript: void(0);","class","badge font-size-11 m-1",3,"ngClass",4,"ngIf"],[1,"list-inline","font-size-20","contact-links","mb-0"],["data-bs-toggle","modal","data-bs-target","#myModal","class","list-inline-item px-2",3,"click",4,"ngIf"],["class","list-inline-item px-2",4,"ngIf"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],["class","bx bx-check-circle",4,"ngIf"],["class","bx bx-x-circle",4,"ngIf"],[1,"bx","bx-check-circle"],[1,"bx","bx-x-circle"],["href","javascript: void(0);",1,"badge","font-size-11","m-1",3,"ngClass"],["data-bs-toggle","modal","data-bs-target","#myModal",1,"list-inline-item","px-2",3,"click"],["href","javascript:void(0);","tooltip","Message"],[1,"bx","bx-check-double"],[1,"list-inline-item","px-2"],["tooltip","Profile",3,"click"],[1,"bx","bx-detail"],[1,"modal-header"],["id","myModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"col-md-12"],[1,"form-group","mb-3"],[1,"d-flex","align-items-center","gap-3"],[1,"form-check","form-check-inline"],["type","radio","id","status_approved","value","Approved","formControlName","status",1,"form-check-input"],["for","status_approved",1,"form-check-label"],["type","radio","id","status_rejected","value","Rejected","formControlName","status",1,"form-check-input"],["for","status_rejected",1,"form-check-label"],["class","text-danger",4,"ngIf"],["class","form-group mb-3",4,"ngIf"],["class","row",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary","waves-effect",3,"click"],["type","submit",1,"btn","btn-primary","waves-effect","waves-light",3,"click"],[1,"text-danger"],["for","rejected_reason"],["id","rejected_reason","formControlName","rejected_reason",1,"form-control"],["value","Insufficient funds"],["value","Credit score too low"],["value","Unverifiable income"],[1,"form-group","mb-3","col-lg-6"],["for","requested_loan_amount"],["type","number","id","requested_loan_amount","formControlName","requested_loan_amount","placeholder","Enter approved amount",1,"form-control"],["for","approved_loan_amount"],["type","number","id","approved_loan_amount","formControlName","approved_loan_amount","placeholder","Enter approved amount",1,"form-control"],["for","interest_rate"],["type","number","id","interest_rate","formControlName","interest_rate","placeholder","Enter interest rate",1,"form-control"],["for","start_date"],["type","date","id","start_date","formControlName","start_date",1,"form-control",3,"min","max","value"],["for","penalty"],["type","number","id","penalty","formControlName","penalty","placeholder","Enter penalty percentage",1,"form-control"],[1,"col-md-6","mb-3"],["for","franchiseReferral",1,"form-label"],["type","number","id","franchiseReferral","formControlName","franchise_refer_per","placeholder","Enter indirect referral",1,"form-control"],["for","indirectReferral",1,"form-label"],["type","number","id","indirectReferral","formControlName","indirect_refer_per","placeholder","Enter indirect referral",1,"form-control"],["for","directReferral",1,"form-label"],["type","number","id","directReferral","formControlName","direct_refer_per","placeholder","Enter direct referral",1,"form-control"],["for","chequeProof",1,"form-label"],["type","file","id","chequeProof","accept","image/*","formControlName","cheque_proof",1,"form-control",3,"change"],["selfPassbookInput",""],["class","passbook_box","style","cursor:pointer;",3,"click",4,"ngIf"],[1,"passbook_box",2,"cursor","pointer",3,"click"],["alt","",3,"src",4,"ngIf"],["alt","",3,"src"],[1,"col-md-6"],[1,"col-12","mt-2","d-flex","justify-content-end","mb-2"],[1,"btn","btn-sm","btn-primary",3,"click"],["class","row mb-3",4,"ngIf"],[1,"passbook_box"],[1,"table","table-bordered","dt-responsive","nowrap","datatables","no-footer","dtr-inline"],[1,"row","mb-3"],["class","col-md-2",4,"ngFor","ngForOf"],[1,"col-md-2"],[1,"card","card-body","p-2","mb-2","text-center"],[1,"text-muted"],[1,"fw-bold"]],template:function(t,a){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-page-title",1),e.\u0275\u0275elementStart(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"form",7)(8,"div",2)(9,"div",8),e.\u0275\u0275element(10,"input",9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",10)(12,"select",11),e.\u0275\u0275text(13," > "),e.\u0275\u0275elementStart(14,"option",12),e.\u0275\u0275text(15,"Select Loan Type"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"option",13),e.\u0275\u0275text(17,"Personal"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"option",14),e.\u0275\u0275text(19,"Garanteed"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(20,"div",10)(21,"select",15),e.\u0275\u0275text(22," > "),e.\u0275\u0275elementStart(23,"option",12),e.\u0275\u0275text(24,"Select EMI Type"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"option",16),e.\u0275\u0275text(26,"Daily"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(27,"option",17),e.\u0275\u0275text(28,"Monthly"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(29,"div",10)(30,"select",18)(31,"option",12),e.\u0275\u0275text(32,"Select Status"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(33,O,2,2,"option",19),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(34,"div",20)(35,"button",21),e.\u0275\u0275listener("click",function(){return a.search()}),e.\u0275\u0275element(36,"i",22),e.\u0275\u0275text(37," Filter"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(38,"div",20)(39,"button",23),e.\u0275\u0275listener("click",function(){return a.refresh()}),e.\u0275\u0275element(40,"i",24),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(41,"div",2),e.\u0275\u0275template(42,B,4,0,"div",25),e.\u0275\u0275template(43,re,37,8,"div",26),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275template(44,Ne,28,5,"ng-template",27,28,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(46,Ue,95,20,"ng-template",27,29,e.\u0275\u0275templateRefExtractor)),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate1("title","Requested ","Personal"===a.loanType?"Personal":"Garanteed"," Loan"),e.\u0275\u0275property("breadcrumbItems",a.breadCrumbItems),e.\u0275\u0275advance(6),e.\u0275\u0275property("formGroup",a.searchFormGroup),e.\u0275\u0275advance(26),e.\u0275\u0275property("ngForOf",a.status),e.\u0275\u0275advance(9),e.\u0275\u0275property("ngIf",!a.loanList||0===a.loanList.length),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0!==a.loanList.length))},dependencies:[m.NgClass,m.NgForOf,m.NgIf,l._Y,l.YN,l.Kr,l.Fj,l.wV,l.EJ,l._,l.JJ,l.JL,h.V,g.N9,l.sg,l.u,m.DatePipe],styles:[".passbook_box[_ngcontent-%COMP%]{width:70%;height:120px;background-color:#f0f0f0;display:flex;justify-content:center;align-items:center;border-radius:5px;border:#000000 solid 1px}.passbook_box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;-o-object-fit:cover;object-fit:cover;border-radius:5px}"]}),n})();function Ke(n,o){1&n&&(e.\u0275\u0275elementStart(0,"div",30),e.\u0275\u0275element(1,"img",31),e.\u0275\u0275elementStart(2,"p",32),e.\u0275\u0275text(3,"No Transanction found in the current filter."),e.\u0275\u0275elementEnd()())}const Ye=function(n,o,t,a){return{"badge-soft-primary":n,"badge-soft-info":o,"badge-soft-warning":t,"badge-soft-dark":a}};function He(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"a",43),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"titlecase"),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction4(4,Ye,"credit"===t.transaction_type,"interest"===t.transaction_type,"debit"===t.transaction_type,"ccredit"===t.transaction_type)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,2,t.transaction_type)," ")}}function We(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1),e.\u0275\u0275element(2,"br"),e.\u0275\u0275text(3),e.\u0275\u0275element(4,"br"),e.\u0275\u0275elementStart(5,"b"),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" Principal Amount : \u20b9",t.principal_component," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" Interest Amount : \u20b9",t.interest_component," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" Amount : \u20b9",t.amount," ")}}function Qe(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" \u20b9",t.amount," ")}}function Xe(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("\u20b9",t.amount,"")}}function Ze(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("\u20b9",t.amount,"")}}function et(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"tr")(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"td"),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"td"),e.\u0275\u0275text(8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"td"),e.\u0275\u0275template(10,He,3,9,"a",41),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"td"),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"number"),e.\u0275\u0275element(14,"br"),e.\u0275\u0275text(15),e.\u0275\u0275pipe(16,"date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"td"),e.\u0275\u0275template(18,We,7,3,"div",42),e.\u0275\u0275template(19,Qe,2,1,"div",42),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"td"),e.\u0275\u0275template(21,Xe,2,1,"span",42),e.\u0275\u0275template(22,Ze,2,1,"span",42),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"td"),e.\u0275\u0275text(24),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"td"),e.\u0275\u0275text(26),e.\u0275\u0275pipe(27,"date"),e.\u0275\u0275elementEnd()()),2&n){const t=o.$implicit,a=o.index,r=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate((r.page-1)*r.pageSize+a+1),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate2("",t.user.name," (",t.user.user_id,") "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.loan.loan_id),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.transaction_id),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.transaction_type),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" Amount: \u20b9",e.\u0275\u0275pipeBind1(13,14,null==t||null==t.loan?null:t.loan.approved_loan_amount)," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" Requested Date: ",e.\u0275\u0275pipeBind1(16,16,null==t||null==t.loan?null:t.loan.created_date)," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf","interest"===t.transaction_type),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","credit"===t.transaction_type),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","debit"===t.transaction_type),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","ccredit"===t.transaction_type),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.payment_method),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind2(27,18,t.transaction_date,"medium"))}}function tt(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",33)(1,"table",34)(2,"thead")(3,"tr")(4,"th"),e.\u0275\u0275text(5,"Sr No"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"th"),e.\u0275\u0275text(7,"User"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"th"),e.\u0275\u0275text(9,"Loan ID"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"th"),e.\u0275\u0275text(11,"Transanction Id"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"th"),e.\u0275\u0275text(13,"Transanction Type"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"th"),e.\u0275\u0275text(15,"Approval Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"th"),e.\u0275\u0275text(17,"Credit Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"th"),e.\u0275\u0275text(19,"Debit Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"th"),e.\u0275\u0275text(21,"Payment Method"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"th"),e.\u0275\u0275text(23,"Date"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(24,"tbody"),e.\u0275\u0275template(25,et,28,21,"tr",35),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(26,"div",36)(27,"div",37)(28,"div",38),e.\u0275\u0275text(29,"Showing "),e.\u0275\u0275elementStart(30,"b"),e.\u0275\u0275text(31),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(32),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(33,"div",37)(34,"div",39)(35,"ngb-pagination",40),e.\u0275\u0275listener("pageChange",function(r){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.page=r)})("pageChange",function(r){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.pageChange(r))}),e.\u0275\u0275elementEnd()()()()()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(25),e.\u0275\u0275property("ngForOf",t.transanctionList),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate((t.page-1)*t.pageSize+1),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate2(" to ",t.findPageShowing()," of ",t.total," entries "),e.\u0275\u0275advance(3),e.\u0275\u0275property("collectionSize",t.total)("page",t.page)("pageSize",t.pageSize)}}let nt=(()=>{class n{constructor(t){this.loanService=t,this.transanctionList=[],this.total=0,this.page=1,this.pageSize=10}ngOnInit(){this.breadCrumbItems=[{label:"Loans"},{label:"User Loan Transanction",active:!0}],this.searchFormGroup=new l.cw({name:new l.NI(""),loan_id:new l.NI(""),transaction_id:new l.NI(""),transaction_type:new l.NI(""),payment_method:new l.NI(""),transaction_date:new l.NI("")}),this.getTransanctionList()}findPageShowing(){return Math.min(this.page*this.pageSize,this.total)}pageChange(t){this.page=t,this.getTransanctionList()}getTransanctionList(){const t=this.searchFormGroup.value,a=[];Object.keys(t).forEach(i=>{null!==t[i]&&""!==t[i]&&a.push(`${i}=${encodeURIComponent(t[i])}`)});const r=a.join("&");this.loanService.getUserTransaction(this.page,this.pageSize,r).subscribe(i=>{this.transanctionList=i.data.userTransaction,this.total=i.data.total})}refresh(){this.page=1,this.searchFormGroup.reset(),this.getTransanctionList()}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(x))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-loan-transanction"]],decls:49,vars:4,consts:[[1,"container-fluid"],["title","Transanction History",3,"breadcrumbItems"],[1,"row"],[1,"col-xl-12"],[1,"card"],[1,"card-body"],[1,"card-body","border-bottom"],[3,"formGroup"],[1,"col-lg-2"],["type","search","id","searchInput","placeholder","Search for Name / User Id / Email id...","formControlName","name",1,"form-control"],["type","search","id","searchInput","placeholder","Search for Loan Number","formControlName","loan_id",1,"form-control"],["type","search","id","searchInput","placeholder","Search for Transanction Id..","formControlName","transaction_id",1,"form-control"],[1,"col-lg-1"],["formControlName","transaction_type",1,"form-control"],["value",""],["value","credit"],["value","debit"],["value","interest"],["formControlName","payment_method",1,"form-control"],["value","EMI"],["value","Bank Transfer"],["value","Cash"],["value","Cheque"],["type","date","id","searchInput","formControlName","transaction_date",1,"form-control"],["type","button",1,"btn","btn-soft-secondary","w-100",3,"click"],[1,"mdi","mdi-filter-outline","align-middle"],["type","button",1,"btn","btn-light",3,"click"],[1,"mdi","mdi-refresh"],["class","d-flex flex-column justify-content-center align-items-center","style","min-height: 150px;",4,"ngIf"],["class","table-responsive",4,"ngIf"],[1,"d-flex","flex-column","justify-content-center","align-items-center",2,"min-height","150px"],["src","assets/img/not-found.png","width","300px","alt",""],[1,"text-mutes","mt-2"],[1,"table-responsive"],["id","basic-datatable",1,"table","table-bordered","dt-responsive","nowrap","datatables","no-footer","dtr-inline"],[4,"ngFor","ngForOf"],[1,"row","justify-content-md-between","align-items-md-center","mt-2"],[1,"col-sm-12","col-md-5"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[1,"text-md-right","float-md-end","pagination-rounded"],[3,"collectionSize","page","pageSize","pageChange"],["href","javascript: void(0);","class","badge font-size-11 m-1",3,"ngClass",4,"ngIf"],[4,"ngIf"],["href","javascript: void(0);",1,"badge","font-size-11","m-1",3,"ngClass"]],template:function(t,a){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-page-title",1),e.\u0275\u0275elementStart(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"form",7)(8,"div",2)(9,"div",8),e.\u0275\u0275element(10,"input",9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",8),e.\u0275\u0275element(12,"input",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"div",8),e.\u0275\u0275element(14,"input",11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"div",12)(16,"select",13)(17,"option",14),e.\u0275\u0275text(18,"Transanction Type"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"option",15),e.\u0275\u0275text(20,"Credit"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"option",16),e.\u0275\u0275text(22,"Debit"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"option",17),e.\u0275\u0275text(24,"Interest"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(25,"div",12)(26,"select",18)(27,"option",14),e.\u0275\u0275text(28,"Payment Method"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"option",19),e.\u0275\u0275text(30,"EMI"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(31,"option",20),e.\u0275\u0275text(32,"Bank Transfer"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(33,"option",21),e.\u0275\u0275text(34,"Cash"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(35,"option",22),e.\u0275\u0275text(36,"Cheque"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(37,"div",8),e.\u0275\u0275element(38,"input",23),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(39,"div",12)(40,"button",24),e.\u0275\u0275listener("click",function(){return a.getTransanctionList()}),e.\u0275\u0275element(41,"i",25),e.\u0275\u0275text(42," Filter"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(43,"div",12)(44,"button",26),e.\u0275\u0275listener("click",function(){return a.refresh()}),e.\u0275\u0275element(45,"i",27),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(46,"div",2),e.\u0275\u0275template(47,Ke,4,0,"div",28),e.\u0275\u0275template(48,tt,36,7,"div",29),e.\u0275\u0275elementEnd()()()()()()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("breadcrumbItems",a.breadCrumbItems),e.\u0275\u0275advance(6),e.\u0275\u0275property("formGroup",a.searchFormGroup),e.\u0275\u0275advance(40),e.\u0275\u0275property("ngIf",!a.transanctionList||0===a.transanctionList.length),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0!==a.transanctionList.length))},dependencies:[m.NgClass,m.NgForOf,m.NgIf,l._Y,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,h.V,g.N9,l.sg,l.u,m.DecimalPipe,m.TitleCasePipe,m.DatePipe]}),n})();function at(n,o){1&n&&(e.\u0275\u0275elementStart(0,"div",29),e.\u0275\u0275element(1,"img",30),e.\u0275\u0275elementStart(2,"p",31),e.\u0275\u0275text(3,"No Transanction found in the current filter."),e.\u0275\u0275elementEnd()())}function rt(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"tr")(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"td"),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"td"),e.\u0275\u0275text(8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"td"),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"td"),e.\u0275\u0275text(13),e.\u0275\u0275elementEnd()()),2&n){const t=o.$implicit,a=o.index,r=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate((r.page-1)*r.pageSize+a+1),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate2("",t.user.name," (",t.user.user_id,") "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.loan.loan_id),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("\u20b9",t.amount,""),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind2(11,7,t.transaction_date,"medium")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",t.description," ")}}function ot(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",32)(1,"table",33)(2,"thead")(3,"tr")(4,"th"),e.\u0275\u0275text(5,"Sr No"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"th"),e.\u0275\u0275text(7,"User"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"th"),e.\u0275\u0275text(9,"Loan ID"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"th"),e.\u0275\u0275text(11,"Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"th"),e.\u0275\u0275text(13,"Date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"th"),e.\u0275\u0275text(15,"Description"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(16,"tbody"),e.\u0275\u0275template(17,rt,14,10,"tr",34),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(18,"div",35)(19,"div",36)(20,"div",37),e.\u0275\u0275text(21,"Showing "),e.\u0275\u0275elementStart(22,"b"),e.\u0275\u0275text(23),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(24),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(25,"div",36)(26,"div",38)(27,"ngb-pagination",39),e.\u0275\u0275listener("pageChange",function(r){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.page=r)})("pageChange",function(r){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.pageChange(r))}),e.\u0275\u0275elementEnd()()()()()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(17),e.\u0275\u0275property("ngForOf",t.transanctionList),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate((t.page-1)*t.pageSize+1),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate2(" to ",t.findPageShowing()," of ",t.total," entries "),e.\u0275\u0275advance(3),e.\u0275\u0275property("collectionSize",t.total)("page",t.page)("pageSize",t.pageSize)}}let lt=(()=>{class n{constructor(t){this.loanService=t,this.transanctionList=[],this.total=0,this.page=1,this.pageSize=10}ngOnInit(){this.breadCrumbItems=[{label:"Loans"},{label:"Admin Loan Transanction",active:!0}],this.searchFormGroup=new l.cw({name:new l.NI(""),transaction_id:new l.NI(""),transaction_type:new l.NI(""),payment_method:new l.NI(""),transaction_date:new l.NI("")}),this.getTransanctionList()}findPageShowing(){return Math.min(this.page*this.pageSize,this.total)}pageChange(t){this.page=t,this.getTransanctionList()}getTransanctionList(){const t=this.searchFormGroup.value,a=[];Object.keys(t).forEach(i=>{null!==t[i]&&""!==t[i]&&a.push(`${i}=${encodeURIComponent(t[i])}`)});const r=a.join("&");this.loanService.getAdminTransaction(this.page,this.pageSize,r).subscribe(i=>{this.transanctionList=i.data.adminTransanction,this.total=i.data.total})}refresh(){this.searchFormGroup.reset(),this.page=1,this.getTransanctionList()}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(x))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-admin-loan-transanction"]],decls:45,vars:4,consts:[[1,"container-fluid"],["title","Transanction History",3,"breadcrumbItems"],[1,"row"],[1,"col-xl-12"],[1,"card"],[1,"card-body"],[1,"card-body","border-bottom"],[3,"formGroup"],[1,"col-lg-4"],["type","search","id","searchInput","placeholder","Search for Name / User Id / Email id...","formControlName","name",1,"form-control"],[1,"col-lg-2"],["type","search","id","searchInput","placeholder","Search for Transanction Id..","formControlName","transaction_id",1,"form-control"],[1,"col-lg-1"],["formControlName","transaction_type",1,"form-control"],["value",""],["value","credit"],["value","debit"],["formControlName","payment_method",1,"form-control"],["value","EMI"],["value","Bank Transfer"],["value","Cash"],["value","Cheque"],["type","date","id","searchInput","formControlName","transaction_date",1,"form-control"],["type","button",1,"btn","btn-soft-secondary","w-100",3,"click"],[1,"mdi","mdi-filter-outline","align-middle"],["type","button",1,"btn","btn-light",3,"click"],[1,"mdi","mdi-refresh"],["class","d-flex flex-column justify-content-center align-items-center","style","min-height: 150px;",4,"ngIf"],["class","table-responsive",4,"ngIf"],[1,"d-flex","flex-column","justify-content-center","align-items-center",2,"min-height","150px"],["src","assets/img/not-found.png","width","300px","alt",""],[1,"text-mutes","mt-2"],[1,"table-responsive"],["id","basic-datatable",1,"table","table-bordered","dt-responsive","nowrap","datatables","no-footer","dtr-inline"],[4,"ngFor","ngForOf"],[1,"row","justify-content-md-between","align-items-md-center","mt-2"],[1,"col-sm-12","col-md-5"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[1,"text-md-right","float-md-end","pagination-rounded"],[3,"collectionSize","page","pageSize","pageChange"]],template:function(t,a){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-page-title",1),e.\u0275\u0275elementStart(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"form",7)(8,"div",2)(9,"div",8),e.\u0275\u0275element(10,"input",9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",10),e.\u0275\u0275element(12,"input",11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"div",12)(14,"select",13)(15,"option",14),e.\u0275\u0275text(16,"Transanction Type"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"option",15),e.\u0275\u0275text(18,"Credit"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"option",16),e.\u0275\u0275text(20,"Debit"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(21,"div",12)(22,"select",17)(23,"option",14),e.\u0275\u0275text(24,"Payment Method"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"option",18),e.\u0275\u0275text(26,"EMI"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(27,"option",19),e.\u0275\u0275text(28,"Bank Transfer"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"option",20),e.\u0275\u0275text(30,"Cash"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(31,"option",21),e.\u0275\u0275text(32,"Cheque"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(33,"div",10),e.\u0275\u0275element(34,"input",22),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(35,"div",12)(36,"button",23),e.\u0275\u0275listener("click",function(){return a.getTransanctionList()}),e.\u0275\u0275element(37,"i",24),e.\u0275\u0275text(38," Filter"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(39,"div",12)(40,"button",25),e.\u0275\u0275listener("click",function(){return a.refresh()}),e.\u0275\u0275element(41,"i",26),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(42,"div",2),e.\u0275\u0275template(43,at,4,0,"div",27),e.\u0275\u0275template(44,ot,28,7,"div",28),e.\u0275\u0275elementEnd()()()()()()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("breadcrumbItems",a.breadCrumbItems),e.\u0275\u0275advance(6),e.\u0275\u0275property("formGroup",a.searchFormGroup),e.\u0275\u0275advance(36),e.\u0275\u0275property("ngIf",!a.transanctionList||0===a.transanctionList.length),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0!==a.transanctionList.length))},dependencies:[m.NgForOf,m.NgIf,l._Y,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,h.V,g.N9,l.sg,l.u,m.DatePipe]}),n})();var it=p(8386),st=p(7185),A=p(139);function dt(n,o){1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"User ID is required."),e.\u0275\u0275elementEnd())}function mt(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div",21),e.\u0275\u0275template(1,dt,2,0,"small",22),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();let a;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(a=t.paymentFormGroup.get("id"))||null==a.errors?null:a.errors.required)}}function pt(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div",23)(1,"small")(2,"strong"),e.\u0275\u0275text(3,"Name:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",t.userDetails.name,"")}}function ct(n,o){1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Loan ID is required."),e.\u0275\u0275elementEnd())}function ut(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div",21),e.\u0275\u0275template(1,ct,2,0,"small",22),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();let a;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(a=t.paymentFormGroup.get("loanId"))||null==a.errors?null:a.errors.required)}}function _t(n,o){1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Amount is required."),e.\u0275\u0275elementEnd())}function gt(n,o){1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Amount must be at least 1."),e.\u0275\u0275elementEnd())}function vt(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div",21),e.\u0275\u0275template(1,_t,2,0,"small",22),e.\u0275\u0275template(2,gt,2,0,"small",22),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();let a,r;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(a=t.paymentFormGroup.get("amount"))||null==a.errors?null:a.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(r=t.paymentFormGroup.get("amount"))||null==r.errors?null:r.errors.min)}}function ft(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div",23)(1,"small")(2,"strong"),e.\u0275\u0275text(3,"Total Bill Amount:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" \u20b9",t.totalPayableAmount,"")}}function xt(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"option",24),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=o.$implicit;e.\u0275\u0275property("ngValue",t),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t)}}function ht(n,o){1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Payment Method is required."),e.\u0275\u0275elementEnd())}function St(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div",21),e.\u0275\u0275template(1,ht,2,0,"small",22),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();let a;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(a=t.paymentFormGroup.get("paymentMethod"))||null==a.errors?null:a.errors.required)}}function bt(n,o){1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"Export CSV"),e.\u0275\u0275elementEnd())}function Ct(n,o){1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"Exporting..."),e.\u0275\u0275elementEnd())}function Et(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"option",58),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=o.$implicit;e.\u0275\u0275property("value",t),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t)}}function It(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"option",58),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=o.$implicit;e.\u0275\u0275property("value",t),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t)}}function Lt(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"option",58),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=o.$implicit;e.\u0275\u0275property("value",t.value),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.label)}}function Tt(n,o){1&n&&(e.\u0275\u0275elementStart(0,"div",59)(1,"div",60)(2,"span",61),e.\u0275\u0275text(3,"Loading..."),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"p",62),e.\u0275\u0275text(5,"Loading loan reports..."),e.\u0275\u0275elementEnd()())}function Rt(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"small",23),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"date"),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" Last: ",e.\u0275\u0275pipeBind2(2,1,t.lastTransactionDate,"shortDate")," ")}}function Ft(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div",81)(1,"small",23),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"number"),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind2(3,1,t.daysSinceLastPayment,"1.0-0")," days since last payment")}}const Pt=function(n,o){return{"bg-success":n,"bg-warning":o}};function wt(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr")(1,"td")(2,"div",67)(3,"span",68),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"small",23),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"span",69),e.\u0275\u0275text(8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"small",70),e.\u0275\u0275text(10),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(11,"td")(12,"div",67)(13,"span",68),e.\u0275\u0275text(14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"small",23),e.\u0275\u0275text(16),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"small",23),e.\u0275\u0275text(18),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"small",23),e.\u0275\u0275text(20),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(21,"td")(22,"div",67)(23,"span",71),e.\u0275\u0275text(24),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"span",72),e.\u0275\u0275text(26),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(27,"span",73),e.\u0275\u0275text(28),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"small",23),e.\u0275\u0275text(30),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(31,"td")(32,"div",67)(33,"div",74),e.\u0275\u0275element(34,"div",75),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(35,"small",23),e.\u0275\u0275text(36),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(37,"small",23),e.\u0275\u0275text(38),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(39,Rt,3,4,"small",76),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(40,"td")(41,"span",77),e.\u0275\u0275text(42),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(43,Ft,4,4,"div",78),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(44,"td")(45,"button",79),e.\u0275\u0275listener("click",function(){const i=e.\u0275\u0275restoreView(t).$implicit,s=e.\u0275\u0275nextContext(2),d=e.\u0275\u0275reference(164);return e.\u0275\u0275resetView(s.viewLoanDetails(i._id,d))}),e.\u0275\u0275element(46,"i",80),e.\u0275\u0275text(47," View Details "),e.\u0275\u0275elementEnd()()()}if(2&n){const t=o.$implicit,a=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(t.loan_id),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.loan_type),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",a.getStatusClass(t.status)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.status," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",a.formatCurrency(t.approved_loan_amount)," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(t.user.name),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.user.user_id),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.user.email),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.user.phone),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("Disbursed: ",a.formatCurrency(t.totalDisbursed),""),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("Paid: ",a.formatCurrency(t.totalPaid),""),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("Outstanding: ",a.formatCurrency(t.totalOutstanding),""),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("Interest: ",a.formatCurrency(t.totalInterest),""),e.\u0275\u0275advance(4),e.\u0275\u0275styleProp("width",t.paymentPercentage,"%"),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(23,Pt,t.paymentPercentage>=100,t.paymentPercentage<100)),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",a.formatPercentage(t.paymentPercentage)," completed"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",t.paymentTransactions," payments"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.lastTransactionDate),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",a.getRiskLevelClass(a.getRiskLevel(t))),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",a.getRiskLevel(t)," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.daysSinceLastPayment>0),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",a.loadingDetail)}}function qt(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div",63)(1,"table",64)(2,"thead",65)(3,"tr")(4,"th"),e.\u0275\u0275text(5,"Loan Details"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"th"),e.\u0275\u0275text(7,"User Information"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"th"),e.\u0275\u0275text(9,"Financial Summary"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"th"),e.\u0275\u0275text(11,"Payment Progress"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"th"),e.\u0275\u0275text(13,"Risk Level"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"th"),e.\u0275\u0275text(15,"Actions"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(16,"tbody"),e.\u0275\u0275template(17,wt,48,26,"tr",66),e.\u0275\u0275elementEnd()()()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(17),e.\u0275\u0275property("ngForOf",t.loanReports)}}function kt(n,o){1&n&&(e.\u0275\u0275elementStart(0,"div",59),e.\u0275\u0275element(1,"i",82),e.\u0275\u0275elementStart(2,"p",62),e.\u0275\u0275text(3,"No loan reports found"),e.\u0275\u0275elementEnd()())}function Gt(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",83)(1,"div",84)(2,"div",85),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",84)(5,"div",86)(6,"ngb-pagination",87),e.\u0275\u0275listener("pageChange",function(r){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.currentPage=r)})("pageChange",function(r){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.onPageChange(r))}),e.\u0275\u0275elementEnd()()()()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate3(" Showing ",(t.currentPage-1)*t.limit+1," to ",t.Math.min(t.currentPage*t.limit,t.totalRecords)," of ",t.totalRecords," entries "),e.\u0275\u0275advance(3),e.\u0275\u0275property("page",t.currentPage)("pageSize",t.limit)("collectionSize",t.totalRecords)("maxSize",5)("rotate",!0)}}function Mt(n,o){1&n&&(e.\u0275\u0275elementStart(0,"div",59)(1,"div",60)(2,"span",61),e.\u0275\u0275text(3,"Loading..."),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"p",62),e.\u0275\u0275text(5,"Loading loan details..."),e.\u0275\u0275elementEnd()())}function Nt(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"p")(1,"strong"),e.\u0275\u0275text(2,"Address:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",t.selectedLoanReport.loan.user.address,"")}}function At(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"tr")(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"td")(5,"span"),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"td"),e.\u0275\u0275text(8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"td"),e.\u0275\u0275text(10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"td"),e.\u0275\u0275text(12),e.\u0275\u0275elementEnd()()),2&n){const t=o.$implicit,a=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind2(3,8,t.transaction_date,"short")),e.\u0275\u0275advance(3),e.\u0275\u0275classMapInterpolate1("badge badge-soft-","credit"===t.transaction_type?"success":"debit"===t.transaction_type?"info":"warning",""),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.transaction_type," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(a.formatCurrency(t.amount)),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.description||"-"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.payment_method||"-")}}function Dt(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div")(1,"div",94)(2,"div",30)(3,"h5",95),e.\u0275\u0275text(4,"Loan Information"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"div",5)(6,"div",28)(7,"div",96)(8,"p")(9,"strong"),e.\u0275\u0275text(10,"Loan ID:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"p")(13,"strong"),e.\u0275\u0275text(14,"Type:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"p")(17,"strong"),e.\u0275\u0275text(18,"Status:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"span",97),e.\u0275\u0275text(20),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(21,"p")(22,"strong"),e.\u0275\u0275text(23,"Purpose:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(24),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(25,"div",96)(26,"p")(27,"strong"),e.\u0275\u0275text(28,"Requested Amount:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(29),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(30,"p")(31,"strong"),e.\u0275\u0275text(32,"Approved Amount:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(33),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(34,"p")(35,"strong"),e.\u0275\u0275text(36,"Interest Rate:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(37),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(38,"p")(39,"strong"),e.\u0275\u0275text(40,"Duration:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(41),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(42,"div",94)(43,"div",30)(44,"h5",95),e.\u0275\u0275text(45,"User Information"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(46,"div",5)(47,"div",28)(48,"div",96)(49,"p")(50,"strong"),e.\u0275\u0275text(51,"Name:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(52),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(53,"p")(54,"strong"),e.\u0275\u0275text(55,"User ID:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(56),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(57,"p")(58,"strong"),e.\u0275\u0275text(59,"Email:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(60),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(61,"div",96)(62,"p")(63,"strong"),e.\u0275\u0275text(64,"Phone:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(65),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(66,Nt,4,1,"p",37),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(67,"div",94)(68,"div",30)(69,"h5",95),e.\u0275\u0275text(70,"Financial Summary"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(71,"div",5)(72,"div",28)(73,"div",98)(74,"div",99)(75,"h4",71),e.\u0275\u0275text(76),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(77,"p",100),e.\u0275\u0275text(78,"Total Disbursed"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(79,"div",98)(80,"div",99)(81,"h4",72),e.\u0275\u0275text(82),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(83,"p",100),e.\u0275\u0275text(84,"Total Paid"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(85,"div",98)(86,"div",99)(87,"h4",73),e.\u0275\u0275text(88),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(89,"p",100),e.\u0275\u0275text(90,"Total Outstanding"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(91,"div",98)(92,"div",99)(93,"h4",101),e.\u0275\u0275text(94),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(95,"p",100),e.\u0275\u0275text(96,"Payment Progress"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(97,"div",102)(98,"div",29)(99,"h6"),e.\u0275\u0275text(100,"Outstanding Breakdown"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(101,"div",28)(102,"div",103)(103,"p")(104,"strong"),e.\u0275\u0275text(105,"Principal:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(106),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(107,"div",103)(108,"p")(109,"strong"),e.\u0275\u0275text(110,"Interest:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(111),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(112,"div",103)(113,"p")(114,"strong"),e.\u0275\u0275text(115,"Penalties:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(116),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(117,"div",103)(118,"p")(119,"strong"),e.\u0275\u0275text(120,"Fees:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(121),e.\u0275\u0275elementEnd()()()()()()(),e.\u0275\u0275elementStart(122,"div",94)(123,"div",30)(124,"h5",95),e.\u0275\u0275text(125,"Transaction Metrics"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(126,"div",5)(127,"div",28)(128,"div",104)(129,"p")(130,"strong"),e.\u0275\u0275text(131,"Total Transactions:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(132),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(133,"p")(134,"strong"),e.\u0275\u0275text(135,"Payment Transactions:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(136),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(137,"div",104)(138,"p")(139,"strong"),e.\u0275\u0275text(140,"Average Payment:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(141),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(142,"p")(143,"strong"),e.\u0275\u0275text(144,"Payment Frequency:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(145),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(146,"div",104)(147,"p")(148,"strong"),e.\u0275\u0275text(149,"Loan Age:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(150),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(151,"p")(152,"strong"),e.\u0275\u0275text(153,"Last Payment:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(154),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(155,"div",21)(156,"div",30)(157,"h5",95),e.\u0275\u0275text(158,"Recent Transactions (Last 10)"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(159,"div",5)(160,"div",63)(161,"table",105)(162,"thead")(163,"tr")(164,"th"),e.\u0275\u0275text(165,"Date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(166,"th"),e.\u0275\u0275text(167,"Type"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(168,"th"),e.\u0275\u0275text(169,"Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(170,"th"),e.\u0275\u0275text(171,"Description"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(172,"th"),e.\u0275\u0275text(173,"Payment Method"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(174,"tbody"),e.\u0275\u0275template(175,At,13,11,"tr",66),e.\u0275\u0275elementEnd()()()()()()),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(11),e.\u0275\u0275textInterpolate1(" ",t.selectedLoanReport.loan.loan_id,""),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",t.selectedLoanReport.loan.loan_type,""),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngClass",t.getStatusClass(t.selectedLoanReport.loan.status)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.selectedLoanReport.loan.status," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",t.selectedLoanReport.loan.purpose,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",t.formatCurrency(t.selectedLoanReport.loan.requested_loan_amount),""),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",t.formatCurrency(t.selectedLoanReport.loan.approved_loan_amount),""),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",t.selectedLoanReport.loan.interest_rate,"%"),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate2(" ",t.selectedLoanReport.loan.duration," ",t.selectedLoanReport.loan.interval,""),e.\u0275\u0275advance(11),e.\u0275\u0275textInterpolate1(" ",t.selectedLoanReport.loan.user.name,""),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",t.selectedLoanReport.loan.user.user_id,""),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",t.selectedLoanReport.loan.user.email,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",t.selectedLoanReport.loan.user.phone,""),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.selectedLoanReport.loan.user.address),e.\u0275\u0275advance(10),e.\u0275\u0275textInterpolate(t.formatCurrency(t.selectedLoanReport.financial_summary.totalDisbursed)),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(t.formatCurrency(t.selectedLoanReport.financial_summary.totalPaid)),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(t.formatCurrency(t.selectedLoanReport.financial_summary.totalOutstanding)),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(t.formatPercentage(t.selectedLoanReport.performance_metrics.paymentPercentage)),e.\u0275\u0275advance(12),e.\u0275\u0275textInterpolate1(" ",t.formatCurrency(t.selectedLoanReport.financial_summary.outstandingBreakdown.principal),""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",t.formatCurrency(t.selectedLoanReport.financial_summary.outstandingBreakdown.interest),""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",t.formatCurrency(t.selectedLoanReport.financial_summary.outstandingBreakdown.penalties),""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",t.formatCurrency(t.selectedLoanReport.financial_summary.outstandingBreakdown.fees),""),e.\u0275\u0275advance(11),e.\u0275\u0275textInterpolate1(" ",t.selectedLoanReport.transaction_metrics.totalTransactions,""),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",t.selectedLoanReport.transaction_metrics.paymentTransactions,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",t.formatCurrency(t.selectedLoanReport.transaction_metrics.averagePayment),""),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",t.selectedLoanReport.transaction_metrics.paymentFrequency,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",t.selectedLoanReport.timeline_analysis.loanAge," days"),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",t.selectedLoanReport.timeline_analysis.daysSinceLastTransaction," days ago"),e.\u0275\u0275advance(21),e.\u0275\u0275property("ngForOf",t.selectedLoanReport.recent_transactions)}}function Vt(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",88)(1,"h4",89),e.\u0275\u0275text(2,"Loan Comprehensive Report"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",90),e.\u0275\u0275listener("click",function(){const i=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(i.dismiss())}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",91),e.\u0275\u0275template(5,Mt,6,0,"div",54),e.\u0275\u0275template(6,Dt,176,30,"div",37),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",92)(8,"button",93),e.\u0275\u0275listener("click",function(){const i=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(i.dismiss())}),e.\u0275\u0275text(9,"Close"),e.\u0275\u0275elementEnd()()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",t.loadingDetail),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.selectedLoanReport&&!t.loadingDetail)}}const jt=[{path:"loans/:type",component:Je},{path:"pay-loan",component:(()=>{class n{constructor(t,a,r,i){this.userService=t,this.loanService=a,this.toast=r,this.route=i,this.userDetails=null,this.loanList=[],this.paymentMethods=["Cash","Bank Transfer","Cash","Cheque"],this.totalPayableAmount=0,this.userId="",this.userDetails=null,this.loanList=[]}ngOnInit(){this.breadCrumbItems=[{label:"Loans"},{label:"Pay Loans",active:!0}],this.paymentFormGroup=new l.cw({id:new l.NI({value:"",disabled:!0},l.kI.required),loanId:new l.NI("",l.kI.required),amount:new l.NI("",[l.kI.required,l.kI.min(1)]),paymentMethod:new l.NI("",l.kI.required)}),this.route.queryParams.subscribe(t=>{t.user&&(this.paymentFormGroup.patchValue({id:t.user}),this.userId=t.user,this.getDetails()),t.id&&(this.paymentFormGroup.patchValue({loanId:t.id}),this.getTotalPaybleAmount({_id:t.id}))})}getDetails(){let t=this.paymentFormGroup.value.id;t||(t=this.userId),this.userService.getBasicUserProfile(t).subscribe({next:a=>{a.status&&(this.userDetails=a?.data?.user,this.getAllLoans(this.userDetails._id))},error:a=>{console.error("Error fetching user details:",a)}})}getTotalPaybleAmount(t){this.loanService.getTotalPaymentAmount(t._id).subscribe({next:a=>{console.log("Total Payment Amount:",a),a.status?(this.totalPayableAmount=a?.data?.outstandingAmount,this.paymentFormGroup.patchValue({amount:this.totalPayableAmount}),this.paymentFormGroup.get("amount")?.disable()):console.error("Error fetching total payment amount:",a.message)},error:a=>{console.error("Error fetching total payment amount:",a)}})}getAllLoans(t){this.loanService.getAllUserActiveLoans(t).subscribe({next:a=>{a.status?this.loanList=a?.data?.loans.map(r=>({_id:r._id,label:`${r.loan_id} Amount: ${r.approved_loan_amount} Purpose: ${r.purpose}`})):console.error("Error fetching loans:",a.message)},error:a=>{console.error("Error fetching loans:",a)}})}payLoanFees(){if(this.paymentFormGroup.invalid)return void console.error("Payment form is invalid");const t={...this.paymentFormGroup.value,amount:this.totalPayableAmount};t.amount=parseFloat(t.amount),t.amount<=0?this.toast.error("Amount must be greater than zero"):t.amount>this.totalPayableAmount?this.toast.error("Amount exceeds total payable amount"):this.loanService.recordPayment(t).subscribe({next:a=>{a.status?(this.toast.success("Payment recorded successfully"),this.paymentFormGroup.reset(),this.totalPayableAmount=0):this.toast.success("Error recording payment:")},error:a=>{this.toast.success("Error recording payment:")}})}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(it.i),e.\u0275\u0275directiveInject(x),e.\u0275\u0275directiveInject(st._W),e.\u0275\u0275directiveInject(f.gz))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-pay-loan"]],decls:33,vars:13,consts:[[1,"container-fluid"],["title","Pay Loan",3,"breadcrumbItems"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"col-12",3,"formGroup"],[1,"mb-3","col-lg-12"],["for","userId",1,"form-label"],["type","text","id","userId","formControlName","id","placeholder","Enter user ID",1,"form-control",3,"blur"],["class","text-danger",4,"ngIf"],["class","mt-1",4,"ngIf"],["for","cardId",1,"form-label"],["formControlName","loanId",3,"items","bindValue","bindLabel","change"],[1,"mb-3","col-lg-6"],["for","amount",1,"form-label"],["type","number","id","amount","formControlName","amount","placeholder","Enter amount","min","1",1,"form-control"],["for","paymentMethod",1,"form-label"],["id","paymentMethod","formControlName","paymentMethod",1,"form-control"],[3,"ngValue",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-primary",3,"disabled","click"],[1,"text-danger"],[4,"ngIf"],[1,"mt-1"],[3,"ngValue"]],template:function(t,a){if(1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-page-title",1),e.\u0275\u0275elementStart(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"form",6)(7,"div",2)(8,"div",7)(9,"label",8),e.\u0275\u0275text(10,"User ID"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"input",9),e.\u0275\u0275listener("blur",function(){return a.getDetails()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(12,mt,2,1,"div",10),e.\u0275\u0275template(13,pt,5,1,"div",11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"div",7)(15,"label",12),e.\u0275\u0275text(16,"Loan"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"ng-select",13),e.\u0275\u0275listener("change",function(i){return a.getTotalPaybleAmount(i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(18,ut,2,1,"div",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"div",14)(20,"label",15),e.\u0275\u0275text(21,"Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(22,"input",16),e.\u0275\u0275template(23,vt,3,2,"div",10),e.\u0275\u0275template(24,ft,5,1,"div",11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"div",14)(26,"label",17),e.\u0275\u0275text(27,"Payment Method"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(28,"select",18),e.\u0275\u0275template(29,xt,2,2,"option",19),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(30,St,2,1,"div",10),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(31,"button",20),e.\u0275\u0275listener("click",function(){return a.payLoanFees()}),e.\u0275\u0275text(32,"Submit"),e.\u0275\u0275elementEnd()()()()()()()),2&t){let r,i,s,d;e.\u0275\u0275advance(1),e.\u0275\u0275property("breadcrumbItems",a.breadCrumbItems),e.\u0275\u0275advance(5),e.\u0275\u0275property("formGroup",a.paymentFormGroup),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",(null==(r=a.paymentFormGroup.get("id"))?null:r.touched)&&(null==(r=a.paymentFormGroup.get("id"))?null:r.invalid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.userDetails),e.\u0275\u0275advance(4),e.\u0275\u0275property("items",a.loanList)("bindValue","_id")("bindLabel","label"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==(i=a.paymentFormGroup.get("loanId"))?null:i.touched)&&(null==(i=a.paymentFormGroup.get("loanId"))?null:i.invalid)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(s=a.paymentFormGroup.get("amount"))?null:s.touched)&&(null==(s=a.paymentFormGroup.get("amount"))?null:s.invalid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.userDetails),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngForOf",a.paymentMethods),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==(d=a.paymentFormGroup.get("paymentMethod"))?null:d.touched)&&(null==(d=a.paymentFormGroup.get("paymentMethod"))?null:d.invalid)),e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",a.paymentFormGroup.invalid)}},dependencies:[m.NgForOf,m.NgIf,l._Y,l.YN,l.Kr,l.Fj,l.wV,l.EJ,l.JJ,l.JL,l.qQ,h.V,l.sg,l.u,A.w9]}),n})()},{path:"user-transanction",component:nt},{path:"admin-transanction",component:lt},{path:"reports",component:(()=>{class n{constructor(t,a){this.loanService=t,this.modalService=a,this.loanReports=[],this.summary={},this.currentPage=1,this.totalPages=0,this.totalRecords=0,this.limit=20,this.loading=!1,this.loadingDetail=!1,this.filters={search:"",status:"",loan_type:"",loan_id:"",name:"",email:"",user_id:"",min_outstanding:"",max_outstanding:"",start_date:"",end_date:"",sortBy:"created_date",sortOrder:"desc"},this.statusOptions=["Pending","Approved","Rejected","Completed"],this.loanTypeOptions=["Personal","Garanteed"],this.sortOptions=[{value:"created_date",label:"Loan Creation Date"},{value:"userName",label:"User Name"},{value:"totalOutstanding",label:"Outstanding Amount"},{value:"totalDisbursed",label:"Disbursed Amount"},{value:"paymentPercentage",label:"Payment Progress"},{value:"lastTransactionDate",label:"Last Transaction"},{value:"approved_loan_amount",label:"Approved Amount"}],this.selectedLoanReport=null,this.isExporting=!1,this.Math=Math}ngOnInit(){this.breadCrumbItems=[{label:"Loan Management"},{label:"Reports",active:!0}],this.loadReports()}loadReports(t=1){this.loading=!0,this.currentPage=t;const a={...this.filters,page:this.currentPage,limit:this.limit};this.loanService.getAllUsersLoanReport(a).subscribe({next:r=>{"success"===r.status&&(console.log("Loan Report Response:",r),this.loanReports=r.data.loans,this.summary=r.data.summary,this.totalPages=r.data.pagination.pages,this.totalRecords=r.data.pagination.total),this.loading=!1},error:r=>{console.error("Error loading loan reports:",r),this.loading=!1}})}onFilterChange(){this.currentPage=1,this.loadReports()}clearFilters(){this.filters={search:"",status:"",loan_type:"",loan_id:"",name:"",email:"",user_id:"",min_outstanding:"",max_outstanding:"",start_date:"",end_date:"",sortBy:"created_date",sortOrder:"desc"},this.loadReports()}onPageChange(t){this.loadReports(t)}viewLoanDetails(t,a){this.loadingDetail=!0,this.selectedLoanReport=null,this.loanService.getLoanComprehensiveReport(t).subscribe({next:r=>{"success"===r.status&&(this.selectedLoanReport=r.data,this.modalService.open(a,{size:"xl",scrollable:!0})),this.loadingDetail=!1},error:r=>{console.error("Error loading loan details:",r),this.loadingDetail=!1}})}getRiskLevel(t){if(t.totalOutstanding<=0)return"Low";const a=t.totalOutstanding/t.totalDisbursed,r=t.daysSinceLastPayment||0;return a>.8||r>90?"High":a>.5||r>30?"Medium":"Low"}getRiskLevelClass(t){switch(t){case"High":return"bg-danger";case"Medium":return"bg-warning";case"Low":return"bg-success";default:return"bg-secondary"}}getStatusClass(t){switch(t){case"Approved":return"bg-success";case"Pending":return"bg-warning";case"Rejected":return"bg-danger";case"Completed":return"bg-info";default:return"bg-secondary"}}formatCurrency(t){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(t||0)}formatPercentage(t){return`${(t||0).toFixed(1)}%`}exportToCSV(){this.isExporting=!0;const t=this.loanReports.map(a=>({"Loan ID":a.loan_id,"User Name":a.user.name,"User ID":a.user.user_id,Email:a.user.email,Phone:a.user.phone,"Loan Type":a.loan_type,Status:a.status,"Requested Amount":a.requested_loan_amount,"Approved Amount":a.approved_loan_amount,"Interest Rate":`${a.interest_rate}%`,Duration:`${a.duration} ${a.interval}`,Purpose:a.purpose,"Total Disbursed":a.totalDisbursed,"Total Paid":a.totalPaid,"Outstanding Amount":a.totalOutstanding,"Payment Progress":`${a.paymentPercentage?.toFixed(1)}%`,"Risk Level":this.getRiskLevel(a),"Start Date":a.start_date,"Created Date":a.created_date,"Last Payment":a.lastTransactionDate||"N/A"}));this.downloadCSV(t,"loan-reports"),this.isExporting=!1}downloadCSV(t,a){const r=this.convertToCSV(t),i=new Blob([r],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),d=URL.createObjectURL(i);s.setAttribute("href",d),s.setAttribute("download",`${a}-${(new Date).toISOString().split("T")[0]}.csv`),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)}convertToCSV(t){const a="object"!=typeof t?JSON.parse(t):t;let r="";r+=Object.keys(a[0]).join(",")+"\r\n";for(let s=0;s<a.length;s++){let d="";for(let c in a[s])""!==d&&(d+=","),d+=`"${a[s][c]}"`;r+=d+"\r\n"}return r}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(x),e.\u0275\u0275directiveInject(g.FF))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-reports"]],decls:165,vars:29,consts:[[1,"container-fluid"],["title","Loan Reports",3,"breadcrumbItems"],[1,"row","mb-4"],[1,"col-xl-3","col-md-6"],[1,"card","mini-stats-wid"],[1,"card-body"],[1,"d-flex"],[1,"flex-grow-1"],[1,"text-muted","fw-medium"],[1,"mb-0"],[1,"flex-shrink-0","align-self-center"],[1,"mini-stat-icon","avatar-sm","rounded-circle","bg-primary"],[1,"avatar-title"],[1,"bx","bx-file","text-white","font-size-16"],[1,"mini-stat-icon","avatar-sm","rounded-circle","bg-info"],[1,"bx","bx-money","text-white","font-size-16"],[1,"mini-stat-icon","avatar-sm","rounded-circle","bg-warning"],[1,"bx","bx-error-circle","text-white","font-size-16"],[1,"mini-stat-icon","avatar-sm","rounded-circle","bg-success"],[1,"bx","bx-check-circle","text-white","font-size-16"],[1,"col-xl-4","col-md-4"],[1,"card"],[1,"d-flex","align-items-center"],[1,"text-muted"],[1,"flex-shrink-0"],[1,"badge","badge-soft-success","font-size-12"],[1,"badge","badge-soft-warning","font-size-12"],[1,"badge","badge-soft-danger","font-size-12"],[1,"row"],[1,"col-12"],[1,"card-header"],[1,"row","align-items-center"],[1,"col"],[1,"card-title"],[1,"col-auto"],[1,"btn","btn-success","btn-sm",3,"disabled","click"],[1,"bx","bx-download","me-1"],[4,"ngIf"],[1,"row","mb-3"],[1,"col-xl-3","col-md-6","mb-2"],[1,"form-label"],["type","text","placeholder","Search by name, email, loan ID...",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-xl-2","col-md-6","mb-2"],[1,"form-select",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","number","placeholder","Min amount",1,"form-control",3,"ngModel","ngModelChange"],["type","number","placeholder","Max amount",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-xl-1","col-md-6","mb-2","d-flex","align-items-end"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"bx","bx-refresh"],["type","date",1,"form-control",3,"ngModel","ngModelChange"],["value","desc"],["value","asc"],["class","text-center py-4",4,"ngIf"],["class","table-responsive",4,"ngIf"],["class","row align-items-center mt-3",4,"ngIf"],["detailModal",""],[3,"value"],[1,"text-center","py-4"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-2","text-muted"],[1,"table-responsive"],[1,"table","table-nowrap","table-hover"],[1,"table-light"],[4,"ngFor","ngForOf"],[1,"d-flex","flex-column"],[1,"fw-medium"],[1,"badge","font-size-11",3,"ngClass"],[1,"text-muted","mt-1"],[1,"text-success"],[1,"text-info"],[1,"text-warning"],[1,"progress","mb-1",2,"height","6px"],[1,"progress-bar",3,"ngClass"],["class","text-muted",4,"ngIf"],[1,"badge","badge-danger","font-size-11",3,"ngClass"],["class","mt-1",4,"ngIf"],[1,"btn","btn-outline-primary","btn-sm",3,"disabled","click"],[1,"bx","bx-show","me-1"],[1,"mt-1"],[1,"bx","bx-file-blank","display-4","text-muted"],[1,"row","align-items-center","mt-3"],[1,"col-sm-6"],[1,"dataTables_info"],[1,"dataTables_paginate","paging_simple_numbers","float-end"],[3,"page","pageSize","collectionSize","maxSize","rotate","pageChange"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body",2,"max-height","600px","overflow-y","auto"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"card","mb-3"],[1,"card-title","mb-0"],[1,"col-md-6"],[1,"badge",3,"ngClass"],[1,"col-md-3"],[1,"text-center"],[1,"text-muted","mb-0"],[1,"text-primary"],[1,"row","mt-3"],[1,"col-3"],[1,"col-md-4"],[1,"table","table-sm"]],template:function(t,a){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-page-title",1),e.\u0275\u0275elementStart(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"p",8),e.\u0275\u0275text(9,"Total Loans"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"h4",9),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"number"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(13,"div",10)(14,"div",11)(15,"span",12),e.\u0275\u0275element(16,"i",13),e.\u0275\u0275elementEnd()()()()()()(),e.\u0275\u0275elementStart(17,"div",3)(18,"div",4)(19,"div",5)(20,"div",6)(21,"div",7)(22,"p",8),e.\u0275\u0275text(23,"Total Disbursed"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"h4",9),e.\u0275\u0275text(25),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(26,"div",10)(27,"div",14)(28,"span",12),e.\u0275\u0275element(29,"i",15),e.\u0275\u0275elementEnd()()()()()()(),e.\u0275\u0275elementStart(30,"div",3)(31,"div",4)(32,"div",5)(33,"div",6)(34,"div",7)(35,"p",8),e.\u0275\u0275text(36,"Total Outstanding"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(37,"h4",9),e.\u0275\u0275text(38),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(39,"div",10)(40,"div",16)(41,"span",12),e.\u0275\u0275element(42,"i",17),e.\u0275\u0275elementEnd()()()()()()(),e.\u0275\u0275elementStart(43,"div",3)(44,"div",4)(45,"div",5)(46,"div",6)(47,"div",7)(48,"p",8),e.\u0275\u0275text(49,"Total Paid"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(50,"h4",9),e.\u0275\u0275text(51),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(52,"div",10)(53,"div",18)(54,"span",12),e.\u0275\u0275element(55,"i",19),e.\u0275\u0275elementEnd()()()()()()()(),e.\u0275\u0275elementStart(56,"div",2)(57,"div",20)(58,"div",21)(59,"div",5)(60,"div",22)(61,"div",7)(62,"span",23),e.\u0275\u0275text(63,"Active Loans"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(64,"h5",9),e.\u0275\u0275text(65),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(66,"div",24)(67,"span",25),e.\u0275\u0275text(68,"Active"),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275elementStart(69,"div",20)(70,"div",21)(71,"div",5)(72,"div",22)(73,"div",7)(74,"span",23),e.\u0275\u0275text(75,"Pending Loans"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(76,"h5",9),e.\u0275\u0275text(77),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(78,"div",24)(79,"span",26),e.\u0275\u0275text(80,"Pending"),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275elementStart(81,"div",20)(82,"div",21)(83,"div",5)(84,"div",22)(85,"div",7)(86,"span",23),e.\u0275\u0275text(87,"Rejected Loans"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(88,"h5",9),e.\u0275\u0275text(89),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(90,"div",24)(91,"span",27),e.\u0275\u0275text(92,"Rejected"),e.\u0275\u0275elementEnd()()()()()()(),e.\u0275\u0275elementStart(93,"div",28)(94,"div",29)(95,"div",21)(96,"div",30)(97,"div",31)(98,"div",32)(99,"h4",33),e.\u0275\u0275text(100,"Loan Reports"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(101,"div",34)(102,"button",35),e.\u0275\u0275listener("click",function(){return a.exportToCSV()}),e.\u0275\u0275element(103,"i",36),e.\u0275\u0275template(104,bt,2,0,"span",37),e.\u0275\u0275template(105,Ct,2,0,"span",37),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(106,"div",5)(107,"div",38)(108,"div",39)(109,"label",40),e.\u0275\u0275text(110,"Search"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(111,"input",41),e.\u0275\u0275listener("ngModelChange",function(i){return a.filters.search=i})("ngModelChange",function(){return a.onFilterChange()}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(112,"div",42)(113,"label",40),e.\u0275\u0275text(114,"Status"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(115,"select",43),e.\u0275\u0275listener("ngModelChange",function(i){return a.filters.status=i})("ngModelChange",function(){return a.onFilterChange()}),e.\u0275\u0275elementStart(116,"option",44),e.\u0275\u0275text(117,"All Status"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(118,Et,2,2,"option",45),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(119,"div",42)(120,"label",40),e.\u0275\u0275text(121,"Loan Type"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(122,"select",43),e.\u0275\u0275listener("ngModelChange",function(i){return a.filters.loan_type=i})("ngModelChange",function(){return a.onFilterChange()}),e.\u0275\u0275elementStart(123,"option",44),e.\u0275\u0275text(124,"All Types"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(125,It,2,2,"option",45),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(126,"div",42)(127,"label",40),e.\u0275\u0275text(128,"Min Outstanding"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(129,"input",46),e.\u0275\u0275listener("ngModelChange",function(i){return a.filters.min_outstanding=i})("ngModelChange",function(){return a.onFilterChange()}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(130,"div",42)(131,"label",40),e.\u0275\u0275text(132,"Max Outstanding"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(133,"input",47),e.\u0275\u0275listener("ngModelChange",function(i){return a.filters.max_outstanding=i})("ngModelChange",function(){return a.onFilterChange()}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(134,"div",48)(135,"button",49),e.\u0275\u0275listener("click",function(){return a.clearFilters()}),e.\u0275\u0275element(136,"i",50),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(137,"div",38)(138,"div",39)(139,"label",40),e.\u0275\u0275text(140,"Start Date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(141,"input",51),e.\u0275\u0275listener("ngModelChange",function(i){return a.filters.start_date=i})("ngModelChange",function(){return a.onFilterChange()}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(142,"div",39)(143,"label",40),e.\u0275\u0275text(144,"End Date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(145,"input",51),e.\u0275\u0275listener("ngModelChange",function(i){return a.filters.end_date=i})("ngModelChange",function(){return a.onFilterChange()}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(146,"div",39)(147,"label",40),e.\u0275\u0275text(148,"Sort By"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(149,"select",43),e.\u0275\u0275listener("ngModelChange",function(i){return a.filters.sortBy=i})("ngModelChange",function(){return a.onFilterChange()}),e.\u0275\u0275template(150,Lt,2,2,"option",45),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(151,"div",39)(152,"label",40),e.\u0275\u0275text(153,"Sort Order"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(154,"select",43),e.\u0275\u0275listener("ngModelChange",function(i){return a.filters.sortOrder=i})("ngModelChange",function(){return a.onFilterChange()}),e.\u0275\u0275elementStart(155,"option",52),e.\u0275\u0275text(156,"Descending"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(157,"option",53),e.\u0275\u0275text(158,"Ascending"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275template(159,Tt,6,0,"div",54),e.\u0275\u0275template(160,qt,18,1,"div",55),e.\u0275\u0275template(161,kt,4,0,"div",54),e.\u0275\u0275template(162,Gt,7,8,"div",56),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275template(163,Vt,10,2,"ng-template",null,57,e.\u0275\u0275templateRefExtractor)),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("breadcrumbItems",a.breadCrumbItems),e.\u0275\u0275advance(10),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(12,27,a.summary.totalLoans||0)),e.\u0275\u0275advance(14),e.\u0275\u0275textInterpolate(a.formatCurrency(a.summary.totalDisbursedAmount)),e.\u0275\u0275advance(13),e.\u0275\u0275textInterpolate(a.formatCurrency(a.summary.totalOutstandingAmount)),e.\u0275\u0275advance(13),e.\u0275\u0275textInterpolate(a.formatCurrency(a.summary.totalPaidAmount)),e.\u0275\u0275advance(14),e.\u0275\u0275textInterpolate(a.summary.activeLoans||0),e.\u0275\u0275advance(12),e.\u0275\u0275textInterpolate(a.summary.pendingLoans||0),e.\u0275\u0275advance(12),e.\u0275\u0275textInterpolate(a.summary.rejectedLoans||0),e.\u0275\u0275advance(13),e.\u0275\u0275property("disabled",a.isExporting),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!a.isExporting),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.isExporting),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngModel",a.filters.search),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngModel",a.filters.status),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",a.statusOptions),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngModel",a.filters.loan_type),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",a.loanTypeOptions),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngModel",a.filters.min_outstanding),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngModel",a.filters.max_outstanding),e.\u0275\u0275advance(8),e.\u0275\u0275property("ngModel",a.filters.start_date),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngModel",a.filters.end_date),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngModel",a.filters.sortBy),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",a.sortOptions),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngModel",a.filters.sortOrder),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",a.loading),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!a.loading),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!a.loading&&0===a.loanReports.length),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!a.loading&&a.loanReports.length>0))},dependencies:[m.NgClass,m.NgForOf,m.NgIf,l.YN,l.Kr,l.Fj,l.wV,l.EJ,l.JJ,l.On,h.V,g.N9,m.DecimalPipe,m.DatePipe]}),n})()}];let $t=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[f.Bz.forChild(jt),f.Bz]}),n})();var Ot=p(9668);let Bt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[m.CommonModule,l.u5,Ot.v,g.jF,g.bz,l.UX,A.A0,$t]}),n})()}}]);