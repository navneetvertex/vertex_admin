"use strict";(self.webpackChunkskote=self.webpackChunkskote||[]).push([[756],{756:(Oe,S,d)=>{d.r(S),d.d(S,{DepositModule:()=>$e});var m=d(6895),c=d(9158),a=d(4006),C=d(5226),p=d.n(C),e=d(4650),v=d(2231),u=d(9061),f=d(9234);function E(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"option",32),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=i.$implicit;e.\u0275\u0275property("value",t),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t)}}function y(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",t.annual_rate," %")}}function D(n,i){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li",37)(1,"a",41),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext().$implicit,o=e.\u0275\u0275nextContext(),s=e.\u0275\u0275reference(67);return e.\u0275\u0275resetView(o.openRDSettingFn(s,r))}),e.\u0275\u0275element(2,"i",42),e.\u0275\u0275elementEnd()()}}function I(n,i){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li",37)(1,"a",43),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext().$implicit,o=e.\u0275\u0275nextContext(),s=e.\u0275\u0275reference(69);return e.\u0275\u0275resetView(o.openCloseFDModal(s,r))}),e.\u0275\u0275element(2,"i",44),e.\u0275\u0275elementEnd()()}}const F=function(n){return["/members/fixed-deposits/",n]};function R(n,i){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"tr")(2,"td"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"td"),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"td")(7,"div",33)(8,"span",34),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"span",34),e.\u0275\u0275text(11),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(12,"td"),e.\u0275\u0275text(13),e.\u0275\u0275pipe(14,"number"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"td"),e.\u0275\u0275template(16,y,2,1,"span",35),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"td"),e.\u0275\u0275text(18),e.\u0275\u0275pipe(19,"number"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"td"),e.\u0275\u0275text(21),e.\u0275\u0275pipe(22,"number"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"td"),e.\u0275\u0275text(24),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"td"),e.\u0275\u0275text(26),e.\u0275\u0275pipe(27,"date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(28,"td")(29,"span"),e.\u0275\u0275text(30),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(31,"ul",36)(32,"li",37)(33,"a",38),e.\u0275\u0275element(34,"i",39),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(35,D,3,0,"li",40),e.\u0275\u0275template(36,I,3,0,"li",40),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd()),2&n){const t=i.$implicit,l=i.index,r=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate((r.page-1)*r.pageSize+l+1),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate2("",null==t||null==t.user?null:t.user.name," (",null==t||null==t.user?null:t.user.user_id,") "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(null==t||null==t.user?null:t.user.email_id),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==t.user?null:t.user.mobile_number),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("\u20b9",e.\u0275\u0275pipeBind2(14,19,t.amount,"1.2-2"),""),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",t.annual_rate),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("\u20b9",e.\u0275\u0275pipeBind2(19,22,t.paidAmount,"1.2-2"),""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("\u20b9",e.\u0275\u0275pipeBind2(22,25,t.pendingAmount,"1.2-2"),""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.notes),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(27,28,t.created_date)),e.\u0275\u0275advance(3),e.\u0275\u0275classMapInterpolate2("badge font-size-11 m-1 rounded-pill badge-soft-","Requested"===t.status?"warning":"Approved"===t.status?"success":"Close-Requested"===t.status?"danger":"secondary"," text-","Requested"===t.status?"warning":"Approved"===t.status?"success":"Close-Requested"===t.status?"danger":"secondary",""),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ","Close-Requested"===t.status?"Closure Requested":t.status," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction1(30,F,null==t||null==t.user?null:t.user._id)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","Requested"===t.status),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Close-Requested"===t.status)}}function w(n,i){1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Amount is required."),e.\u0275\u0275elementEnd())}function T(n,i){1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Enter a valid number (up to 2 decimal places)."),e.\u0275\u0275elementEnd())}function k(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"div",88),e.\u0275\u0275template(1,w,2,0,"small",35),e.\u0275\u0275template(2,T,2,0,"small",35),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(2);let l,r;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(l=t.editSettingFormGroup.get("amount"))||null==l.errors?null:l.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(r=t.editSettingFormGroup.get("amount"))||null==r.errors?null:r.errors.pattern)}}function N(n,i){1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Duration is required."),e.\u0275\u0275elementEnd())}function G(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"div",88),e.\u0275\u0275template(1,N,2,0,"small",35),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(2);let l;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(l=t.editSettingFormGroup.get("duration"))||null==l.errors?null:l.errors.required)}}function A(n,i){1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Annual rate is required."),e.\u0275\u0275elementEnd())}function q(n,i){1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Rate cannot be negative."),e.\u0275\u0275elementEnd())}function B(n,i){1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Rate cannot exceed 100%."),e.\u0275\u0275elementEnd())}function P(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"div",88),e.\u0275\u0275template(1,A,2,0,"small",35),e.\u0275\u0275template(2,q,2,0,"small",35),e.\u0275\u0275template(3,B,2,0,"small",35),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(2);let l,r,o;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(l=t.editSettingFormGroup.get("annual_rate"))||null==l.errors?null:l.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(r=t.editSettingFormGroup.get("annual_rate"))||null==r.errors?null:r.errors.min),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(o=t.editSettingFormGroup.get("annual_rate"))||null==o.errors?null:o.errors.max)}}function V(n,i){1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Maturity amount is required."),e.\u0275\u0275elementEnd())}function U(n,i){1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Enter a valid number (up to 2 decimal places)."),e.\u0275\u0275elementEnd())}function M(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"div",88),e.\u0275\u0275template(1,V,2,0,"small",35),e.\u0275\u0275template(2,U,2,0,"small",35),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(2);let l,r;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(l=t.editSettingFormGroup.get("maturity_amount"))||null==l.errors?null:l.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(r=t.editSettingFormGroup.get("maturity_amount"))||null==r.errors?null:r.errors.pattern)}}function Y(n,i){1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Indirect referral % is required."),e.\u0275\u0275elementEnd())}function z(n,i){1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Must be at least 0%."),e.\u0275\u0275elementEnd())}function $(n,i){1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Must be 100% or less."),e.\u0275\u0275elementEnd())}function O(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"div",88),e.\u0275\u0275template(1,Y,2,0,"small",35),e.\u0275\u0275template(2,z,2,0,"small",35),e.\u0275\u0275template(3,$,2,0,"small",35),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(2);let l,r,o;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(l=t.editSettingFormGroup.get("indirect_refer_per"))||null==l.errors?null:l.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(r=t.editSettingFormGroup.get("indirect_refer_per"))||null==r.errors?null:r.errors.min),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(o=t.editSettingFormGroup.get("indirect_refer_per"))||null==o.errors?null:o.errors.max)}}function L(n,i){1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Direct referral % is required."),e.\u0275\u0275elementEnd())}function j(n,i){1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Must be at least 0%."),e.\u0275\u0275elementEnd())}function J(n,i){1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Must be 100% or less."),e.\u0275\u0275elementEnd())}function K(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"div",88),e.\u0275\u0275template(1,L,2,0,"small",35),e.\u0275\u0275template(2,j,2,0,"small",35),e.\u0275\u0275template(3,J,2,0,"small",35),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(2);let l,r,o;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(l=t.editSettingFormGroup.get("direct_refer_per"))||null==l.errors?null:l.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(r=t.editSettingFormGroup.get("direct_refer_per"))||null==r.errors?null:r.errors.min),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(o=t.editSettingFormGroup.get("direct_refer_per"))||null==o.errors?null:o.errors.max)}}function H(n,i){1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Direct referral % is required."),e.\u0275\u0275elementEnd())}function Q(n,i){1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Must be at least 0%."),e.\u0275\u0275elementEnd())}function X(n,i){1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Must be 100% or less."),e.\u0275\u0275elementEnd())}function W(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"div",88),e.\u0275\u0275template(1,H,2,0,"small",35),e.\u0275\u0275template(2,Q,2,0,"small",35),e.\u0275\u0275template(3,X,2,0,"small",35),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(2);let l,r,o;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(l=t.editSettingFormGroup.get("franchise_refer_per"))||null==l.errors?null:l.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(r=t.editSettingFormGroup.get("franchise_refer_per"))||null==r.errors?null:r.errors.min),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(o=t.editSettingFormGroup.get("franchise_refer_per"))||null==o.errors?null:o.errors.max)}}function Z(n,i){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",45)(1,"h5",46),e.\u0275\u0275text(2,"Update Settings"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",47),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.dismiss("Cross click"))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"form",7)(5,"div",48)(6,"div",2)(7,"div",49)(8,"label",50),e.\u0275\u0275text(9,"Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"input",51),e.\u0275\u0275listener("blur",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.calculateMaturityAmount())}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(11,k,3,2,"div",52),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",49)(13,"label",53),e.\u0275\u0275text(14,"Duration"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"select",54),e.\u0275\u0275listener("blur",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.calculateMaturityAmount())}),e.\u0275\u0275text(16," > "),e.\u0275\u0275elementStart(17,"option",55),e.\u0275\u0275text(18,"Select duration"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"option",56),e.\u0275\u0275text(20,"Half Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"option",57),e.\u0275\u0275text(22,"1 Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"option",58),e.\u0275\u0275text(24,"1.5 Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"option",59),e.\u0275\u0275text(26,"2 Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(27,"option",60),e.\u0275\u0275text(28,"2.5 Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"option",61),e.\u0275\u0275text(30,"3 Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(31,"option",62),e.\u0275\u0275text(32,"3.5 Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(33,"option",63),e.\u0275\u0275text(34,"4 Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(35,"option",64),e.\u0275\u0275text(36,"4.5 Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(37,"option",65),e.\u0275\u0275text(38,"5 Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(39,"option",66),e.\u0275\u0275text(40,"5.5 Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(41,"option",67),e.\u0275\u0275text(42,"6 Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(43,"option",68),e.\u0275\u0275text(44,"6.5 Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(45,"option",69),e.\u0275\u0275text(46,"7 Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(47,"option",70),e.\u0275\u0275text(48,"7.5 Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(49,"option",71),e.\u0275\u0275text(50,"8 Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(51,"option",72),e.\u0275\u0275text(52,"8.5 Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(53,"option",73),e.\u0275\u0275text(54,"9 Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(55,"option",74),e.\u0275\u0275text(56,"9.5 Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(57,"option",75),e.\u0275\u0275text(58,"10 Year"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(59,G,2,1,"div",52),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(60,"div",49)(61,"label",76),e.\u0275\u0275text(62,"Annual Rate (%)"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(63,"input",77),e.\u0275\u0275listener("keyup",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.calculateMaturityAmount())}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(64,P,4,3,"div",52),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(65,"div",49)(66,"label",78),e.\u0275\u0275text(67,"Maturity Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(68,"input",79),e.\u0275\u0275template(69,M,3,2,"div",52),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(70,"div",49)(71,"label",80),e.\u0275\u0275text(72,"Indirect Referral Percentage"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(73,"input",81),e.\u0275\u0275template(74,O,4,3,"div",52),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(75,"div",49)(76,"label",82),e.\u0275\u0275text(77,"Direct Referral Percentage"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(78,"input",83),e.\u0275\u0275template(79,K,4,3,"div",52),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(80,"div",49)(81,"label",82),e.\u0275\u0275text(82,"Franchise Referral Percentage"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(83,"input",84),e.\u0275\u0275template(84,W,4,3,"div",52),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(85,"div",85)(86,"button",86),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.close("Close click"))}),e.\u0275\u0275text(87,"Close"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(88,"button",87),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.editSetting())}),e.\u0275\u0275text(89,"Submit"),e.\u0275\u0275elementEnd()()()}if(2&n){const t=e.\u0275\u0275nextContext();let l,r,o,s,_,g,x;e.\u0275\u0275advance(4),e.\u0275\u0275property("formGroup",t.editSettingFormGroup),e.\u0275\u0275advance(7),e.\u0275\u0275property("ngIf",(null==(l=t.editSettingFormGroup.get("amount"))?null:l.touched)&&(null==(l=t.editSettingFormGroup.get("amount"))?null:l.invalid)),e.\u0275\u0275advance(48),e.\u0275\u0275property("ngIf",(null==(r=t.editSettingFormGroup.get("duration"))?null:r.touched)&&(null==(r=t.editSettingFormGroup.get("duration"))?null:r.invalid)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(o=t.editSettingFormGroup.get("annual_rate"))?null:o.touched)&&(null==(o=t.editSettingFormGroup.get("annual_rate"))?null:o.invalid)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(s=t.editSettingFormGroup.get("maturity_amount"))?null:s.touched)&&(null==(s=t.editSettingFormGroup.get("maturity_amount"))?null:s.invalid)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(_=t.editSettingFormGroup.get("indirect_refer_per"))?null:_.touched)&&(null==(_=t.editSettingFormGroup.get("indirect_refer_per"))?null:_.invalid)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(g=t.editSettingFormGroup.get("direct_refer_per"))?null:g.touched)&&(null==(g=t.editSettingFormGroup.get("direct_refer_per"))?null:g.invalid)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(x=t.editSettingFormGroup.get("franchise_refer_per"))?null:x.touched)&&(null==(x=t.editSettingFormGroup.get("franchise_refer_per"))?null:x.invalid)),e.\u0275\u0275advance(4),e.\u0275\u0275property("disabled",t.editSettingFormGroup.invalid)}}function ee(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"div",119)(1,"div",100)(2,"div",101)(3,"h6",102),e.\u0275\u0275element(4,"i",120),e.\u0275\u0275text(5," Member Information "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"div",5)(7,"div",2)(8,"div",121)(9,"div",122)(10,"p",107),e.\u0275\u0275text(11,"Member Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"h6",123),e.\u0275\u0275text(13),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(14,"div",121)(15,"div",122)(16,"p",107),e.\u0275\u0275text(17,"Member ID"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"h6",123),e.\u0275\u0275text(19),e.\u0275\u0275elementEnd()()()()()()()),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(13),e.\u0275\u0275textInterpolate(null==t.selectedUser||null==t.selectedUser.user?null:t.selectedUser.user.name),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(null==t.selectedUser||null==t.selectedUser.user?null:t.selectedUser.user.user_id)}}function te(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"div",119)(1,"div",124)(2,"div",125)(3,"h6",102),e.\u0275\u0275element(4,"i",126),e.\u0275\u0275text(5," Deposit Summary "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"div",5)(7,"div",104)(8,"div",105)(9,"div",106)(10,"p",107),e.\u0275\u0275text(11,"Principal Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"h5",108),e.\u0275\u0275text(13),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(14,"div",105)(15,"div",106)(16,"p",107),e.\u0275\u0275text(17,"Interest Earned"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"h5",109),e.\u0275\u0275text(19),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(20,"div",105)(21,"div")(22,"p",107),e.\u0275\u0275text(23,"Total Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"h5",127),e.\u0275\u0275text(25),e.\u0275\u0275elementEnd()()()()()()()),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(13),e.\u0275\u0275textInterpolate1("\u20b9",(null==t.depositSummary?null:t.depositSummary.paid)||0,""),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1("\u20b9",(null==t.depositSummary?null:t.depositSummary.interest)||0,""),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1("\u20b9",(null==t.depositSummary?null:t.depositSummary.total)||0,"")}}function ne(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"div",136)(1,"div",137)(2,"div",138)(3,"strong"),e.\u0275\u0275text(4,"Closure Notes:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()()()),2&n){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",t.selectedUser.closure_notes," ")}}const le=function(n,i){return{"badge-soft-danger":n,"badge-soft-success":i}};function re(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"div",119)(1,"div",128)(2,"div",129)(3,"h6",102),e.\u0275\u0275element(4,"i",130),e.\u0275\u0275text(5," Existing Closure Request Details "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"div",5)(7,"div",2)(8,"div",131)(9,"div",122)(10,"p",107),e.\u0275\u0275text(11,"Requested On"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"h6",123),e.\u0275\u0275text(13),e.\u0275\u0275pipe(14,"date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"small",34),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"date"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(18,"div",131)(19,"div",122)(20,"p",107),e.\u0275\u0275text(21,"Penalty Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"h6",132),e.\u0275\u0275text(23),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(24,"div",131)(25,"div",122)(26,"p",107),e.\u0275\u0275text(27,"Final Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(28,"h6",133),e.\u0275\u0275text(29),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(30,"div",131)(31,"div",122)(32,"p",107),e.\u0275\u0275text(33,"Status"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(34,"span",134),e.\u0275\u0275text(35),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275template(36,ne,6,1,"div",135),e.\u0275\u0275elementEnd()()()),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(13),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind2(14,7,t.selectedUser.closure_requested_on,"mediumDate")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind2(17,10,t.selectedUser.closure_requested_on,"shortTime")),e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate1("\u20b9",t.selectedUser.penalty_amount||0,""),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1("\u20b9",t.selectedUser.final_amount||0,""),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(13,le,"Close-Requested"===t.selectedUser.status,"Completed"===t.selectedUser.status)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ","Close-Requested"===t.selectedUser.status?"Closure Requested":t.selectedUser.status," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.selectedUser.closure_notes)}}function oe(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" This FD has an outstanding amount of \u20b9",t.selectedUser.pendingAmount||0,". Consider applying an appropriate penalty for early closure. ")}}function ae(n,i){1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1," This FD has no outstanding amounts. Review the closure request details below. "),e.\u0275\u0275elementEnd())}function ie(n,i){1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Penalty amount cannot be negative"),e.\u0275\u0275elementEnd())}function se(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"div",88),e.\u0275\u0275template(1,ie,2,0,"small",35),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(2);let l;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(l=t.closeFDFormGroup.get("penalty_amount"))||null==l.errors?null:l.errors.min)}}function me(n,i){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",45)(1,"h5",89),e.\u0275\u0275text(2,"Close Fixed Deposit"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",47),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.dismiss("Cross click"))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"form",7)(5,"div",48)(6,"div",2),e.\u0275\u0275template(7,ee,20,2,"div",90),e.\u0275\u0275template(8,te,26,3,"div",90),e.\u0275\u0275template(9,re,37,16,"div",90),e.\u0275\u0275elementStart(10,"div",91)(11,"div",92),e.\u0275\u0275element(12,"i",93),e.\u0275\u0275elementStart(13,"strong"),e.\u0275\u0275text(14,"Closure Processing:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(15,oe,2,1,"span",35),e.\u0275\u0275template(16,ae,2,0,"span",35),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(17,"div",94)(18,"label",95),e.\u0275\u0275text(19,"Penalty Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(20,"input",96),e.\u0275\u0275template(21,se,2,1,"div",52),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"div",94)(23,"label",97),e.\u0275\u0275text(24,"Final Settlement Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(25,"input",98),e.\u0275\u0275elementStart(26,"small",34),e.\u0275\u0275text(27,"Total Paid + Interest - Penalty"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(28,"div",99)(29,"div",100)(30,"div",101)(31,"h6",102),e.\u0275\u0275element(32,"i",103),e.\u0275\u0275text(33," Settlement Calculation "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(34,"div",5)(35,"div",104)(36,"div",105)(37,"div",106)(38,"p",107),e.\u0275\u0275text(39,"Total Paid"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(40,"h5",108),e.\u0275\u0275text(41),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(42,"div",105)(43,"div",106)(44,"p",107),e.\u0275\u0275text(45,"+ Interest"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(46,"h5",109),e.\u0275\u0275text(47),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(48,"div",105)(49,"div")(50,"p",107),e.\u0275\u0275text(51,"- Penalty"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(52,"h5",110),e.\u0275\u0275text(53),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275element(54,"hr"),e.\u0275\u0275elementStart(55,"div",2)(56,"div",111)(57,"h4",112),e.\u0275\u0275element(58,"i",113),e.\u0275\u0275text(59),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275elementStart(60,"div",114)(61,"label",115),e.\u0275\u0275text(62,"Closure Notes"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(63,"textarea",116),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(64,"div",85)(65,"button",86),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.close("Close click"))}),e.\u0275\u0275text(66,"Cancel"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(67,"button",117),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.submitCloseFDRequest())}),e.\u0275\u0275element(68,"i",118),e.\u0275\u0275text(69,"Submit Closure Request "),e.\u0275\u0275elementEnd()()()}if(2&n){const t=e.\u0275\u0275nextContext();let l,r,o;e.\u0275\u0275advance(4),e.\u0275\u0275property("formGroup",t.closeFDFormGroup),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",t.selectedUser),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.depositSummary),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.selectedUser.closure_requested_on),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",(null==t.depositSummary?null:t.depositSummary.paid)<t.selectedUser.amount?"alert-danger":"alert-warning"),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",(null==t.depositSummary?null:t.depositSummary.paid)<t.selectedUser.amount),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==t.depositSummary?null:t.depositSummary.paid)>=t.selectedUser.amount),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(l=t.closeFDFormGroup.get("penalty_amount"))?null:l.touched)&&(null==(l=t.closeFDFormGroup.get("penalty_amount"))?null:l.invalid)),e.\u0275\u0275advance(20),e.\u0275\u0275textInterpolate1("\u20b9",(null==t.depositSummary?null:t.depositSummary.paid)||0,""),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1("\u20b9",(null==t.depositSummary?null:t.depositSummary.interest)||0,""),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1("-\u20b9",(null==(r=t.closeFDFormGroup.get("penalty_amount"))?null:r.value)||0,""),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1(" Final Amount: \u20b9",(null==(o=t.closeFDFormGroup.get("final_amount"))?null:o.value)||0," "),e.\u0275\u0275advance(8),e.\u0275\u0275property("disabled",t.closeFDFormGroup.invalid)}}let de=(()=>{class n{constructor(t,l){this.depositService=t,this.modalService=l,this.userList=[],this.total=0,this.page=1,this.pageSize=10,this.statusList=["Requested","Approved","Close-Requested","Completed"],this.selectedUser=null,this.depositSummary=null}ngOnInit(){this.breadCrumbItems=[{label:"Deposit"},{label:"Recurring Deposit List",active:!0}],this.searchFormGroup=new a.cw({name:new a.NI(""),user_id:new a.NI(""),status:new a.NI("All")}),this.editSettingFormGroup=new a.cw({_id:new a.NI("",[a.kI.required]),amount:new a.NI("",[a.kI.required,a.kI.pattern("^[0-9]+(\\.[0-9]{1,2})?$")]),duration:new a.NI("",[a.kI.required]),maturity_amount:new a.NI({value:"",disabled:!0},[a.kI.required,a.kI.pattern("^[0-9]+(\\.[0-9]{1,2})?$")]),annual_rate:new a.NI("",[a.kI.required,a.kI.min(0),a.kI.max(100)]),user:new a.NI("",[a.kI.required]),indirect_refer_per:new a.NI(null,{nonNullable:!0,validators:[a.kI.required,a.kI.min(0),a.kI.max(100)]}),direct_refer_per:new a.NI(null,{nonNullable:!0,validators:[a.kI.required,a.kI.min(0),a.kI.max(100)]}),franchise_refer_per:new a.NI(null,{nonNullable:!0,validators:[a.kI.required,a.kI.min(0),a.kI.max(100)]})}),this.closeFDFormGroup=new a.cw({penalty_amount:new a.NI(0,[a.kI.min(0)]),final_amount:new a.NI({value:0,disabled:!0}),notes:new a.NI("")}),this.closeFDFormGroup.get("penalty_amount")?.valueChanges.subscribe(t=>{this.calculateFinalAmount()}),this.getRecrruingDeposits()}calculateMaturityAmount(){const t=this.editSettingFormGroup.get("amount")?.value,l=this.editSettingFormGroup.get("duration")?.value,r=this.editSettingFormGroup.get("annual_rate")?.value;console.log("Calculating maturity amount with:",{amount:t,duration:l,annualRate:r}),this.editSettingFormGroup.patchValue(t&&l&&r?{maturity_amount:(t+t*r*l/100).toFixed(2)}:{maturity_amount:""})}getRecrruingDeposits(){const t=this.searchFormGroup.value,l=[];Object.keys(t).forEach(o=>{null!==t[o]&&""!==t[o]&&l.push(`${o}=${encodeURIComponent(t[o])}`)});const r=l.join("&");this.depositService.getAllFixedDeposits(this.page,this.pageSize,r).subscribe(o=>{o.status&&(this.userList=o.data.deposits,this.total=o.data.total)},o=>{console.error(o)})}reset(){this.searchFormGroup.reset(),this.page=1,this.getRecrruingDeposits()}findPageShowing(){return Math.min(this.page*this.pageSize,this.total)}pageChange(t){this.page=t,this.getRecrruingDeposits()}openRDSettingFn(t,l){this.editSettingFormGroup.patchValue(l),this.modalService.open(t,{size:"lg",centered:!0})}editSetting(){if(this.editSettingFormGroup.valid){const t=this.editSettingFormGroup.value;t.maturity_amount=(t.amount+t.amount*t.annual_rate*t.duration/100).toFixed(2),t.status="Approved",console.log("Payload for editing deposit setting:",t),this.depositService.editFDepositSettings(this.editSettingFormGroup.value).subscribe({next:l=>{p().fire({icon:"success",title:"Success",text:"Deposit setting updated successfully",confirmButtonText:"OK"}),this.getRecrruingDeposits(),this.modalService.dismissAll()},error:l=>{console.error("Error updating deposit setting:",l)}})}else console.error("Edit setting form is invalid:",this.editSettingFormGroup.errors)}openCloseFDModal(t,l){this.selectedUser=l,this.getDepositSummary(l?.user),this.modalService.open(t,{size:"lg",centered:!0,backdrop:"static",keyboard:!1})}getDepositSummary(t){if(this.selectedUser){const l=this.selectedUser.amount||0,s=l*(this.selectedUser.annual_rate||0)*(this.selectedUser.duration||0)/100;this.depositSummary={paid:l,interest:s,total:l+s},this.calculateFinalAmount()}else this.depositSummary={paid:0,interest:0,total:0},this.calculateFinalAmount()}calculateFinalAmount(){const t=this.closeFDFormGroup.get("penalty_amount")?.value||0;this.closeFDFormGroup.patchValue({final_amount:Math.max(0,(this.depositSummary?.paid||0)+(this.depositSummary?.interest||0)-t)})}submitCloseFDRequest(){if("Close-Requested"===this.selectedUser.status)if(this.closeFDFormGroup.valid){const t=this.closeFDFormGroup.value;p().fire({title:"Confirm FD Closure",text:`Are you sure you want to process this FD closure with penalty amount \u20b9${t.penalty_amount}? This will mark the account as completed.`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc3545",cancelButtonColor:"#6c757d",confirmButtonText:"Yes, Process Closure"}).then(l=>{if(l.isConfirmed){const r={_id:this.selectedUser._id,status:"Completed",penalty_amount:t.penalty_amount,final_amount:this.closeFDFormGroup.get("final_amount")?.value,closure_notes:t.notes};this.depositService.editFDepositSettings(r).subscribe(o=>{o&&"success"===o.status?(p().fire({icon:"success",title:"FD Closure Processed",text:"The FD closure has been processed successfully. The final settlement amount has been recorded.",confirmButtonText:"OK"}),this.closeFDFormGroup.reset(),this.modalService.dismissAll(),this.getRecrruingDeposits()):p().fire({icon:"error",title:"Error",text:"Failed to process FD closure"})},o=>{console.error("Error processing FD closure:",o);let s="Failed to process FD closure. Please try again.";o.error&&o.error.message&&(s=o.error.message),p().fire({icon:"error",title:"Error",text:s})})}})}else this.closeFDFormGroup.markAllAsTouched();else p().fire({icon:"error",title:"Invalid Status",text:'This FD must be in "Close-Requested" status to process closure. Please wait for member to request closure first.'})}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(v.s),e.\u0275\u0275directiveInject(u.FF))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-fixed-deposit"]],decls:70,vars:10,consts:[[1,"container-fluid"],["title","Fixed Deposits",3,"breadcrumbItems"],[1,"row"],[1,"col-xl-12"],[1,"card"],[1,"card-body"],[1,"card-body","border-bottom"],[3,"formGroup"],[1,"col-lg-4"],["type","search","id","searchInput","formControlName","name","placeholder","Search for Name...",1,"form-control"],["type","search","id","searchInput","formControlName","user_id","placeholder","Search for User id...",1,"form-control"],[1,"col-lg-2"],["formControlName","status",1,"form-control","select2"],["value",""],["value","All"],[3,"value",4,"ngFor","ngForOf"],[1,"col-lg-1"],["type","button",1,"btn","btn-soft-secondary","w-100",3,"click"],[1,"mdi","mdi-filter-outline","align-middle"],["type","button",1,"btn","btn-light",3,"click"],[1,"mdi","mdi-refresh"],[1,"table-responsive"],["id","basic-datatable",1,"table","table-bordered","dt-responsive","nowrap","datatables","no-footer","dtr-inline"],[4,"ngFor","ngForOf"],[1,"row","justify-content-md-between","align-items-md-center","mt-2"],[1,"col-sm-12","col-md-5"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[1,"text-md-right","float-md-end","pagination-rounded"],[3,"collectionSize","page","pageSize","pageChange"],["role","document"],["editSettingModal",""],["closeFDModal",""],[3,"value"],[1,"d-flex","flex-column"],[1,"text-muted"],[4,"ngIf"],[1,"list-inline","font-size-20","contact-links","mb-0"],[1,"list-inline-item","px-2"],["tooltip","Profile",3,"routerLink"],[1,"bx","bx-wallet"],["class","list-inline-item px-2",4,"ngIf"],["tooltip","Profile",1,"cursor-pointer",3,"click"],[1,"bx","bx-cog","bx-spin"],["tooltip","Close Fixed Deposit",1,"cursor-pointer",3,"click"],[1,"bx","bx-x","text-danger"],[1,"modal-header"],["id","myModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"col-md-6","mb-3"],["for","amount",1,"form-label"],["type","number","id","amount","formControlName","amount","placeholder","Enter amount",1,"form-control",3,"blur"],["class","text-danger",4,"ngIf"],["for","duration",1,"form-label"],["type","text","id","duration","formControlName","duration",1,"form-control",3,"blur"],["value","","disabled","","selected",""],["value","0.5"],["value","1"],["value","1.5"],["value","2"],["value","2.5"],["value","3"],["value","3.5"],["value","4"],["value","4.5"],["value","5"],["value","5.5"],["value","6"],["value","6.5"],["value","7"],["value","7.5"],["value","8"],["value","8.5"],["value","9"],["value","9.5"],["value","10"],["for","annualRate",1,"form-label"],["type","number","id","annualRate","formControlName","annual_rate","placeholder","Enter annual rate",1,"form-control",3,"keyup"],["for","maturityAmount",1,"form-label"],["type","number","id","maturityAmount","formControlName","maturity_amount","placeholder","Enter maturity amount",1,"form-control"],["for","indirectReferral",1,"form-label"],["type","number","id","indirectReferral","formControlName","indirect_refer_per","placeholder","Enter indirect referral %",1,"form-control"],["for","directReferral",1,"form-label"],["type","number","id","directReferral","formControlName","direct_refer_per","placeholder","Enter direct referral %",1,"form-control"],["type","number","id","directReferral","formControlName","franchise_refer_per","placeholder","Enter direct referral %",1,"form-control"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary","waves-effect",3,"click"],["type","submit",1,"btn","btn-primary","waves-effect","waves-light",3,"disabled","click"],[1,"text-danger"],["id","closeFDModalLabel",1,"modal-title"],["class","col-lg-12 mb-4",4,"ngIf"],[1,"col-lg-12"],["role","alert",1,"alert",3,"ngClass"],[1,"mdi","mdi-alert-circle-outline","me-2"],[1,"mb-3","col-lg-6"],["for","penalty-amount",1,"col-form-label"],["type","number","id","penalty-amount","formControlName","penalty_amount","placeholder","Enter penalty amount","min","0","step","0.01",1,"form-control"],["for","final-amount",1,"col-form-label"],["type","number","id","final-amount","formControlName","final_amount","placeholder","Final amount","readonly","",1,"form-control"],[1,"col-lg-12","mb-3"],[1,"card","border-info"],[1,"card-header","bg-info-subtle"],[1,"card-title","mb-0"],[1,"mdi","mdi-calculator","me-2"],[1,"row","text-center"],[1,"col-md-4"],[1,"border-end"],[1,"text-muted","mb-1"],[1,"text-success"],[1,"text-primary"],[1,"text-warning"],[1,"col-12","text-center"],[1,"text-info","mb-0"],[1,"mdi","mdi-equal","me-2"],[1,"mb-3","col-lg-12"],["for","closure-notes",1,"col-form-label"],["id","closure-notes","rows","3","formControlName","notes","placeholder","Enter any notes for closure request",1,"form-control"],["type","submit",1,"btn","btn-danger","waves-effect","waves-light",3,"disabled","click"],[1,"mdi","mdi-lock-check","me-1"],[1,"col-lg-12","mb-4"],[1,"mdi","mdi-account","me-2"],[1,"col-md-6"],[1,"text-center"],[1,"mb-0"],[1,"card","border-success"],[1,"card-header","bg-success-subtle"],[1,"mdi","mdi-chart-line","me-2"],[1,"text-info"],[1,"card","border-warning"],[1,"card-header","bg-warning-subtle"],[1,"mdi","mdi-information-outline","me-2"],[1,"col-md-3"],[1,"mb-0","text-warning"],[1,"mb-0","text-success"],[1,"badge",3,"ngClass"],["class","row mt-3",4,"ngIf"],[1,"row","mt-3"],[1,"col-12"],[1,"alert","alert-info"]],template:function(t,l){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-page-title",1),e.\u0275\u0275elementStart(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"form",7)(8,"div",2)(9,"div",8),e.\u0275\u0275element(10,"input",9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",8),e.\u0275\u0275element(12,"input",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"div",11)(14,"select",12)(15,"option",13),e.\u0275\u0275text(16,"Select Status"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"option",14),e.\u0275\u0275text(18,"All"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(19,E,2,2,"option",15),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(20,"div",16)(21,"button",17),e.\u0275\u0275listener("click",function(){return l.getRecrruingDeposits()}),e.\u0275\u0275element(22,"i",18),e.\u0275\u0275text(23," Filter"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(24,"div",16)(25,"button",19),e.\u0275\u0275listener("click",function(){return l.reset()}),e.\u0275\u0275element(26,"i",20),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(27,"div",2)(28,"div",21)(29,"table",22)(30,"thead")(31,"tr")(32,"th"),e.\u0275\u0275text(33,"Sr No"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(34,"th"),e.\u0275\u0275text(35,"Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(36,"th"),e.\u0275\u0275text(37,"Contact"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(38,"th"),e.\u0275\u0275text(39,"Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(40,"th"),e.\u0275\u0275text(41,"Int Rate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(42,"th"),e.\u0275\u0275text(43,"Paid"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(44,"th"),e.\u0275\u0275text(45,"Balance"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(46,"th"),e.\u0275\u0275text(47,"Notes"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(48,"th"),e.\u0275\u0275text(49,"Date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(50,"th"),e.\u0275\u0275text(51,"Status"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(52,"th"),e.\u0275\u0275text(53,"Action"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(54,"tbody"),e.\u0275\u0275template(55,R,37,32,"ng-container",23),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(56,"div",24)(57,"div",25)(58,"div",26),e.\u0275\u0275text(59,"Showing "),e.\u0275\u0275elementStart(60,"b"),e.\u0275\u0275text(61),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(62),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(63,"div",25)(64,"div",27)(65,"ngb-pagination",28),e.\u0275\u0275listener("pageChange",function(o){return l.page=o})("pageChange",function(o){return l.pageChange(o)}),e.\u0275\u0275elementEnd()()()()()()()()()()(),e.\u0275\u0275template(66,Z,90,9,"ng-template",29,30,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(68,me,70,13,"ng-template",29,31,e.\u0275\u0275templateRefExtractor)),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("breadcrumbItems",l.breadCrumbItems),e.\u0275\u0275advance(6),e.\u0275\u0275property("formGroup",l.searchFormGroup),e.\u0275\u0275advance(12),e.\u0275\u0275property("ngForOf",l.statusList),e.\u0275\u0275advance(36),e.\u0275\u0275property("ngForOf",l.userList),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate((l.page-1)*l.pageSize+1),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate2(" to ",l.findPageShowing()," of ",l.total," entries "),e.\u0275\u0275advance(3),e.\u0275\u0275property("collectionSize",l.total)("page",l.page)("pageSize",l.pageSize))},dependencies:[m.NgClass,m.NgForOf,m.NgIf,f.V,a._Y,a.YN,a.Kr,a.Fj,a.wV,a.EJ,a.JJ,a.JL,a.qQ,a.sg,a.u,u.N9,c.yS,m.DecimalPipe,m.DatePipe]}),n})();var h=d(9878);function pe(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"option",32),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=i.$implicit;e.\u0275\u0275property("value",t),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t)}}function ue(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",t.annual_rate," %")}}function ce(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"date"),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("Closure Requested: ",e.\u0275\u0275pipeBind1(2,1,t.closure_requested_on),"")}}function _e(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"date"),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("Completed: ",e.\u0275\u0275pipeBind1(2,1,t.completed_on),"")}}function ge(n,i){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li",37)(1,"a",41),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext().$implicit,o=e.\u0275\u0275nextContext(),s=e.\u0275\u0275reference(67);return e.\u0275\u0275resetView(o.openRDSettingFn(s,r))}),e.\u0275\u0275element(2,"i",42),e.\u0275\u0275elementEnd()()}}function xe(n,i){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li",37)(1,"a",43),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext().$implicit,o=e.\u0275\u0275nextContext(),s=e.\u0275\u0275reference(69);return e.\u0275\u0275resetView(o.openCloseRDModal(s,r))}),e.\u0275\u0275element(2,"i",44),e.\u0275\u0275elementEnd()()}}const ve=function(n){return["/members/recurring-deposits/",n]};function fe(n,i){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"tr")(2,"td"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"td"),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"td")(7,"div",33)(8,"span",34),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"span",34),e.\u0275\u0275text(11),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(12,"td"),e.\u0275\u0275text(13),e.\u0275\u0275pipe(14,"number"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"td"),e.\u0275\u0275template(16,ue,2,1,"span",35),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"td"),e.\u0275\u0275text(18),e.\u0275\u0275pipe(19,"number"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"td"),e.\u0275\u0275text(21),e.\u0275\u0275pipe(22,"number"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"td"),e.\u0275\u0275text(24),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"td"),e.\u0275\u0275text(26),e.\u0275\u0275pipe(27,"date"),e.\u0275\u0275element(28,"br"),e.\u0275\u0275text(29),e.\u0275\u0275pipe(30,"date"),e.\u0275\u0275element(31,"br"),e.\u0275\u0275template(32,ce,3,3,"span",35),e.\u0275\u0275element(33,"br"),e.\u0275\u0275template(34,_e,3,3,"span",35),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(35,"td")(36,"span"),e.\u0275\u0275text(37),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(38,"ul",36)(39,"li",37)(40,"a",38),e.\u0275\u0275element(41,"i",39),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(42,ge,3,0,"li",40),e.\u0275\u0275template(43,xe,3,0,"li",40),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd()),2&n){const t=i.$implicit,l=i.index,r=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate((r.page-1)*r.pageSize+l+1),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate2("",null==t||null==t.user?null:t.user.name," (",null==t||null==t.user?null:t.user.user_id,") "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(null==t||null==t.user?null:t.user.email_id),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==t.user?null:t.user.mobile_number),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("\u20b9",e.\u0275\u0275pipeBind2(14,22,t.amount,"1.2-2"),""),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",t.annual_rate),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("\u20b9",e.\u0275\u0275pipeBind2(19,25,t.paidAmount,"1.2-2"),""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" \u20b9",e.\u0275\u0275pipeBind2(22,28,t.pendingAmount,"1.2-2")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.notes),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" Requested: ",e.\u0275\u0275pipeBind1(27,31,t.created_date)," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" Approved: ",t.approved_on?e.\u0275\u0275pipeBind1(30,33,t.approved_on):"N/A",""),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",t.closure_requested_on),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.completed_on),e.\u0275\u0275advance(2),e.\u0275\u0275classMapInterpolate2("badge font-size-11 m-1 rounded-pill badge-soft-","Requested"===t.status?"warning":"Approved"===t.status?"success":"Completed"===t.status?"primary":"Close-Requested"===t.status?"danger":"secondary"," text-","Requested"===t.status?"warning":"Approved"===t.status?"success":"Completed"===t.status?"primary":"Close-Requested"===t.status?"danger":"secondary",""),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.status," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction1(35,ve,null==t||null==t.user?null:t.user._id)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","Requested"===t.status),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Close-Requested"===t.status)}}function Se(n,i){1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Amount is required."),e.\u0275\u0275elementEnd())}function he(n,i){1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Enter a valid number (e.g. 100, 2500.50)."),e.\u0275\u0275elementEnd())}function be(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"div",82),e.\u0275\u0275template(1,Se,2,0,"small",35),e.\u0275\u0275template(2,he,2,0,"small",35),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(2);let l,r;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(l=t.editDepositSettings.get("amount"))||null==l.errors?null:l.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(r=t.editDepositSettings.get("amount"))||null==r.errors?null:r.errors.pattern)}}function Ce(n,i){1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Annual Rate is required."),e.\u0275\u0275elementEnd())}function Ee(n,i){1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Enter a valid number(e.g. 5, 7.25)."),e.\u0275\u0275elementEnd())}function ye(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"div",82),e.\u0275\u0275template(1,Ce,2,0,"small",35),e.\u0275\u0275template(2,Ee,2,0,"small",35),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(2);let l,r;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(l=t.editDepositSettings.get("annual_rate"))||null==l.errors?null:l.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(r=t.editDepositSettings.get("annual_rate"))||null==r.errors?null:r.errors.pattern)}}function De(n,i){1&n&&(e.\u0275\u0275elementStart(0,"div",82)(1,"small"),e.\u0275\u0275text(2,"Duration is required."),e.\u0275\u0275elementEnd()())}function Ie(n,i){1&n&&(e.\u0275\u0275elementStart(0,"div",82)(1,"small"),e.\u0275\u0275text(2,"Payment interval is required."),e.\u0275\u0275elementEnd()())}function Fe(n,i){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",45)(1,"h5",46),e.\u0275\u0275text(2,"Settings"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",47),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.dismiss("Cross click"))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"form",7)(5,"div",48)(6,"div",2)(7,"div",49)(8,"label",50),e.\u0275\u0275text(9,"Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(10,"input",51),e.\u0275\u0275template(11,be,3,2,"div",52),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",49)(13,"label",50),e.\u0275\u0275text(14,"Annual Rate (%)"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(15,"input",53),e.\u0275\u0275template(16,ye,3,2,"div",52),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div",49)(18,"label",50),e.\u0275\u0275text(19,"Duration"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"select",54)(21,"option",55),e.\u0275\u0275text(22,"Select Duration"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"option",56),e.\u0275\u0275text(24,"Half Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"option",57),e.\u0275\u0275text(26,"1 Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(27,"option",58),e.\u0275\u0275text(28,"1.5 Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"option",59),e.\u0275\u0275text(30,"2 Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(31,"option",60),e.\u0275\u0275text(32,"2.5 Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(33,"option",61),e.\u0275\u0275text(34,"3 Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(35,"option",62),e.\u0275\u0275text(36,"3.5 Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(37,"option",63),e.\u0275\u0275text(38,"4 Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(39,"option",64),e.\u0275\u0275text(40,"4.5 Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(41,"option",65),e.\u0275\u0275text(42,"5 Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(43,"option",66),e.\u0275\u0275text(44,"5.5 Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(45,"option",67),e.\u0275\u0275text(46,"6 Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(47,"option",68),e.\u0275\u0275text(48,"6.5 Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(49,"option",69),e.\u0275\u0275text(50,"7 Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(51,"option",70),e.\u0275\u0275text(52,"7.5 Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(53,"option",71),e.\u0275\u0275text(54,"8 Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(55,"option",72),e.\u0275\u0275text(56,"8.5 Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(57,"option",73),e.\u0275\u0275text(58,"9 Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(59,"option",74),e.\u0275\u0275text(60,"9.5 Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(61,"option",75),e.\u0275\u0275text(62,"10 Year"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(63,De,3,0,"div",52),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(64,"div",49)(65,"label",50),e.\u0275\u0275text(66,"Payment Interval"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(67,"select",76)(68,"option",55),e.\u0275\u0275text(69,"Select Interval"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(70,"option",77),e.\u0275\u0275text(71,"Daily"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(72,"option",78),e.\u0275\u0275text(73,"Monthly"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(74,Ie,3,0,"div",52),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(75,"div",79)(76,"button",80),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.close("Close click"))}),e.\u0275\u0275text(77,"Close"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(78,"button",81),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.editSettings())}),e.\u0275\u0275text(79,"Submit"),e.\u0275\u0275elementEnd()()()}if(2&n){const t=e.\u0275\u0275nextContext();let l,r,o,s;e.\u0275\u0275advance(4),e.\u0275\u0275property("formGroup",t.editDepositSettings),e.\u0275\u0275advance(7),e.\u0275\u0275property("ngIf",(null==(l=t.editDepositSettings.get("amount"))?null:l.touched)&&(null==(l=t.editDepositSettings.get("amount"))?null:l.invalid)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(r=t.editDepositSettings.get("annual_rate"))?null:r.touched)&&(null==(r=t.editDepositSettings.get("annual_rate"))?null:r.invalid)),e.\u0275\u0275advance(47),e.\u0275\u0275property("ngIf",(null==(o=t.editDepositSettings.get("interval"))?null:o.touched)&&(null==(o=t.editDepositSettings.get("interval"))?null:o.invalid)),e.\u0275\u0275advance(11),e.\u0275\u0275property("ngIf",(null==(s=t.editDepositSettings.get("interval"))?null:s.touched)&&(null==(s=t.editDepositSettings.get("interval"))?null:s.invalid)),e.\u0275\u0275advance(4),e.\u0275\u0275property("disabled",t.editDepositSettings.invalid)}}function Re(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"div",127)(1,"div",128)(2,"div",129)(3,"strong"),e.\u0275\u0275text(4,"Closure Notes:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()()()),2&n){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",t.selectedUser.closure_notes," ")}}const b=function(n,i){return{"badge-soft-danger":n,"badge-soft-success":i}};function we(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"div",86)(1,"div",119)(2,"div",120)(3,"h6",89),e.\u0275\u0275element(4,"i",121),e.\u0275\u0275text(5," Existing Closure Request Details "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"div",5)(7,"div",2)(8,"div",122)(9,"div",91)(10,"p",92),e.\u0275\u0275text(11,"Requested On"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"h6",123),e.\u0275\u0275text(13),e.\u0275\u0275pipe(14,"date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"small",34),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"date"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(18,"div",122)(19,"div",91)(20,"p",92),e.\u0275\u0275text(21,"Penalty Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"h6",124),e.\u0275\u0275text(23),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(24,"div",122)(25,"div",91)(26,"p",92),e.\u0275\u0275text(27,"Final Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(28,"h6",125),e.\u0275\u0275text(29),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(30,"div",122)(31,"div",91)(32,"p",92),e.\u0275\u0275text(33,"Status"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(34,"span",85),e.\u0275\u0275text(35),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275template(36,Re,6,1,"div",126),e.\u0275\u0275elementEnd()()()),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(13),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind2(14,7,t.selectedUser.closure_requested_on,"mediumDate")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind2(17,10,t.selectedUser.closure_requested_on,"shortTime")),e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate1("\u20b9",t.selectedUser.penalty_amount||0,""),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1("\u20b9",t.selectedUser.final_amount||0,""),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(13,b,"Close-Requested"===t.selectedUser.status,"Completed"===t.selectedUser.status)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.selectedUser.status," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.selectedUser.closure_notes)}}function Te(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" This RD has an outstanding amount of \u20b9",t.selectedUser.pendingAmount||0,". Consider applying an appropriate penalty for early closure. ")}}function ke(n,i){1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1," This RD has no outstanding amounts. Review the closure request details below. "),e.\u0275\u0275elementEnd())}function Ne(n,i){1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Penalty amount cannot be negative"),e.\u0275\u0275elementEnd())}function Ge(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"div",82),e.\u0275\u0275template(1,Ne,2,0,"small",35),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(2);let l;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(l=t.closeRDFormGroup.get("penalty_amount"))||null==l.errors?null:l.errors.min)}}function Ae(n,i){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",45)(1,"div",83)(2,"h5",84),e.\u0275\u0275text(3,"Process RD Closure"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"span",85),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"button",47),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.dismiss("Cross click"))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"form",7)(8,"div",48)(9,"div",2)(10,"div",86)(11,"div",87)(12,"div",88)(13,"h6",89),e.\u0275\u0275text(14,"Account Summary"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(15,"div",5)(16,"div",2)(17,"div",90)(18,"div",91)(19,"p",92),e.\u0275\u0275text(20,"Total Paid"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"h5",93),e.\u0275\u0275text(22),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(23,"div",90)(24,"div",91)(25,"p",92),e.\u0275\u0275text(26,"Total Interest"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(27,"h5",94),e.\u0275\u0275text(28),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(29,"div",90)(30,"div",91)(31,"p",92),e.\u0275\u0275text(32,"Net Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(33,"h5",95),e.\u0275\u0275text(34),e.\u0275\u0275elementEnd()()()()()()(),e.\u0275\u0275template(35,we,37,16,"div",96),e.\u0275\u0275elementStart(36,"div",97)(37,"div",98),e.\u0275\u0275element(38,"i",99),e.\u0275\u0275elementStart(39,"strong"),e.\u0275\u0275text(40,"Closure Processing:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(41,Te,2,1,"span",35),e.\u0275\u0275template(42,ke,2,0,"span",35),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(43,"div",49)(44,"label",100),e.\u0275\u0275text(45,"Penalty Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(46,"input",101),e.\u0275\u0275template(47,Ge,2,1,"div",52),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(48,"div",49)(49,"label",102),e.\u0275\u0275text(50,"Final Settlement Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(51,"input",103),e.\u0275\u0275elementStart(52,"small",34),e.\u0275\u0275text(53,"Total Paid + Interest - Penalty"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(54,"div",104)(55,"div",105)(56,"div",106)(57,"h6",89),e.\u0275\u0275element(58,"i",107),e.\u0275\u0275text(59," Settlement Calculation "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(60,"div",5)(61,"div",108)(62,"div",90)(63,"div",109)(64,"p",92),e.\u0275\u0275text(65,"Total Paid"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(66,"h5",93),e.\u0275\u0275text(67),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(68,"div",90)(69,"div",109)(70,"p",92),e.\u0275\u0275text(71,"+ Interest"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(72,"h5",94),e.\u0275\u0275text(73),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(74,"div",90)(75,"div")(76,"p",92),e.\u0275\u0275text(77,"- Penalty"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(78,"h5",110),e.\u0275\u0275text(79),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275element(80,"hr"),e.\u0275\u0275elementStart(81,"div",2)(82,"div",111)(83,"h4",112),e.\u0275\u0275element(84,"i",113),e.\u0275\u0275text(85),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275elementStart(86,"div",114)(87,"label",115),e.\u0275\u0275text(88,"Closure Notes"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(89,"textarea",116),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(90,"div",79)(91,"button",80),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.close("Close click"))}),e.\u0275\u0275text(92,"Cancel"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(93,"button",117),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.submitCloseRDRequest())}),e.\u0275\u0275element(94,"i",118),e.\u0275\u0275text(95,"Submit Closure Request "),e.\u0275\u0275elementEnd()()()}if(2&n){const t=e.\u0275\u0275nextContext();let l,r,o;e.\u0275\u0275advance(4),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(16,b,"Close-Requested"===t.selectedUser.status,"Completed"===t.selectedUser.status)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.selectedUser.status," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("formGroup",t.closeRDFormGroup),e.\u0275\u0275advance(15),e.\u0275\u0275textInterpolate1("\u20b9",(null==t.depositSummary?null:t.depositSummary.paid)||0,""),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1("\u20b9",(null==t.depositSummary?null:t.depositSummary.interest)||0,""),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1("\u20b9",(null==t.depositSummary?null:t.depositSummary.total)||0,""),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.selectedUser.closure_requested_on),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",(null==t.depositSummary?null:t.depositSummary.paid)<t.selectedUser.amount?"alert-danger":"alert-warning"),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",(null==t.depositSummary?null:t.depositSummary.paid)<t.selectedUser.amount),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==t.depositSummary?null:t.depositSummary.paid)>=t.selectedUser.amount),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(l=t.closeRDFormGroup.get("penalty_amount"))?null:l.touched)&&(null==(l=t.closeRDFormGroup.get("penalty_amount"))?null:l.invalid)),e.\u0275\u0275advance(20),e.\u0275\u0275textInterpolate1("\u20b9",(null==t.depositSummary?null:t.depositSummary.paid)||0,""),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1("\u20b9",(null==t.depositSummary?null:t.depositSummary.interest)||0,""),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1("-\u20b9",(null==(r=t.closeRDFormGroup.get("penalty_amount"))?null:r.value)||0,""),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1(" Final Amount: \u20b9",(null==(o=t.closeRDFormGroup.get("final_amount"))?null:o.value)||0," "),e.\u0275\u0275advance(8),e.\u0275\u0275property("disabled",t.closeRDFormGroup.invalid)}}function Be(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"option",29),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=i.$implicit;e.\u0275\u0275property("value",t),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t)}}function Pe(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",t.annual_rate," %")}}const Ve=function(n){return["/members/compulsory-deposit/",n]};function Ue(n,i){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"tr")(2,"td"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"td"),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"td")(7,"div",30)(8,"span",31),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"span",31),e.\u0275\u0275text(11),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(12,"td"),e.\u0275\u0275text(13),e.\u0275\u0275pipe(14,"number"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"td"),e.\u0275\u0275template(16,Pe,2,1,"span",32),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"td"),e.\u0275\u0275text(18),e.\u0275\u0275pipe(19,"number"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"td"),e.\u0275\u0275text(21),e.\u0275\u0275pipe(22,"number"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"td"),e.\u0275\u0275text(24),e.\u0275\u0275pipe(25,"date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"ul",33)(27,"li",34)(28,"a",35),e.\u0275\u0275element(29,"i",36),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementContainerEnd()),2&n){const t=i.$implicit,l=i.index,r=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate((r.page-1)*r.pageSize+l+1),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate2("",null==t||null==t.user?null:t.user.name," (",null==t||null==t.user?null:t.user.user_id,") "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(null==t||null==t.user?null:t.user.email_id),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==t.user?null:t.user.mobile_number),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("\u20b9",e.\u0275\u0275pipeBind2(14,11,t.amount,"1.2-2"),""),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",t.annual_rate),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("\u20b9",e.\u0275\u0275pipeBind2(19,14,t.paidAmount,"1.2-2"),""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("\u20b9",e.\u0275\u0275pipeBind2(22,17,t.outstanding,"1.2-2"),""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(25,20,t.created_date)),e.\u0275\u0275advance(4),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction1(22,Ve,null==t||null==t.user?null:t.user._id))}}const Me=[{path:"fixed-deposit",component:de},{path:"recurring-deposit",component:(()=>{class n{constructor(t,l,r){this.depositService=t,this.modalService=l,this.settingsService=r,this.userList=[],this.total=0,this.page=1,this.pageSize=10,this.rd_rate=0,this.statusList=["Requested","Approved","Completed","Close-Requested"],this.selectedUser=null,this.depositSummary=null}ngOnInit(){this.breadCrumbItems=[{label:"Deposit"},{label:"Recurring Deposit List",active:!0}],this.searchFormGroup=new a.cw({name:new a.NI(""),user_id:new a.NI(""),status:new a.NI("All")}),this.editDepositSettings=new a.cw({_id:new a.NI("",[a.kI.required]),annual_rate:new a.NI("",[a.kI.required,a.kI.pattern("^[0-9]+(\\.[0-9]{1,2})?$")]),interval:new a.NI("",[a.kI.required]),duration:new a.NI("",[a.kI.required]),amount:new a.NI("",[a.kI.required,a.kI.pattern("^[0-9]+(\\.[0-9]{1,2})?$")])}),this.closeRDFormGroup=new a.cw({penalty_amount:new a.NI(0,[a.kI.min(0)]),final_amount:new a.NI({value:0,disabled:!0}),notes:new a.NI("")}),this.closeRDFormGroup.get("penalty_amount")?.valueChanges.subscribe(t=>{this.calculateFinalAmount()}),this.settingsService.getGeneralSettings$().subscribe(t=>{t&&(this.rd_rate=t.recurring_deposit_rate||0,this.editDepositSettings.patchValue({annual_rate:this.rd_rate}))}),this.getRecrruingDeposits()}getRecrruingDeposits(){const t=this.searchFormGroup.value,l=[];Object.keys(t).forEach(o=>{null!==t[o]&&""!==t[o]&&l.push(`${o}=${encodeURIComponent(t[o])}`)});const r=l.join("&");this.depositService.getAllRecurringDeposits(this.page,this.pageSize,r).subscribe(o=>{o.status&&(this.userList=o.data.deposits,this.total=o.data.total)},o=>{console.error(o)})}reset(){this.searchFormGroup.reset(),this.page=1,this.getRecrruingDeposits()}findPageShowing(){return Math.min(this.page*this.pageSize,this.total)}pageChange(t){this.page=t,this.getRecrruingDeposits()}openRDSettingFn(t,l){this.editDepositSettings.patchValue(l),this.settingsService.getGeneralSettings$().subscribe(r=>{r&&(this.rd_rate=r.recurring_deposit_rate||0,this.editDepositSettings.patchValue({annual_rate:this.rd_rate}))}),this.modalService.open(t,{size:"lg",centered:!0})}openCloseRDModal(t,l){this.selectedUser=l,this.getDepositSummary(l?.user?._id,l?._id),this.modalService.open(t,{size:"lg",centered:!0,backdrop:"static",keyboard:!1})}getDepositSummary(t,l){console.log("Getting deposit summary for userId:",t,"rdId:",l),this.depositService.findOutstandingDepositsOfRecurring(t,l).subscribe(r=>{r&&"success"===r.status?(this.depositSummary=r.data.depositSummary,console.log("Deposit summary updated:",this.depositSummary),this.calculateFinalAmount()):this.depositSummary=null},r=>{console.error("Error fetching deposit summary:",r),this.depositSummary={paid:0,interest:0,total:0},this.calculateFinalAmount()})}calculateFinalAmount(){const t=this.closeRDFormGroup.get("penalty_amount")?.value||0;this.closeRDFormGroup.patchValue({final_amount:Math.max(0,(this.depositSummary?.paid||0)+(this.depositSummary?.interest||0)-t)})}editSettings(){this.editDepositSettings.valid?p().fire({title:"Confirm Action",text:'Type "CONFIRMED" to approve the deposit settings.',input:"text",inputPlaceholder:'Type "CONFIRMED" here',inputValidator:t=>{if("CONFIRMED"!==t)return'You must type "CONFIRMED" to proceed!'},icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Confirm",cancelButtonText:"No"}).then(t=>{if(t.isConfirmed){const l=this.editDepositSettings.value;l.status="Approved",this.depositService.editRDepositSettings(l).subscribe(r=>{r&&"success"===r.status&&(this.editDepositSettings.reset(),this.editDepositSettings.patchValue({annual_rate:this.rd_rate}),this.modalService.dismissAll(),this.getRecrruingDeposits())},r=>{console.error("Error updating deposit settings:",r)})}}):this.editDepositSettings.markAllAsTouched()}submitCloseRDRequest(){if("Close-Requested"===this.selectedUser.status)if(this.closeRDFormGroup.valid){const t=this.closeRDFormGroup.value;t.final_amount=this.closeRDFormGroup.get("final_amount")?.value,p().fire({title:"Confirm RD Closure",text:`Are you sure you want to process this RD closure with penalty amount \u20b9${t.penalty_amount}? This will mark the account as completed.`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc3545",cancelButtonColor:"#6c757d",confirmButtonText:"Yes, Process Closure"}).then(l=>{l.isConfirmed&&this.depositService.editRDepositSettings({_id:this.selectedUser._id,status:"Completed",penalty_amount:t.penalty_amount,final_amount:t.final_amount,closure_notes:t.notes}).subscribe(o=>{o&&"success"===o.status?(p().fire({icon:"success",title:"RD Closure Processed",text:"The RD closure has been processed successfully. The final settlement amount has been recorded.",confirmButtonText:"OK"}),this.closeRDFormGroup.reset(),this.modalService.dismissAll(),this.getRecrruingDeposits()):p().fire({icon:"error",title:"Processing Failed",text:"Failed to process RD closure. Please try again.",confirmButtonText:"OK"})},o=>{console.error("Error processing RD closure:",o);let s="Failed to process RD closure. Please try again.";o.error&&o.error.message&&(s=o.error.message),p().fire({icon:"error",title:"Processing Failed",text:s,confirmButtonText:"OK"})})})}else this.closeRDFormGroup.markAllAsTouched();else p().fire({icon:"error",title:"Invalid Status",text:'This RD must be in "Close-Requested" status to process closure. Please wait for member to request closure first.',confirmButtonText:"OK"})}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(v.s),e.\u0275\u0275directiveInject(u.FF),e.\u0275\u0275directiveInject(h.g))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-recurring-deposit"]],decls:70,vars:10,consts:[[1,"container-fluid"],["title","Recurring Deposits",3,"breadcrumbItems"],[1,"row"],[1,"col-xl-12"],[1,"card"],[1,"card-body"],[1,"card-body","border-bottom"],[3,"formGroup"],[1,"col-lg-4"],["type","search","id","searchInput","formControlName","name","placeholder","Search for Name...",1,"form-control"],["type","search","id","searchInput","formControlName","user_id","placeholder","Search for User id...",1,"form-control"],[1,"col-lg-2"],["formControlName","status",1,"form-control","select2"],["value",""],["value","All"],[3,"value",4,"ngFor","ngForOf"],[1,"col-lg-1"],["type","button",1,"btn","btn-soft-secondary","w-100",3,"click"],[1,"mdi","mdi-filter-outline","align-middle"],["type","button",1,"btn","btn-light",3,"click"],[1,"mdi","mdi-refresh"],[1,"table-responsive"],["id","basic-datatable",1,"table","table-bordered","dt-responsive","nowrap","datatables","no-footer","dtr-inline"],[4,"ngFor","ngForOf"],[1,"row","justify-content-md-between","align-items-md-center","mt-2"],[1,"col-sm-12","col-md-5"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[1,"text-md-right","float-md-end","pagination-rounded"],[3,"collectionSize","page","pageSize","pageChange"],["role","document"],["editSettingModal",""],["closeRDModal",""],[3,"value"],[1,"d-flex","flex-column"],[1,"text-muted"],[4,"ngIf"],[1,"list-inline","font-size-20","contact-links","mb-0"],[1,"list-inline-item","px-2"],["tooltip","Profile",3,"routerLink"],[1,"bx","bx-wallet"],["class","list-inline-item px-2",4,"ngIf"],["tooltip","Profile",1,"cursor-pointer",3,"click"],[1,"bx","bx-cog","bx-spin"],["tooltip","Close RD",1,"cursor-pointer",3,"click"],[1,"bx","bx-x"],[1,"modal-header"],["id","myModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3","col-lg-6"],[1,"col-form-label"],["type","number","placeholder","Amount","formControlName","amount",1,"form-control"],["class","text-danger",4,"ngIf"],["type","number","placeholder","Settings","formControlName","annual_rate",1,"form-control"],["formControlName","duration",1,"form-control","select2"],["value","","disabled",""],["value","0.5"],["value","1"],["value","1.5"],["value","2"],["value","2.5"],["value","3"],["value","3.5"],["value","4"],["value","4.5"],["value","5"],["value","5.5"],["value","6"],["value","6.5"],["value","7"],["value","7.5"],["value","8"],["value","8.5"],["value","9"],["value","9.5"],["value","10"],["formControlName","interval",1,"form-control","select2"],["value","daily"],["value","monthly"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary","waves-effect",3,"click"],["type","button",1,"btn","btn-primary","waves-effect","waves-light",3,"disabled","click"],[1,"text-danger"],[1,"d-flex","align-items-center"],["id","closeRDModalLabel",1,"modal-title","me-3"],[1,"badge",3,"ngClass"],[1,"col-lg-12","mb-4"],[1,"card","border"],[1,"card-header","bg-light"],[1,"card-title","mb-0"],[1,"col-md-4"],[1,"text-center"],[1,"text-muted","mb-1"],[1,"text-success"],[1,"text-primary"],[1,"text-info"],["class","col-lg-12 mb-4",4,"ngIf"],[1,"col-lg-12"],["role","alert",1,"alert",3,"ngClass"],[1,"mdi","mdi-alert-circle-outline","me-2"],["for","penalty-amount",1,"col-form-label"],["type","number","id","penalty-amount","formControlName","penalty_amount","placeholder","Enter penalty amount","min","0","step","0.01",1,"form-control"],["for","final-amount",1,"col-form-label"],["type","number","id","final-amount","formControlName","final_amount","placeholder","Final amount","readonly","",1,"form-control"],[1,"col-lg-12","mb-3"],[1,"card","border-info"],[1,"card-header","bg-info-subtle"],[1,"mdi","mdi-calculator","me-2"],[1,"row","text-center"],[1,"border-end"],[1,"text-warning"],[1,"col-12","text-center"],[1,"text-info","mb-0"],[1,"mdi","mdi-equal","me-2"],[1,"mb-3","col-lg-12"],["for","closure-notes",1,"col-form-label"],["id","closure-notes","rows","3","formControlName","notes","placeholder","Enter any notes for closure request",1,"form-control"],["type","submit",1,"btn","btn-danger","waves-effect","waves-light",3,"disabled","click"],[1,"mdi","mdi-lock-check","me-1"],[1,"card","border-warning"],[1,"card-header","bg-warning-subtle"],[1,"mdi","mdi-information-outline","me-2"],[1,"col-md-3"],[1,"mb-0"],[1,"mb-0","text-warning"],[1,"mb-0","text-success"],["class","row mt-3",4,"ngIf"],[1,"row","mt-3"],[1,"col-12"],[1,"alert","alert-info"]],template:function(t,l){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-page-title",1),e.\u0275\u0275elementStart(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"form",7)(8,"div",2)(9,"div",8),e.\u0275\u0275element(10,"input",9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",8),e.\u0275\u0275element(12,"input",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"div",11)(14,"select",12)(15,"option",13),e.\u0275\u0275text(16,"Select Status"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"option",14),e.\u0275\u0275text(18,"All"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(19,pe,2,2,"option",15),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(20,"div",16)(21,"button",17),e.\u0275\u0275listener("click",function(){return l.getRecrruingDeposits()}),e.\u0275\u0275element(22,"i",18),e.\u0275\u0275text(23," Filter"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(24,"div",16)(25,"button",19),e.\u0275\u0275listener("click",function(){return l.reset()}),e.\u0275\u0275element(26,"i",20),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(27,"div",2)(28,"div",21)(29,"table",22)(30,"thead")(31,"tr")(32,"th"),e.\u0275\u0275text(33,"Sr No"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(34,"th"),e.\u0275\u0275text(35,"Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(36,"th"),e.\u0275\u0275text(37,"Contact"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(38,"th"),e.\u0275\u0275text(39,"Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(40,"th"),e.\u0275\u0275text(41,"Int Rate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(42,"th"),e.\u0275\u0275text(43,"Paid"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(44,"th"),e.\u0275\u0275text(45,"Balance"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(46,"th"),e.\u0275\u0275text(47,"Notes"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(48,"th"),e.\u0275\u0275text(49,"Date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(50,"th"),e.\u0275\u0275text(51,"Status"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(52,"th"),e.\u0275\u0275text(53,"Action"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(54,"tbody"),e.\u0275\u0275template(55,fe,44,37,"ng-container",23),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(56,"div",24)(57,"div",25)(58,"div",26),e.\u0275\u0275text(59,"Showing "),e.\u0275\u0275elementStart(60,"b"),e.\u0275\u0275text(61),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(62),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(63,"div",25)(64,"div",27)(65,"ngb-pagination",28),e.\u0275\u0275listener("pageChange",function(o){return l.page=o})("pageChange",function(o){return l.pageChange(o)}),e.\u0275\u0275elementEnd()()()()()()()()()()(),e.\u0275\u0275template(66,Fe,80,6,"ng-template",29,30,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(68,Ae,96,19,"ng-template",29,31,e.\u0275\u0275templateRefExtractor)),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("breadcrumbItems",l.breadCrumbItems),e.\u0275\u0275advance(6),e.\u0275\u0275property("formGroup",l.searchFormGroup),e.\u0275\u0275advance(12),e.\u0275\u0275property("ngForOf",l.statusList),e.\u0275\u0275advance(36),e.\u0275\u0275property("ngForOf",l.userList),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate((l.page-1)*l.pageSize+1),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate2(" to ",l.findPageShowing()," of ",l.total," entries "),e.\u0275\u0275advance(3),e.\u0275\u0275property("collectionSize",l.total)("page",l.page)("pageSize",l.pageSize))},dependencies:[m.NgClass,m.NgForOf,m.NgIf,f.V,a._Y,a.YN,a.Kr,a.Fj,a.wV,a.EJ,a.JJ,a.JL,a.qQ,a.sg,a.u,u.N9,c.yS,m.DecimalPipe,m.DatePipe]}),n})()},{path:"compulsory-deposit",component:(()=>{class n{constructor(t,l,r){this.depositService=t,this.modalService=l,this.settingsService=r,this.userList=[],this.total=0,this.page=1,this.pageSize=10,this.rd_rate=0,this.statusList=["Requested","Confirmed","Closed"]}ngOnInit(){this.breadCrumbItems=[{label:"Deposit"},{label:"Compulsory Deposit List",active:!0}],this.searchFormGroup=new a.cw({name:new a.NI(""),user_id:new a.NI(""),status:new a.NI("All")}),this.editDepositSettings=new a.cw({_id:new a.NI("",[a.kI.required]),annual_rate:new a.NI("",[a.kI.required,a.kI.pattern("^[0-9]+(\\.[0-9]{1,2})?$")]),interval:new a.NI("",[a.kI.required]),duration:new a.NI("",[a.kI.required]),amount:new a.NI("",[a.kI.required,a.kI.pattern("^[0-9]+(\\.[0-9]{1,2})?$")]),penality_rate:new a.NI("",[a.kI.required,a.kI.pattern("^[0-9]+(\\.[0-9]{1,2})?$")])}),this.settingsService.getGeneralSettings$().subscribe(t=>{t&&(this.rd_rate=t.recurring_deposit_rate||0,this.editDepositSettings.patchValue({annual_rate:this.rd_rate}))}),this.getRecrruingDeposits()}getRecrruingDeposits(){const t=this.searchFormGroup.value,l=[];Object.keys(t).forEach(o=>{null!==t[o]&&""!==t[o]&&l.push(`${o}=${encodeURIComponent(t[o])}`)});const r=l.join("&");this.depositService.getAllCompulsoryDeposits(this.page,this.pageSize,r).subscribe(o=>{o.status&&(this.userList=o.data.deposits,console.log(this.userList),this.total=o.data.total)},o=>{console.error(o)})}reset(){this.searchFormGroup.reset(),this.page=1,this.getRecrruingDeposits()}findPageShowing(){return Math.min(this.page*this.pageSize,this.total)}pageChange(t){this.page=t,this.getRecrruingDeposits()}openRDSettingFn(t,l){this.editDepositSettings.patchValue(l),this.modalService.open(t,{size:"lg",centered:!0})}editSettings(){if(this.editDepositSettings.valid){const t=this.editDepositSettings.value;t.status="Confirmed",this.depositService.editRDepositSettings(t).subscribe(l=>{l&&"success"===l.status&&(this.editDepositSettings.reset(),this.editDepositSettings.patchValue({annual_rate:this.rd_rate}),this.modalService.dismissAll(),this.getRecrruingDeposits())},l=>{console.error("Error updating deposit settings:",l)})}else this.editDepositSettings.markAllAsTouched()}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(v.s),e.\u0275\u0275directiveInject(u.FF),e.\u0275\u0275directiveInject(h.g))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-compulsory-deposits"]],decls:62,vars:10,consts:[[1,"container-fluid"],["title","Compulsory Deposits",3,"breadcrumbItems"],[1,"row"],[1,"col-xl-12"],[1,"card"],[1,"card-body"],[1,"card-body","border-bottom"],[3,"formGroup"],[1,"col-lg-4"],["type","search","id","searchInput","formControlName","name","placeholder","Search for Name...",1,"form-control"],["type","search","id","searchInput","formControlName","user_id","placeholder","Search for User id...",1,"form-control"],[1,"col-lg-2"],["formControlName","status",1,"form-control","select2"],["value",""],["value","All"],[3,"value",4,"ngFor","ngForOf"],[1,"col-lg-1"],["type","button",1,"btn","btn-soft-secondary","w-100",3,"click"],[1,"mdi","mdi-filter-outline","align-middle"],["type","button",1,"btn","btn-light",3,"click"],[1,"mdi","mdi-refresh"],[1,"table-responsive"],["id","basic-datatable",1,"table","table-bordered","dt-responsive","nowrap","datatables","no-footer","dtr-inline"],[4,"ngFor","ngForOf"],[1,"row","justify-content-md-between","align-items-md-center","mt-2"],[1,"col-sm-12","col-md-5"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[1,"text-md-right","float-md-end","pagination-rounded"],[3,"collectionSize","page","pageSize","pageChange"],[3,"value"],[1,"d-flex","flex-column"],[1,"text-muted"],[4,"ngIf"],[1,"list-inline","font-size-20","contact-links","mb-0"],[1,"list-inline-item","px-2"],["tooltip","Profile",3,"routerLink"],[1,"bx","bx-wallet"]],template:function(t,l){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-page-title",1),e.\u0275\u0275elementStart(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"form",7)(8,"div",2)(9,"div",8),e.\u0275\u0275element(10,"input",9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",8),e.\u0275\u0275element(12,"input",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"div",11)(14,"select",12)(15,"option",13),e.\u0275\u0275text(16,"Select Status"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"option",14),e.\u0275\u0275text(18,"All"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(19,Be,2,2,"option",15),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(20,"div",16)(21,"button",17),e.\u0275\u0275listener("click",function(){return l.getRecrruingDeposits()}),e.\u0275\u0275element(22,"i",18),e.\u0275\u0275text(23," Filter"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(24,"div",16)(25,"button",19),e.\u0275\u0275listener("click",function(){return l.reset()}),e.\u0275\u0275element(26,"i",20),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(27,"div",2)(28,"div",21)(29,"table",22)(30,"thead")(31,"tr")(32,"th"),e.\u0275\u0275text(33,"Sr No"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(34,"th"),e.\u0275\u0275text(35,"Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(36,"th"),e.\u0275\u0275text(37,"Contact"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(38,"th"),e.\u0275\u0275text(39,"Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(40,"th"),e.\u0275\u0275text(41,"Int Rate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(42,"th"),e.\u0275\u0275text(43,"Paid"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(44,"th"),e.\u0275\u0275text(45,"Balance"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(46,"th"),e.\u0275\u0275text(47,"Date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(48,"th"),e.\u0275\u0275text(49,"Action"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(50,"tbody"),e.\u0275\u0275template(51,Ue,30,24,"ng-container",23),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(52,"div",24)(53,"div",25)(54,"div",26),e.\u0275\u0275text(55,"Showing "),e.\u0275\u0275elementStart(56,"b"),e.\u0275\u0275text(57),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(58),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(59,"div",25)(60,"div",27)(61,"ngb-pagination",28),e.\u0275\u0275listener("pageChange",function(o){return l.page=o})("pageChange",function(o){return l.pageChange(o)}),e.\u0275\u0275elementEnd()()()()()()()()()()()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("breadcrumbItems",l.breadCrumbItems),e.\u0275\u0275advance(6),e.\u0275\u0275property("formGroup",l.searchFormGroup),e.\u0275\u0275advance(12),e.\u0275\u0275property("ngForOf",l.statusList),e.\u0275\u0275advance(32),e.\u0275\u0275property("ngForOf",l.userList),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate((l.page-1)*l.pageSize+1),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate2(" to ",l.findPageShowing()," of ",l.total," entries "),e.\u0275\u0275advance(3),e.\u0275\u0275property("collectionSize",l.total)("page",l.page)("pageSize",l.pageSize))},dependencies:[m.NgForOf,m.NgIf,f.V,a._Y,a.YN,a.Kr,a.Fj,a.EJ,a.JJ,a.JL,a.sg,a.u,u.N9,c.yS,m.DecimalPipe,m.DatePipe]}),n})()}];let Ye=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[c.Bz.forChild(Me),c.Bz]}),n})();var ze=d(9668);let $e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[m.CommonModule,ze.v,a.UX,u.jF,Ye]}),n})()}}]);