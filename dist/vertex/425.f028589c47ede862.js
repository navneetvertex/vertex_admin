"use strict";(self.webpackChunkskote=self.webpackChunkskote||[]).push([[425],{6425:(Se,x,d)=>{d.r(x),d.d(x,{AgentsModule:()=>be});var c=d(6895),m=d(9158),l=d(4006),S=d(5226),b=d.n(S),e=d(4650),u=d(8386),p=d(9061),f=d(7185),_=d(9234);function C(n,a){if(1&n&&(e.\u0275\u0275elementStart(0,"option",34),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=a.$implicit;e.\u0275\u0275property("ngValue",t),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t)}}function I(n,a){if(1&n&&(e.\u0275\u0275elementStart(0,"span",41),e.\u0275\u0275text(1),e.\u0275\u0275element(2,"br"),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate2(" Gardian : ",t.guardian_name||"-"," (",t.guardian_relation,") ")}}function y(n,a){if(1&n&&(e.\u0275\u0275elementStart(0,"span",42),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275propertyInterpolate1("routerLink","/agents/direct-ref/",t._id,""),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("Count: ",t.direct_ref_count,"")}}function E(n,a){if(1&n&&(e.\u0275\u0275elementStart(0,"span",42),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275propertyInterpolate1("routerLink","/agents/indirect-ref/",t._id,""),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("Count: ",t.indirect_ref_count,"")}}const g=function(n,a,t){return{"badge-soft-primary":n,"badge-soft-warning":a,"badge-soft-danger":t}};function w(n,a){if(1&n&&(e.\u0275\u0275elementStart(0,"a",37),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction3(2,g,"Approved"===(null==t||null==t.kyc[0]?null:t.kyc[0].status),"Requested"===(null==t||null==t.kyc[0]?null:t.kyc[0].status),"Rejected"===(null==t||null==t.kyc[0]?null:t.kyc[0].status))),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" KYC ",null==t||null==t.kyc[0]?null:t.kyc[0].status," ")}}function F(n,a){if(1&n&&(e.\u0275\u0275elementStart(0,"a",37),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction3(2,g,"Approved"===t.franchise_status,"Requested"===t.franchise_status,"Rejected"===t.franchise_status)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" Franchise ",t.franchise_status," ")}}function k(n,a){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"a",43),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext().$implicit,o=e.\u0275\u0275nextContext(),s=e.\u0275\u0275reference(73);return e.\u0275\u0275resetView(o.advisorModalFn(i,s))}),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction3(2,g,"Approved"===t.advisor_status,"Requested"===t.advisor_status,"Rejected"===t.advisor_status)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" Advisor ",t.advisor_status," ")}}function A(n,a){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ul",44)(1,"li",45),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext().$implicit,o=e.\u0275\u0275nextContext(),s=e.\u0275\u0275reference(75);return e.\u0275\u0275resetView(o.sendNotification(s,i))}),e.\u0275\u0275elementStart(2,"a",46),e.\u0275\u0275element(3,"i",47),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"li",48)(5,"a",49),e.\u0275\u0275element(6,"i",50),e.\u0275\u0275elementEnd()()()}if(2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(5),e.\u0275\u0275propertyInterpolate1("routerLink","/members/view/",t._id,"")}}const R=function(n,a,t,r){return{"badge-soft-primary":n,"badge-soft-warning":a,"badge-soft-danger":t,"badge-soft-secondary":r}};function L(n,a){if(1&n&&(e.\u0275\u0275elementStart(0,"tr")(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td"),e.\u0275\u0275text(4),e.\u0275\u0275element(5,"br"),e.\u0275\u0275template(6,I,3,2,"span",35),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"td"),e.\u0275\u0275text(8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"td"),e.\u0275\u0275text(10),e.\u0275\u0275element(11,"br"),e.\u0275\u0275text(12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"td"),e.\u0275\u0275template(14,y,2,2,"span",36),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"td"),e.\u0275\u0275template(16,E,2,2,"span",36),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"td"),e.\u0275\u0275text(18),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"td"),e.\u0275\u0275text(20),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"td"),e.\u0275\u0275text(22),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"td"),e.\u0275\u0275text(24),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"td"),e.\u0275\u0275text(26),e.\u0275\u0275pipe(27,"date"),e.\u0275\u0275element(28,"br"),e.\u0275\u0275text(29),e.\u0275\u0275pipe(30,"date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(31,"td")(32,"a",37),e.\u0275\u0275text(33),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(34,w,2,6,"a",38),e.\u0275\u0275template(35,F,2,6,"a",38),e.\u0275\u0275template(36,k,2,6,"a",39),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(37,"td"),e.\u0275\u0275template(38,A,7,1,"ul",40),e.\u0275\u0275elementEnd()()),2&n){const t=a.$implicit,r=a.index,i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate((i.page-1)*i.pageSize+r+1),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.name," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.guardian_name),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.user_id),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",null==t.referred_by[0]?null:t.referred_by[0].name," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",(null==t.referred_by[0]?null:t.referred_by[0].user_id)||"-"," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.direct_ref_count&&0!==t.direct_ref_count),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.indirect_ref_count&&0!==t.indirect_ref_count),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.account_number||"-"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate((null==t||null==t.kyc[0]?null:t.kyc[0].aadhar)||"-"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.gender||"-"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.date_of_birth?i.getAge(t.date_of_birth):"-"," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" Joining : ",e.\u0275\u0275pipeBind1(27,20,t.created_date)," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" Approved : ",e.\u0275\u0275pipeBind1(30,22,t.approved_date)," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction4(24,R,"Active"===t.status,"Pending"===t.status,"Blocked"===t.status||"Deleted"===t.status,"Inactive"===t.status)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" Account ",t.status," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",1==t.kyc.length),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.franchise_status),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.advisor_status),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","Deleted"!==t.status)}}function T(n,a){if(1&n&&(e.\u0275\u0275elementStart(0,"option",34),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=a.$implicit;e.\u0275\u0275property("ngValue",t),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t)}}function N(n,a){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",51)(1,"h5",52),e.\u0275\u0275text(2,"Status"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",53),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.dismiss("Cross click"))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",54)(5,"div",2)(6,"div",55)(7,"div",56)(8,"label",57),e.\u0275\u0275text(9,"Change Status:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"select",58),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.currStatus=i)}),e.\u0275\u0275template(11,T,2,2,"option",16),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(12,"div",59)(13,"button",60),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.close("Close click"))}),e.\u0275\u0275text(14,"Close"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"button",61),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.changeAdvisorStatus())}),e.\u0275\u0275text(16,"Submit"),e.\u0275\u0275elementEnd()()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(10),e.\u0275\u0275property("ngModel",t.currStatus),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.kycStatusList)}}function D(n,a){1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Title is required."),e.\u0275\u0275elementEnd())}function G(n,a){if(1&n&&(e.\u0275\u0275elementStart(0,"div",67),e.\u0275\u0275template(1,D,2,0,"small",68),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(2);let r;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(r=t.notificationFormGroup.get("title"))||null==r.errors?null:r.errors.required)}}function M(n,a){1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Message is required."),e.\u0275\u0275elementEnd())}function V(n,a){if(1&n&&(e.\u0275\u0275elementStart(0,"div",67),e.\u0275\u0275template(1,M,2,0,"small",68),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(2);let r;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(r=t.notificationFormGroup.get("message"))||null==r.errors?null:r.errors.required)}}function j(n,a){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",51)(1,"h5",52),e.\u0275\u0275text(2,"Send Notification"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",53),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.dismiss("Cross click"))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"form",7)(5,"div",54)(6,"div",2)(7,"div",55)(8,"div",56)(9,"label",57),e.\u0275\u0275text(10,"Title:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(11,"input",62),e.\u0275\u0275template(12,G,2,1,"div",63),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"div",56)(14,"label",64),e.\u0275\u0275text(15,"Message:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(16,"textarea",65),e.\u0275\u0275template(17,V,2,1,"div",63),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(18,"div",59)(19,"button",60),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.close("Close click"))}),e.\u0275\u0275text(20,"Close"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"button",66),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.sendMessage())}),e.\u0275\u0275text(22,"Send Message"),e.\u0275\u0275elementEnd()()()}if(2&n){const t=e.\u0275\u0275nextContext();let r,i;e.\u0275\u0275advance(4),e.\u0275\u0275property("formGroup",t.notificationFormGroup),e.\u0275\u0275advance(8),e.\u0275\u0275property("ngIf",(null==(r=t.notificationFormGroup.get("title"))?null:r.invalid)&&((null==(r=t.notificationFormGroup.get("title"))?null:r.dirty)||(null==(r=t.notificationFormGroup.get("title"))?null:r.touched))),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(i=t.notificationFormGroup.get("message"))?null:i.invalid)&&((null==(i=t.notificationFormGroup.get("message"))?null:i.dirty)||(null==(i=t.notificationFormGroup.get("message"))?null:i.touched))),e.\u0275\u0275advance(4),e.\u0275\u0275property("disabled",t.notificationFormGroup.invalid)}}function z(n,a){if(1&n&&(e.\u0275\u0275elementStart(0,"option",30),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=a.$implicit;e.\u0275\u0275property("ngValue",t),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t)}}function $(n,a){1&n&&(e.\u0275\u0275elementStart(0,"div",31),e.\u0275\u0275element(1,"img",32),e.\u0275\u0275elementStart(2,"p",33),e.\u0275\u0275text(3,"No Users Found in current filter."),e.\u0275\u0275elementEnd()())}function P(n,a){if(1&n&&(e.\u0275\u0275elementStart(0,"span",47),e.\u0275\u0275text(1),e.\u0275\u0275element(2,"br"),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate2(" Gardian : ",t.guardian_name||"-"," (",t.guardian_relation,") ")}}const v=function(n,a,t){return{"badge-soft-primary":n,"badge-soft-warning":a,"badge-soft-danger":t}};function q(n,a){if(1&n&&(e.\u0275\u0275elementStart(0,"a",44),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction3(2,v,"Approved"===(null==t||null==t.kyc[0]?null:t.kyc[0].status),"Requested"===(null==t||null==t.kyc[0]?null:t.kyc[0].status),"Rejected"===(null==t||null==t.kyc[0]?null:t.kyc[0].status))),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" KYC ",null==t||null==t.kyc[0]?null:t.kyc[0].status," ")}}function B(n,a){if(1&n&&(e.\u0275\u0275elementStart(0,"a",44),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction3(2,v,"Approved"===t.franchise_status,"Requested"===t.franchise_status,"Rejected"===t.franchise_status)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" Franchise ",t.franchise_status," ")}}function O(n,a){if(1&n&&(e.\u0275\u0275elementStart(0,"a",44),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction3(2,v,"Approved"===t.advisor_status,"Requested"===t.advisor_status,"Rejected"===t.advisor_status)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" Advisor ",t.advisor_status," ")}}function Y(n,a){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ul",48)(1,"li",49),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext().$implicit,o=e.\u0275\u0275nextContext(2),s=e.\u0275\u0275reference(40);return e.\u0275\u0275resetView(o.sendNotification(s,i))}),e.\u0275\u0275elementStart(2,"a",50),e.\u0275\u0275element(3,"i",51),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"li",52)(5,"a",53),e.\u0275\u0275element(6,"i",54),e.\u0275\u0275elementEnd()()()}if(2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(5),e.\u0275\u0275propertyInterpolate1("routerLink","/members/view/",t._id,"")}}const J=function(n,a,t,r){return{"badge-soft-primary":n,"badge-soft-warning":a,"badge-soft-danger":t,"badge-soft-secondary":r}};function K(n,a){if(1&n&&(e.\u0275\u0275elementStart(0,"tr")(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td"),e.\u0275\u0275text(4),e.\u0275\u0275element(5,"br"),e.\u0275\u0275template(6,P,3,2,"span",43),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"td"),e.\u0275\u0275text(8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"td"),e.\u0275\u0275text(10),e.\u0275\u0275element(11,"br"),e.\u0275\u0275text(12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"td")(14,"span")(15,"b"),e.\u0275\u0275text(16,"Member Commission: "),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(17),e.\u0275\u0275element(18,"br"),e.\u0275\u0275elementStart(19,"b"),e.\u0275\u0275text(20,"Card Commission: "),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(21),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(22,"td"),e.\u0275\u0275text(23),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"td"),e.\u0275\u0275text(25),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"td"),e.\u0275\u0275text(27),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(28,"td"),e.\u0275\u0275text(29),e.\u0275\u0275pipe(30,"date"),e.\u0275\u0275element(31,"br"),e.\u0275\u0275text(32),e.\u0275\u0275pipe(33,"date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(34,"td")(35,"a",44),e.\u0275\u0275text(36),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(37,q,2,6,"a",45),e.\u0275\u0275template(38,B,2,6,"a",45),e.\u0275\u0275template(39,O,2,6,"a",45),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(40,"td"),e.\u0275\u0275template(41,Y,7,1,"ul",46),e.\u0275\u0275elementEnd()()),2&n){const t=a.$implicit,r=a.index,i=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate((i.page-1)*i.pageSize+r+1),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.name," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.guardian_name),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.user_id),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",null==t.referred_by[0]?null:t.referred_by[0].name," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",(null==t.referred_by[0]?null:t.referred_by[0].user_id)||"-"," "),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" \u20b9",t.commission.direct||0," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" \u20b9",t.commission.cc_direct||0," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.account_number||"-"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.gender||"-"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.date_of_birth?i.getAge(t.date_of_birth):"-"," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" Joining : ",e.\u0275\u0275pipeBind1(30,19,t.created_date)," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" Approved : ",e.\u0275\u0275pipeBind1(33,21,t.approved_date)," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction4(23,J,"Active"===t.status,"Pending"===t.status,"Blocked"===t.status||"Deleted"===t.status,"Inactive"===t.status)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" Account ",t.status," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",1==t.kyc.length),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.franchise_status),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.advisor_status),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","Deleted"!==t.status)}}function W(n,a){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",34)(1,"table",35)(2,"thead")(3,"tr")(4,"th"),e.\u0275\u0275text(5,"Sr No"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"th"),e.\u0275\u0275text(7,"Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"th"),e.\u0275\u0275text(9,"UserId"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"th"),e.\u0275\u0275text(11,"Refer Id"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"th"),e.\u0275\u0275text(13,"Commission"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"th"),e.\u0275\u0275text(15,"Account Number"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"th"),e.\u0275\u0275text(17,"Gender"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"th"),e.\u0275\u0275text(19,"Age"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"th"),e.\u0275\u0275text(21,"Date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"th",36),e.\u0275\u0275text(23,"Status"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"th",36),e.\u0275\u0275text(25,"Action"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(26,"tbody"),e.\u0275\u0275template(27,K,42,28,"tr",37),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(28,"div",38)(29,"div",39)(30,"div",40),e.\u0275\u0275text(31,"Showing "),e.\u0275\u0275elementStart(32,"b"),e.\u0275\u0275text(33),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(34),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(35,"div",39)(36,"div",41)(37,"ngb-pagination",42),e.\u0275\u0275listener("pageChange",function(i){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.page=i)})("pageChange",function(i){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.pageChange(i))}),e.\u0275\u0275elementEnd()()()()()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(22),e.\u0275\u0275property("width",10),e.\u0275\u0275advance(2),e.\u0275\u0275property("width",10),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",t.userList),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate((t.page-1)*t.pageSize+1),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate2(" to ",t.findPageShowing()," of ",t.total," entries "),e.\u0275\u0275advance(3),e.\u0275\u0275property("collectionSize",t.total)("page",t.page)("pageSize",t.pageSize)}}function H(n,a){1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Title is required."),e.\u0275\u0275elementEnd())}function X(n,a){if(1&n&&(e.\u0275\u0275elementStart(0,"div",69),e.\u0275\u0275template(1,H,2,0,"small",70),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(2);let r;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(r=t.notificationFormGroup.get("title"))||null==r.errors?null:r.errors.required)}}function Q(n,a){1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Message is required."),e.\u0275\u0275elementEnd())}function Z(n,a){if(1&n&&(e.\u0275\u0275elementStart(0,"div",69),e.\u0275\u0275template(1,Q,2,0,"small",70),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(2);let r;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(r=t.notificationFormGroup.get("message"))||null==r.errors?null:r.errors.required)}}function ee(n,a){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",55)(1,"h5",56),e.\u0275\u0275text(2,"Send Notification"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",57),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.dismiss("Cross click"))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"form",11)(5,"div",58)(6,"div",2)(7,"div",59)(8,"div",60)(9,"label",61),e.\u0275\u0275text(10,"Title:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(11,"input",62),e.\u0275\u0275template(12,X,2,1,"div",63),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"div",60)(14,"label",64),e.\u0275\u0275text(15,"Message:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(16,"textarea",65),e.\u0275\u0275template(17,Z,2,1,"div",63),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(18,"div",66)(19,"button",67),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.close("Close click"))}),e.\u0275\u0275text(20,"Close"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"button",68),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.sendMessage())}),e.\u0275\u0275text(22,"Send Message"),e.\u0275\u0275elementEnd()()()}if(2&n){const t=e.\u0275\u0275nextContext();let r,i;e.\u0275\u0275advance(4),e.\u0275\u0275property("formGroup",t.notificationFormGroup),e.\u0275\u0275advance(8),e.\u0275\u0275property("ngIf",(null==(r=t.notificationFormGroup.get("title"))?null:r.invalid)&&((null==(r=t.notificationFormGroup.get("title"))?null:r.dirty)||(null==(r=t.notificationFormGroup.get("title"))?null:r.touched))),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(i=t.notificationFormGroup.get("message"))?null:i.invalid)&&((null==(i=t.notificationFormGroup.get("message"))?null:i.dirty)||(null==(i=t.notificationFormGroup.get("message"))?null:i.touched))),e.\u0275\u0275advance(4),e.\u0275\u0275property("disabled",t.notificationFormGroup.invalid)}}function ne(n,a){if(1&n&&(e.\u0275\u0275elementStart(0,"option",30),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=a.$implicit;e.\u0275\u0275property("ngValue",t),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t)}}function re(n,a){1&n&&(e.\u0275\u0275elementStart(0,"div",31),e.\u0275\u0275element(1,"img",32),e.\u0275\u0275elementStart(2,"p",33),e.\u0275\u0275text(3,"No Users Found in current filter."),e.\u0275\u0275elementEnd()())}function ie(n,a){if(1&n&&(e.\u0275\u0275elementStart(0,"span",47),e.\u0275\u0275text(1),e.\u0275\u0275element(2,"br"),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate2(" Gardian : ",t.guardian_name||"-"," (",t.guardian_relation,") ")}}const h=function(n,a,t){return{"badge-soft-primary":n,"badge-soft-warning":a,"badge-soft-danger":t}};function ae(n,a){if(1&n&&(e.\u0275\u0275elementStart(0,"a",44),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction3(2,h,"Approved"===(null==t||null==t.kyc[0]?null:t.kyc[0].status),"Requested"===(null==t||null==t.kyc[0]?null:t.kyc[0].status),"Rejected"===(null==t||null==t.kyc[0]?null:t.kyc[0].status))),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" KYC ",null==t||null==t.kyc[0]?null:t.kyc[0].status," ")}}function oe(n,a){if(1&n&&(e.\u0275\u0275elementStart(0,"a",44),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction3(2,h,"Approved"===t.franchise_status,"Requested"===t.franchise_status,"Rejected"===t.franchise_status)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" Franchise ",t.franchise_status," ")}}function le(n,a){if(1&n&&(e.\u0275\u0275elementStart(0,"a",44),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction3(2,h,"Approved"===t.advisor_status,"Requested"===t.advisor_status,"Rejected"===t.advisor_status)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" Advisor ",t.advisor_status," ")}}function se(n,a){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ul",48)(1,"li",49),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext().$implicit,o=e.\u0275\u0275nextContext(2),s=e.\u0275\u0275reference(40);return e.\u0275\u0275resetView(o.sendNotification(s,i))}),e.\u0275\u0275elementStart(2,"a",50),e.\u0275\u0275element(3,"i",51),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"li",52)(5,"a",53),e.\u0275\u0275element(6,"i",54),e.\u0275\u0275elementEnd()()()}if(2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(5),e.\u0275\u0275propertyInterpolate1("routerLink","/members/view/",t._id,"")}}const ce=function(n,a,t,r){return{"badge-soft-primary":n,"badge-soft-warning":a,"badge-soft-danger":t,"badge-soft-secondary":r}};function de(n,a){if(1&n&&(e.\u0275\u0275elementStart(0,"tr")(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td"),e.\u0275\u0275text(4),e.\u0275\u0275element(5,"br"),e.\u0275\u0275template(6,ie,3,2,"span",43),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"td"),e.\u0275\u0275text(8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"td"),e.\u0275\u0275text(10),e.\u0275\u0275element(11,"br"),e.\u0275\u0275text(12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"td")(14,"span")(15,"b"),e.\u0275\u0275text(16,"Member Commission: "),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(17),e.\u0275\u0275element(18,"br"),e.\u0275\u0275elementStart(19,"b"),e.\u0275\u0275text(20,"Card Commission: "),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(21),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(22,"td"),e.\u0275\u0275text(23),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"td"),e.\u0275\u0275text(25),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"td"),e.\u0275\u0275text(27),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(28,"td"),e.\u0275\u0275text(29),e.\u0275\u0275pipe(30,"date"),e.\u0275\u0275element(31,"br"),e.\u0275\u0275text(32),e.\u0275\u0275pipe(33,"date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(34,"td")(35,"a",44),e.\u0275\u0275text(36),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(37,ae,2,6,"a",45),e.\u0275\u0275template(38,oe,2,6,"a",45),e.\u0275\u0275template(39,le,2,6,"a",45),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(40,"td"),e.\u0275\u0275template(41,se,7,1,"ul",46),e.\u0275\u0275elementEnd()()),2&n){const t=a.$implicit,r=a.index,i=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate((i.page-1)*i.pageSize+r+1),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.name," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.guardian_name),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.user_id),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",null==t.referred_by[0]?null:t.referred_by[0].name," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",(null==t.referred_by[0]?null:t.referred_by[0].user_id)||"-"," "),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" \u20b9",t.commission.indirect||0," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" \u20b9",t.commission.cc_indirect||0," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.account_number||"-"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.gender||"-"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.date_of_birth?i.getAge(t.date_of_birth):"-"," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" Joining : ",e.\u0275\u0275pipeBind1(30,19,t.created_date)," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" Approved : ",e.\u0275\u0275pipeBind1(33,21,t.approved_date)," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction4(23,ce,"Active"===t.status,"Pending"===t.status,"Blocked"===t.status||"Deleted"===t.status,"Inactive"===t.status)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" Account ",t.status," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",1==t.kyc.length),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.franchise_status),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.advisor_status),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","Deleted"!==t.status)}}function me(n,a){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",34)(1,"table",35)(2,"thead")(3,"tr")(4,"th"),e.\u0275\u0275text(5,"Sr No"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"th"),e.\u0275\u0275text(7,"Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"th"),e.\u0275\u0275text(9,"UserId"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"th"),e.\u0275\u0275text(11,"Refer Id"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"th"),e.\u0275\u0275text(13,"Commission"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"th"),e.\u0275\u0275text(15,"Account Number"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"th"),e.\u0275\u0275text(17,"Gender"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"th"),e.\u0275\u0275text(19,"Age"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"th"),e.\u0275\u0275text(21,"Date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"th",36),e.\u0275\u0275text(23,"Status"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"th",36),e.\u0275\u0275text(25,"Action"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(26,"tbody"),e.\u0275\u0275template(27,de,42,28,"tr",37),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(28,"div",38)(29,"div",39)(30,"div",40),e.\u0275\u0275text(31,"Showing "),e.\u0275\u0275elementStart(32,"b"),e.\u0275\u0275text(33),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(34),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(35,"div",39)(36,"div",41)(37,"ngb-pagination",42),e.\u0275\u0275listener("pageChange",function(i){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.page=i)})("pageChange",function(i){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.pageChange(i))}),e.\u0275\u0275elementEnd()()()()()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(22),e.\u0275\u0275property("width",10),e.\u0275\u0275advance(2),e.\u0275\u0275property("width",10),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",t.userList),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate((t.page-1)*t.pageSize+1),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate2(" to ",t.findPageShowing()," of ",t.total," entries "),e.\u0275\u0275advance(3),e.\u0275\u0275property("collectionSize",t.total)("page",t.page)("pageSize",t.pageSize)}}function pe(n,a){1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Title is required."),e.\u0275\u0275elementEnd())}function ue(n,a){if(1&n&&(e.\u0275\u0275elementStart(0,"div",69),e.\u0275\u0275template(1,pe,2,0,"small",70),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(2);let r;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(r=t.notificationFormGroup.get("title"))||null==r.errors?null:r.errors.required)}}function fe(n,a){1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Message is required."),e.\u0275\u0275elementEnd())}function _e(n,a){if(1&n&&(e.\u0275\u0275elementStart(0,"div",69),e.\u0275\u0275template(1,fe,2,0,"small",70),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(2);let r;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(r=t.notificationFormGroup.get("message"))||null==r.errors?null:r.errors.required)}}function ge(n,a){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",55)(1,"h5",56),e.\u0275\u0275text(2,"Send Notification"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",57),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.dismiss("Cross click"))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"form",11)(5,"div",58)(6,"div",2)(7,"div",59)(8,"div",60)(9,"label",61),e.\u0275\u0275text(10,"Title:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(11,"input",62),e.\u0275\u0275template(12,ue,2,1,"div",63),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"div",60)(14,"label",64),e.\u0275\u0275text(15,"Message:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(16,"textarea",65),e.\u0275\u0275template(17,_e,2,1,"div",63),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(18,"div",66)(19,"button",67),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.close("Close click"))}),e.\u0275\u0275text(20,"Close"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"button",68),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.sendMessage())}),e.\u0275\u0275text(22,"Send Message"),e.\u0275\u0275elementEnd()()()}if(2&n){const t=e.\u0275\u0275nextContext();let r,i;e.\u0275\u0275advance(4),e.\u0275\u0275property("formGroup",t.notificationFormGroup),e.\u0275\u0275advance(8),e.\u0275\u0275property("ngIf",(null==(r=t.notificationFormGroup.get("title"))?null:r.invalid)&&((null==(r=t.notificationFormGroup.get("title"))?null:r.dirty)||(null==(r=t.notificationFormGroup.get("title"))?null:r.touched))),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(i=t.notificationFormGroup.get("message"))?null:i.invalid)&&((null==(i=t.notificationFormGroup.get("message"))?null:i.dirty)||(null==(i=t.notificationFormGroup.get("message"))?null:i.touched))),e.\u0275\u0275advance(4),e.\u0275\u0275property("disabled",t.notificationFormGroup.invalid)}}const ve=[{path:"",component:(()=>{class n{constructor(t,r,i){this.userService=t,this.modalService=r,this.toast=i,this.currStatus="Pending",this.currUserId="",this.currKYCStatus="",this.statusList=["Pending","Active","Inactive","Blocked"],this.kycStatusList=["Requested","Approved","Rejected"],this.userList=[],this.total=0,this.page=1,this.pageSize=10}ngOnInit(){this.breadCrumbItems=[{label:"Advisor List"},{label:"User",active:!0}],this.notificationFormGroup=new l.cw({title:new l.NI("",l.kI.required),message:new l.NI("",l.kI.required)}),this.searchFormGroup=new l.cw({name:new l.NI(""),user_id:new l.NI(""),account_number:new l.NI(""),status:new l.NI("")}),this.getAllUsers()}search(){this.page=1,this.getAllUsers()}reset(){this.page=1,this.searchFormGroup.reset(),this.getAllUsers()}pageChange(t){this.page=t,this.getAllUsers()}getAllUsers(){const t=this.searchFormGroup.value,r=[];Object.keys(t).forEach(o=>{null!==t[o]&&""!==t[o]&&r.push(`${o}=${encodeURIComponent(t[o])}`)});const i=r.join("&");this.userService.getAllAdvisors(this.page,this.pageSize,i).subscribe(o=>{o&&o.data?(this.userList=o?.data?.users?.data||[],console.log("User List:",this.userList),this.total=o?.data?.users?.metadata[0]?.total||0):this.userList=[]},o=>{console.error("Error fetching user list:",o),this.userList=[]})}isTimePassed(t){return!!t&&(new Date).getTime()-new Date(t).getTime()>36e5}openModal(t){this.modalService.open(t)}getAge(t){const r=new Date,i=new Date(t);let o=r.getFullYear()-i.getFullYear();const s=r.getMonth()-i.getMonth();return(s<0||0===s&&r.getDate()<i.getDate())&&o--,o}addMember(t){}sendNotification(t,r){this.currUserId=r._id,this.openModal(t)}sendMessage(){if(this.notificationFormGroup.invalid)return void this.toast.error("Please fill all required fields");const{title:t,message:r}=this.notificationFormGroup.value;this.userService.sendNotification(this.currUserId,t,r).subscribe(i=>{i&&"success"===i.status?(this.toast.success("Notification sent successfully"),this.modalService.dismissAll(),this.notificationFormGroup.reset()):this.toast.error("Failed to send notification")},i=>{console.error("Error sending notification:",i),this.toast.error("Failed to send notification")})}findPageShowing(){return Math.min(this.page*this.pageSize,this.total)}advisorModalFn(t,r){"Requested"===t.advisor_status&&(this.currUserId=t._id,this.currStatus=t.advisor_status,this.openModal(r))}changeAdvisorStatus(){b().fire({title:"Are you sure?",text:`You want to ${this.currStatus} this advisor?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:`Yes, ${this.currStatus} it!`}).then(t=>{t.isConfirmed&&this.userService.updateProfile({_id:this.currUserId,advisor_status:this.currStatus,advisor_approved_date:new Date}).subscribe(r=>{this.modalService.dismissAll(),b().fire({title:"Success",text:`Advisor status changed to ${this.currStatus} successfully!`,icon:"success",confirmButtonText:"OK"}),this.toast.success(`Advisor status changed to ${this.currStatus} Successfully`),this.getAllUsers()},r=>{console.error("Error changing advisor status:",r),this.modalService.dismissAll(),this.toast.error("Failed to change advisor status")})})}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(u.i),e.\u0275\u0275directiveInject(p.FF),e.\u0275\u0275directiveInject(f._W))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-agents"]],decls:76,vars:12,consts:[[1,"container-fluid"],["title","Advisors",3,"breadcrumbItems"],[1,"row"],[1,"col-xl-12"],[1,"card"],[1,"card-body"],[1,"card-body","border-bottom"],[3,"formGroup"],[1,"col-lg-3"],["type","search","id","searchInput","formControlName","name","placeholder","Search for Name...",1,"form-control"],["type","search","id","searchInput","formControlName","account_number","placeholder","Search for Account Number...",1,"form-control"],[1,"col-lg-2"],["type","search","id","searchInput","formControlName","user_id","placeholder","Search for User id...",1,"form-control"],["formControlName","status",1,"form-control","select2"],["value",""],["value","All"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"col-lg-1"],["type","button",1,"btn","btn-soft-secondary","w-100",3,"click"],[1,"mdi","mdi-filter-outline","align-middle"],["type","button",1,"btn","btn-light",3,"click"],[1,"mdi","mdi-refresh"],[1,"table-responsive"],["id","basic-datatable",1,"table","table-bordered","dt-responsive","nowrap","datatables","no-footer","dtr-inline"],[3,"width"],[4,"ngFor","ngForOf"],[1,"row","justify-content-md-between","align-items-md-center","mt-2"],[1,"col-sm-12","col-md-5"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[1,"text-md-right","float-md-end","pagination-rounded"],[3,"collectionSize","page","pageSize","pageChange"],["role","document"],["changeAdvisorStatusModal",""],["messageModal",""],[3,"ngValue"],["class","text-muted",4,"ngIf"],["class","badge badge-soft-primary cursor-pointer",3,"routerLink",4,"ngIf"],["href","javascript: void(0);",1,"badge","font-size-11","m-1",3,"ngClass"],["href","javascript: void(0);","class","badge font-size-11 m-1",3,"ngClass",4,"ngIf"],["href","javascript: void(0);","class","badge font-size-11 m-1",3,"ngClass","click",4,"ngIf"],["class","list-inline font-size-20 contact-links mb-0",4,"ngIf"],[1,"text-muted"],[1,"badge","badge-soft-primary","cursor-pointer",3,"routerLink"],["href","javascript: void(0);",1,"badge","font-size-11","m-1",3,"ngClass","click"],[1,"list-inline","font-size-20","contact-links","mb-0"],["data-bs-toggle","modal","data-bs-target","#myModal",1,"list-inline-item","px-2",3,"click"],["href","javascript:void(0);","tooltip","Message"],[1,"bx","bx-message-square-dots"],[1,"list-inline-item","px-2"],["tooltip","Profile",3,"routerLink"],[1,"bx","bx-user-circle"],[1,"modal-header"],["id","myModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"col-md-12"],[1,"mb-3"],["for","recipient-name",1,"col-form-label"],["type","number",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary","waves-effect",3,"click"],["type","button",1,"btn","btn-primary","waves-effect","waves-light",3,"click"],["type","text","id","recipient-name","formControlName","title","placeholder","Enter Title",1,"form-control"],["class","text-danger mt-1",4,"ngIf"],["for","message-text",1,"col-form-label"],["id","message-text","formControlName","message","placeholder","Enter Message",1,"form-control"],["type","submit",1,"btn","btn-primary","waves-effect","waves-light",3,"disabled","click"],[1,"text-danger","mt-1"],[4,"ngIf"]],template:function(t,r){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-page-title",1),e.\u0275\u0275elementStart(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"form",7)(8,"div",2)(9,"div",8),e.\u0275\u0275element(10,"input",9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",8),e.\u0275\u0275element(12,"input",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"div",11),e.\u0275\u0275element(14,"input",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"div",11)(16,"select",13)(17,"option",14),e.\u0275\u0275text(18,"Select Status"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"option",15),e.\u0275\u0275text(20,"All"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(21,C,2,2,"option",16),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(22,"div",17)(23,"button",18),e.\u0275\u0275listener("click",function(){return r.search()}),e.\u0275\u0275element(24,"i",19),e.\u0275\u0275text(25," Filter"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(26,"div",17)(27,"button",20),e.\u0275\u0275listener("click",function(){return r.reset()}),e.\u0275\u0275element(28,"i",21),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(29,"div",2)(30,"div",22)(31,"table",23)(32,"thead")(33,"tr")(34,"th"),e.\u0275\u0275text(35,"Sr No"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(36,"th"),e.\u0275\u0275text(37,"Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(38,"th"),e.\u0275\u0275text(39,"UserId"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(40,"th"),e.\u0275\u0275text(41,"Refer Id"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(42,"th"),e.\u0275\u0275text(43,"Direct Ref"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(44,"th"),e.\u0275\u0275text(45,"InDirect Ref"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(46,"th"),e.\u0275\u0275text(47,"Account Number"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(48,"th"),e.\u0275\u0275text(49,"Aadhar Number"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(50,"th"),e.\u0275\u0275text(51,"Gender"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(52,"th"),e.\u0275\u0275text(53,"Age"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(54,"th"),e.\u0275\u0275text(55,"Date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(56,"th",24),e.\u0275\u0275text(57,"Status"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(58,"th",24),e.\u0275\u0275text(59,"Action"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(60,"tbody"),e.\u0275\u0275template(61,L,39,29,"tr",25),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(62,"div",26)(63,"div",27)(64,"div",28),e.\u0275\u0275text(65,"Showing "),e.\u0275\u0275elementStart(66,"b"),e.\u0275\u0275text(67),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(68),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(69,"div",27)(70,"div",29)(71,"ngb-pagination",30),e.\u0275\u0275listener("pageChange",function(o){return r.page=o})("pageChange",function(o){return r.pageChange(o)}),e.\u0275\u0275elementEnd()()()()()()()()()()(),e.\u0275\u0275template(72,N,17,2,"ng-template",31,32,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(74,j,23,4,"ng-template",31,33,e.\u0275\u0275templateRefExtractor)),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("breadcrumbItems",r.breadCrumbItems),e.\u0275\u0275advance(6),e.\u0275\u0275property("formGroup",r.searchFormGroup),e.\u0275\u0275advance(14),e.\u0275\u0275property("ngForOf",r.statusList),e.\u0275\u0275advance(35),e.\u0275\u0275property("width",10),e.\u0275\u0275advance(2),e.\u0275\u0275property("width",10),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",r.userList),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate((r.page-1)*r.pageSize+1),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate2(" to ",r.findPageShowing()," of ",r.total," entries "),e.\u0275\u0275advance(3),e.\u0275\u0275property("collectionSize",r.total)("page",r.page)("pageSize",r.pageSize))},dependencies:[c.NgClass,c.NgForOf,c.NgIf,_.V,l._Y,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.On,p.N9,l.sg,l.u,m.rH,m.yS,c.DatePipe]}),n})()},{path:"direct-ref/:id",component:(()=>{class n{constructor(t,r,i,o){this.toast=t,this.userService=r,this.modalService=i,this.route=o,this.currStatus="Pending",this.totalDirectCommission=0,this.currUserId="",this.currKYCStatus="",this.currentUserId="",this.statusList=["Pending","Active","Inactive","Blocked"],this.kycStatusList=["Requested","Approved","Rejected"],this.userList=[],this.total=0,this.page=1,this.pageSize=10}ngOnInit(){this.breadCrumbItems=[{label:"Advisor List"},{label:"User",url:"/agents"},{label:"Direct Reference",active:!0}],this.notificationFormGroup=new l.cw({title:new l.NI("",l.kI.required),message:new l.NI("",l.kI.required)}),this.searchFormGroup=new l.cw({name:new l.NI(""),user_id:new l.NI(""),account_number:new l.NI(""),status:new l.NI("")}),this.route.params.subscribe(t=>{this.currentUserId=t.id,this.getDiretRefUsers(this.currentUserId)})}search(){this.page=1,this.getDiretRefUsers()}reset(){this.page=1,this.searchFormGroup.reset(),this.getDiretRefUsers()}pageChange(t){this.page=t,this.getDiretRefUsers()}getDiretRefUsers(t=this.currentUserId){const r=this.searchFormGroup.value,i=[];Object.keys(r).forEach(s=>{null!==r[s]&&""!==r[s]&&i.push(`${s}=${encodeURIComponent(r[s])}`)});const o=i.join("&");this.userService.getDirectRefUsers(this.page,this.pageSize,o,t).subscribe(s=>{s&&s.data?(this.userList=s?.data?.users||[],this.total=s?.data?.total||0,this.totalDirectCommission=s?.data?.commissionSummary?.totalCommission||0):this.userList=[]},s=>{console.error("Error fetching user list:",s),this.userList=[]})}isTimePassed(t){return!!t&&(new Date).getTime()-new Date(t).getTime()>36e5}openModal(t){this.modalService.open(t)}getAge(t){const r=new Date,i=new Date(t);let o=r.getFullYear()-i.getFullYear();const s=r.getMonth()-i.getMonth();return(s<0||0===s&&r.getDate()<i.getDate())&&o--,o}addMember(t){}sendNotification(t,r){this.currUserId=r._id,this.openModal(t)}sendMessage(){if(this.notificationFormGroup.invalid)return void this.toast.error("Please fill all required fields");const{title:t,message:r}=this.notificationFormGroup.value;this.userService.sendNotification(this.currUserId,t,r).subscribe(i=>{i&&"success"===i.status?(this.toast.success("Notification sent successfully"),this.modalService.dismissAll(),this.notificationFormGroup.reset()):this.toast.error("Failed to send notification")},i=>{console.error("Error sending notification:",i),this.toast.error("Failed to send notification")})}findPageShowing(){return Math.min(this.page*this.pageSize,this.total)}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(f._W),e.\u0275\u0275directiveInject(u.i),e.\u0275\u0275directiveInject(p.FF),e.\u0275\u0275directiveInject(m.gz))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-diref-refernce-list"]],decls:41,vars:9,consts:[[1,"container-fluid"],["title","Direct Reference Users",3,"breadcrumbItems"],[1,"row"],[1,"col-xl-12"],[1,"card"],[1,"card-body"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"card-title","mb-0"],[1,"bg-soft-success","px-3","py-2","rounded"],[1,"mb-0"],[1,"card-body","border-bottom"],[3,"formGroup"],[1,"col-lg-3"],["type","search","id","searchInput","formControlName","name","placeholder","Search for Name...",1,"form-control"],["type","search","id","searchInput","formControlName","account_number","placeholder","Search for Account Number...",1,"form-control"],[1,"col-lg-2"],["type","search","id","searchInput","formControlName","user_id","placeholder","Search for User id...",1,"form-control"],["formControlName","status",1,"form-control","select2"],["value",""],["value","All"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"col-lg-1"],["type","button",1,"btn","btn-soft-secondary","w-100",3,"click"],[1,"mdi","mdi-filter-outline","align-middle"],["type","button",1,"btn","btn-light",3,"click"],[1,"mdi","mdi-refresh"],["class","d-flex flex-column justify-content-center align-items-center","style","min-height: 150px;",4,"ngIf"],["class","table-responsive",4,"ngIf"],["role","document"],["messageModal",""],[3,"ngValue"],[1,"d-flex","flex-column","justify-content-center","align-items-center",2,"min-height","150px"],["src","assets/img/not-found.png","width","300px","alt",""],[1,"text-mutes","mt-2"],[1,"table-responsive"],["id","basic-datatable",1,"table","table-bordered","dt-responsive","nowrap","datatables","no-footer","dtr-inline"],[3,"width"],[4,"ngFor","ngForOf"],[1,"row","justify-content-md-between","align-items-md-center","mt-2"],[1,"col-sm-12","col-md-5"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[1,"text-md-right","float-md-end","pagination-rounded"],[3,"collectionSize","page","pageSize","pageChange"],["class","text-muted",4,"ngIf"],["href","javascript: void(0);",1,"badge","font-size-11","m-1",3,"ngClass"],["href","javascript: void(0);","class","badge font-size-11 m-1",3,"ngClass",4,"ngIf"],["class","list-inline font-size-20 contact-links mb-0",4,"ngIf"],[1,"text-muted"],[1,"list-inline","font-size-20","contact-links","mb-0"],["data-bs-toggle","modal","data-bs-target","#myModal",1,"list-inline-item","px-2",3,"click"],["href","javascript:void(0);","tooltip","Message"],[1,"bx","bx-message-square-dots"],[1,"list-inline-item","px-2"],["tooltip","Profile",3,"routerLink"],[1,"bx","bx-user-circle"],[1,"modal-header"],["id","myModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"col-md-12"],[1,"mb-3"],["for","recipient-name",1,"col-form-label"],["type","text","id","recipient-name","formControlName","title","placeholder","Enter Title",1,"form-control"],["class","text-danger mt-1",4,"ngIf"],["for","message-text",1,"col-form-label"],["id","message-text","formControlName","message","placeholder","Enter Message",1,"form-control"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary","waves-effect",3,"click"],["type","submit",1,"btn","btn-primary","waves-effect","waves-light",3,"disabled","click"],[1,"text-danger","mt-1"],[4,"ngIf"]],template:function(t,r){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-page-title",1),e.\u0275\u0275elementStart(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h4",7),e.\u0275\u0275text(8,"Direct Reference List"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"div",8)(10,"h5",9),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"number"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(13,"div",10)(14,"form",11)(15,"div",2)(16,"div",12),e.\u0275\u0275element(17,"input",13),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"div",12),e.\u0275\u0275element(19,"input",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"div",15),e.\u0275\u0275element(21,"input",16),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"div",15)(23,"select",17)(24,"option",18),e.\u0275\u0275text(25,"Select Status"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"option",19),e.\u0275\u0275text(27,"All"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(28,z,2,2,"option",20),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(29,"div",21)(30,"button",22),e.\u0275\u0275listener("click",function(){return r.search()}),e.\u0275\u0275element(31,"i",23),e.\u0275\u0275text(32," Filter"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(33,"div",21)(34,"button",24),e.\u0275\u0275listener("click",function(){return r.reset()}),e.\u0275\u0275element(35,"i",25),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(36,"div",2),e.\u0275\u0275template(37,$,4,0,"div",26),e.\u0275\u0275template(38,W,38,9,"div",27),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275template(39,ee,23,4,"ng-template",28,29,e.\u0275\u0275templateRefExtractor)),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("breadcrumbItems",r.breadCrumbItems),e.\u0275\u0275advance(10),e.\u0275\u0275textInterpolate1("Total Commission: \u20b9",e.\u0275\u0275pipeBind2(12,6,r.totalDirectCommission,"1.2-2"),""),e.\u0275\u0275advance(3),e.\u0275\u0275property("formGroup",r.searchFormGroup),e.\u0275\u0275advance(14),e.\u0275\u0275property("ngForOf",r.statusList),e.\u0275\u0275advance(9),e.\u0275\u0275property("ngIf",!r.userList||0===r.userList.length),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.userList&&r.userList.length>0))},dependencies:[c.NgClass,c.NgForOf,c.NgIf,_.V,l._Y,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,p.N9,l.sg,l.u,m.yS,c.DecimalPipe,c.DatePipe]}),n})()},{path:"indirect-ref/:id",component:(()=>{class n{constructor(t,r,i,o){this.toast=t,this.userService=r,this.modalService=i,this.route=o,this.currStatus="Pending",this.currUserId="",this.currKYCStatus="",this.currentUserId="",this.statusList=["Pending","Active","Inactive","Blocked"],this.kycStatusList=["Requested","Approved","Rejected"],this.userList=[],this.total=0,this.page=1,this.pageSize=10,this.totalIndirectCommission=0}ngOnInit(){this.breadCrumbItems=[{label:"Advisor List"},{label:"User",url:"/agents"},{label:"InDirect Reference",active:!0}],this.notificationFormGroup=new l.cw({title:new l.NI("",l.kI.required),message:new l.NI("",l.kI.required)}),this.searchFormGroup=new l.cw({name:new l.NI(""),user_id:new l.NI(""),account_number:new l.NI(""),status:new l.NI("")}),this.route.params.subscribe(t=>{this.currentUserId=t.id,console.log("Current User ID:",this.currentUserId),this.getInDiretRefUsers(this.currentUserId)})}search(){this.page=1,this.getInDiretRefUsers()}reset(){this.page=1,this.searchFormGroup.reset(),this.getInDiretRefUsers()}pageChange(t){this.page=t,this.getInDiretRefUsers()}getInDiretRefUsers(t=this.currentUserId){const r=this.searchFormGroup.value,i=[];Object.keys(r).forEach(s=>{null!==r[s]&&""!==r[s]&&i.push(`${s}=${encodeURIComponent(r[s])}`)});const o=i.join("&");this.userService.getInDirectRefUsers(this.page,this.pageSize,o,t).subscribe(s=>{s&&s.data?(this.userList=s?.data?.users||[],this.totalIndirectCommission=s?.data?.commissionSummary?.totalCommission||0,this.total=s?.data?.total||0):this.userList=[]},s=>{console.error("Error fetching user list:",s),this.userList=[]})}isTimePassed(t){return!!t&&(new Date).getTime()-new Date(t).getTime()>36e5}openModal(t){this.modalService.open(t)}getAge(t){const r=new Date,i=new Date(t);let o=r.getFullYear()-i.getFullYear();const s=r.getMonth()-i.getMonth();return(s<0||0===s&&r.getDate()<i.getDate())&&o--,o}addMember(t){}sendNotification(t,r){this.currUserId=r._id,this.openModal(t)}sendMessage(){if(this.notificationFormGroup.invalid)return void this.toast.error("Please fill all required fields");const{title:t,message:r}=this.notificationFormGroup.value;this.userService.sendNotification(this.currUserId,t,r).subscribe(i=>{i&&"success"===i.status?(this.toast.success("Notification sent successfully"),this.modalService.dismissAll(),this.notificationFormGroup.reset()):this.toast.error("Failed to send notification")},i=>{console.error("Error sending notification:",i),this.toast.error("Failed to send notification")})}findPageShowing(){return Math.min(this.page*this.pageSize,this.total)}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(f._W),e.\u0275\u0275directiveInject(u.i),e.\u0275\u0275directiveInject(p.FF),e.\u0275\u0275directiveInject(m.gz))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-indiref-refernce-list"]],decls:41,vars:9,consts:[[1,"container-fluid"],["title","InDirect Reference Users",3,"breadcrumbItems"],[1,"row"],[1,"col-xl-12"],[1,"card"],[1,"card-body"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"card-title","mb-0"],[1,"bg-soft-success","px-3","py-2","rounded"],[1,"mb-0"],[1,"card-body","border-bottom"],[3,"formGroup"],[1,"col-lg-3"],["type","search","id","searchInput","formControlName","name","placeholder","Search for Name...",1,"form-control"],["type","search","id","searchInput","formControlName","account_number","placeholder","Search for Account Number...",1,"form-control"],[1,"col-lg-2"],["type","search","id","searchInput","formControlName","user_id","placeholder","Search for User id...",1,"form-control"],["formControlName","status",1,"form-control","select2"],["value",""],["value","All"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"col-lg-1"],["type","button",1,"btn","btn-soft-secondary","w-100",3,"click"],[1,"mdi","mdi-filter-outline","align-middle"],["type","button",1,"btn","btn-light",3,"click"],[1,"mdi","mdi-refresh"],["class","d-flex flex-column justify-content-center align-items-center","style","min-height: 150px;",4,"ngIf"],["class","table-responsive",4,"ngIf"],["role","document"],["messageModal",""],[3,"ngValue"],[1,"d-flex","flex-column","justify-content-center","align-items-center",2,"min-height","150px"],["src","assets/img/not-found.png","width","300px","alt",""],[1,"text-mutes","mt-2"],[1,"table-responsive"],["id","basic-datatable",1,"table","table-bordered","dt-responsive","nowrap","datatables","no-footer","dtr-inline"],[3,"width"],[4,"ngFor","ngForOf"],[1,"row","justify-content-md-between","align-items-md-center","mt-2"],[1,"col-sm-12","col-md-5"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[1,"text-md-right","float-md-end","pagination-rounded"],[3,"collectionSize","page","pageSize","pageChange"],["class","text-muted",4,"ngIf"],["href","javascript: void(0);",1,"badge","font-size-11","m-1",3,"ngClass"],["href","javascript: void(0);","class","badge font-size-11 m-1",3,"ngClass",4,"ngIf"],["class","list-inline font-size-20 contact-links mb-0",4,"ngIf"],[1,"text-muted"],[1,"list-inline","font-size-20","contact-links","mb-0"],["data-bs-toggle","modal","data-bs-target","#myModal",1,"list-inline-item","px-2",3,"click"],["href","javascript:void(0);","tooltip","Message"],[1,"bx","bx-message-square-dots"],[1,"list-inline-item","px-2"],["tooltip","Profile",3,"routerLink"],[1,"bx","bx-user-circle"],[1,"modal-header"],["id","myModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"col-md-12"],[1,"mb-3"],["for","recipient-name",1,"col-form-label"],["type","text","id","recipient-name","formControlName","title","placeholder","Enter Title",1,"form-control"],["class","text-danger mt-1",4,"ngIf"],["for","message-text",1,"col-form-label"],["id","message-text","formControlName","message","placeholder","Enter Message",1,"form-control"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary","waves-effect",3,"click"],["type","submit",1,"btn","btn-primary","waves-effect","waves-light",3,"disabled","click"],[1,"text-danger","mt-1"],[4,"ngIf"]],template:function(t,r){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-page-title",1),e.\u0275\u0275elementStart(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h4",7),e.\u0275\u0275text(8,"Indirect Reference List"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"div",8)(10,"h5",9),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"number"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(13,"div",10)(14,"form",11)(15,"div",2)(16,"div",12),e.\u0275\u0275element(17,"input",13),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"div",12),e.\u0275\u0275element(19,"input",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"div",15),e.\u0275\u0275element(21,"input",16),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"div",15)(23,"select",17)(24,"option",18),e.\u0275\u0275text(25,"Select Status"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"option",19),e.\u0275\u0275text(27,"All"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(28,ne,2,2,"option",20),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(29,"div",21)(30,"button",22),e.\u0275\u0275listener("click",function(){return r.search()}),e.\u0275\u0275element(31,"i",23),e.\u0275\u0275text(32," Filter"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(33,"div",21)(34,"button",24),e.\u0275\u0275listener("click",function(){return r.reset()}),e.\u0275\u0275element(35,"i",25),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(36,"div",2),e.\u0275\u0275template(37,re,4,0,"div",26),e.\u0275\u0275template(38,me,38,9,"div",27),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275template(39,ge,23,4,"ng-template",28,29,e.\u0275\u0275templateRefExtractor)),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("breadcrumbItems",r.breadCrumbItems),e.\u0275\u0275advance(10),e.\u0275\u0275textInterpolate1("Total Commission: \u20b9",e.\u0275\u0275pipeBind2(12,6,r.totalIndirectCommission,"1.2-2"),""),e.\u0275\u0275advance(3),e.\u0275\u0275property("formGroup",r.searchFormGroup),e.\u0275\u0275advance(14),e.\u0275\u0275property("ngForOf",r.statusList),e.\u0275\u0275advance(9),e.\u0275\u0275property("ngIf",!r.userList||0===r.userList.length),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.userList&&r.userList.length>0))},dependencies:[c.NgClass,c.NgForOf,c.NgIf,_.V,l._Y,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,p.N9,l.sg,l.u,m.yS,c.DecimalPipe,c.DatePipe]}),n})()}];let he=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[m.Bz.forChild(ve),m.Bz]}),n})();var xe=d(9668);let be=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[c.CommonModule,xe.v,l.u5,p.jF,l.UX,he]}),n})()}}]);