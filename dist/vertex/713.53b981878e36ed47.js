"use strict";(self.webpackChunkskote=self.webpackChunkskote||[]).push([[713],{10713:(kt,v,m)=>{m.r(v),m.d(v,{GiftCardModule:()=>At});var p=m(36895),u=m(59158),l=m(24006),t=m(94650),g=m(97185),c=m(51350),x=m(63728);function b(n,a){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",13)(1,"image-cropper",14),t.\u0275\u0275listener("loadImageFailed",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.loadImageFailed())})("imageCropped",function(i){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.imageCropped(i))}),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("imageChangedEvent",e.imageChangedEvent)("maintainAspectRatio",!1)("imageQuality",50)("canvasRotation",e.canvasRotation)("transform",e.transform)}}let G=(()=>{class n{constructor(e,r){this.toast=e,this.activeModal=r,this.transform={},this.imageChangedEvent=null,this.croppedImage="",this.canvasRotation=0,this.rotation=0,this.scale=1,this.croppedImageEvent=new t.EventEmitter}ngOnInit(){this.imageChangedEvent=this.data.file}cropImage(){this.croppedImage?this.activeModal.close({image:this.croppedImage,from:this.data.from}):this.toast.error("Please select an image to crop","Error",{timeOut:3e3,progressBar:!0,closeButton:!0})}dataURLtoBlob(e){const r=atob(e.split(",")[1]),i=e.split(",")[0].split(":")[1].split(";")[0],o=new ArrayBuffer(r.length),d=new Uint8Array(o);for(let s=0;s<r.length;s++)d[s]=r.charCodeAt(s);return new Blob([o],{type:i})}imageCropped(e){this.croppedImage=e.base64}rotateLeft(){this.canvasRotation--,this.flipAfterRotate()}rotateRight(){this.canvasRotation++,this.flipAfterRotate()}flipAfterRotate(){this.transform={...this.transform,flipH:this.transform.flipV,flipV:this.transform.flipH}}flipHorizontal(){this.transform={...this.transform,flipH:!this.transform.flipH}}flipVertical(){this.transform={...this.transform,flipV:!this.transform.flipV}}updateRotation(){this.transform={...this.transform,rotate:this.rotation}}zoomOut(){this.scale-=.1,this.transform={...this.transform,scale:this.scale}}zoomIn(){this.scale+=.1,this.transform={...this.transform,scale:this.scale}}loadImageFailed(){console.error("Image load failed"),this.toast.error("Image load failed","Error",{timeOut:3e3,progressBar:!0,closeButton:!0})}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(g._W),t.\u0275\u0275directiveInject(c.Kz))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["app-image-cropper"]],viewQuery:function(e,r){if(1&e&&t.\u0275\u0275viewQuery(n,7),2&e){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(r.imageCropper=i.first)}},inputs:{data:"data"},outputs:{croppedImageEvent:"croppedImageEvent"},decls:23,vars:2,consts:[[1,"card-body"],[1,"row"],[1,"col-12"],[1,"card"],[1,"col-lg-8"],["class","img-container",4,"ngIf"],[1,"text-center","mt-2"],[1,"btn","btn-secondary","btn-sm",3,"click"],[1,"btn","btn-secondary","btn-sm","ms-1",3,"click"],[1,"col-lg-4"],[1,"text-center"],[3,"src"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"img-container"],["format","jpeg",3,"imageChangedEvent","maintainAspectRatio","imageQuality","canvasRotation","transform","loadImageFailed","imageCropped"]],template:function(e,r){1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",0)(5,"div",1)(6,"div",4),t.\u0275\u0275template(7,b,2,5,"div",5),t.\u0275\u0275elementStart(8,"div",6)(9,"button",7),t.\u0275\u0275listener("click",function(){return r.rotateLeft()}),t.\u0275\u0275text(10,"Rotate left"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(11,"button",8),t.\u0275\u0275listener("click",function(){return r.rotateRight()}),t.\u0275\u0275text(12,"Rotate right"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(13,"button",8),t.\u0275\u0275listener("click",function(){return r.flipHorizontal()}),t.\u0275\u0275text(14,"Flip horizontal"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(15,"button",8),t.\u0275\u0275listener("click",function(){return r.flipVertical()}),t.\u0275\u0275text(16,"Flip vertical"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(17,"div",9)(18,"div",10),t.\u0275\u0275element(19,"img",11),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(20,"div",6)(21,"button",12),t.\u0275\u0275listener("click",function(){return r.cropImage()}),t.\u0275\u0275text(22,"Crop Image"),t.\u0275\u0275elementEnd()()()()()()()()()),2&e&&(t.\u0275\u0275advance(7),t.\u0275\u0275property("ngIf",r.imageChangedEvent),t.\u0275\u0275advance(12),t.\u0275\u0275property("src",r.croppedImage,t.\u0275\u0275sanitizeUrl))},dependencies:[p.NgIf,x.ap]}),n})();var f=m(92340),I=m(80529);let C=(()=>{class n{constructor(e){this.http=e}getGift(e=0,r=10,i=""){return this.http.get(`${f.N.api_url}gifts?page=${e}&limit=${r}&search=${i}`)}createGift(e){return this.http.post(`${f.N.api_url}gifts`,e)}editGift(e){return this.http.put(`${f.N.api_url}gifts`,e)}getGiftById(e){return this.http.get(`${f.N.api_url}gifts/${e}`)}deleteGift(e){return this.http.delete(`${f.N.api_url}gifts/${e}`)}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275inject(I.eN))},n.\u0275prov=t.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var _=m(29234);function S(n,a){1&n&&(t.\u0275\u0275elementStart(0,"small"),t.\u0275\u0275text(1,"Gift name is required."),t.\u0275\u0275elementEnd())}function y(n,a){1&n&&(t.\u0275\u0275elementStart(0,"small"),t.\u0275\u0275text(1,"Max 100 characters allowed."),t.\u0275\u0275elementEnd())}function E(n,a){if(1&n&&(t.\u0275\u0275elementStart(0,"div",19),t.\u0275\u0275template(1,S,2,0,"small",27),t.\u0275\u0275template(2,y,2,0,"small",27),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2);let r,i;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==(r=e.addGiftFormGroup.get("gift_name"))||null==r.errors?null:r.errors.required),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==(i=e.addGiftFormGroup.get("gift_name"))||null==i.errors?null:i.errors.maxlength)}}function F(n,a){1&n&&(t.\u0275\u0275elementStart(0,"small"),t.\u0275\u0275text(1,"Description is required."),t.\u0275\u0275elementEnd())}function w(n,a){1&n&&(t.\u0275\u0275elementStart(0,"small"),t.\u0275\u0275text(1,"Max 500 characters allowed."),t.\u0275\u0275elementEnd())}function T(n,a){if(1&n&&(t.\u0275\u0275elementStart(0,"div",19),t.\u0275\u0275template(1,F,2,0,"small",27),t.\u0275\u0275template(2,w,2,0,"small",27),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2);let r,i;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==(r=e.addGiftFormGroup.get("description"))||null==r.errors?null:r.errors.required),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==(i=e.addGiftFormGroup.get("description"))||null==i.errors?null:i.errors.maxlength)}}function A(n,a){1&n&&(t.\u0275\u0275elementStart(0,"small"),t.\u0275\u0275text(1,"Quantity is required."),t.\u0275\u0275elementEnd())}function k(n,a){1&n&&(t.\u0275\u0275elementStart(0,"small"),t.\u0275\u0275text(1,"Minimum quantity is 1."),t.\u0275\u0275elementEnd())}function N(n,a){if(1&n&&(t.\u0275\u0275elementStart(0,"div",19),t.\u0275\u0275template(1,A,2,0,"small",27),t.\u0275\u0275template(2,k,2,0,"small",27),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2);let r,i;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==(r=e.addGiftFormGroup.get("quantity"))||null==r.errors?null:r.errors.required),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==(i=e.addGiftFormGroup.get("quantity"))||null==i.errors?null:i.errors.min)}}function D(n,a){1&n&&(t.\u0275\u0275elementStart(0,"small"),t.\u0275\u0275text(1,"Profile image is required."),t.\u0275\u0275elementEnd())}function V(n,a){if(1&n&&(t.\u0275\u0275elementStart(0,"div",19),t.\u0275\u0275template(1,D,2,0,"small",27),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2);let r;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==(r=e.addGiftFormGroup.get("gift_image"))||null==r.errors?null:r.errors.required)}}function q(n,a){1&n&&(t.\u0275\u0275elementStart(0,"small"),t.\u0275\u0275text(1,"Status is required."),t.\u0275\u0275elementEnd())}function j(n,a){if(1&n&&(t.\u0275\u0275elementStart(0,"div",19),t.\u0275\u0275template(1,q,2,0,"small",27),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2);let r;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==(r=e.addGiftFormGroup.get("status"))||null==r.errors?null:r.errors.required)}}function R(n,a){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"form",8)(1,"div",2)(2,"div",9)(3,"div",10)(4,"label",11),t.\u0275\u0275text(5,"Gift Name"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(6,"input",12),t.\u0275\u0275template(7,E,3,2,"div",13),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"div",10)(9,"label",14),t.\u0275\u0275text(10,"Description"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(11,"textarea",15),t.\u0275\u0275template(12,T,3,2,"div",13),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(13,"div",10)(14,"label",16),t.\u0275\u0275text(15,"Available Quantity"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(16,"input",17),t.\u0275\u0275template(17,N,3,2,"div",13),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(18,"div",18)(19,"div",10)(20,"label"),t.\u0275\u0275text(21,"Profile Image "),t.\u0275\u0275elementStart(22,"span",19),t.\u0275\u0275text(23,"*"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(24,"input",20),t.\u0275\u0275listener("change",function(i){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.onFileSelected(i,"gift_image"))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(25,V,2,1,"div",13),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(26,"div",10)(27,"label",21),t.\u0275\u0275text(28,"Status"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(29,"select",22)(30,"option",23),t.\u0275\u0275text(31,"Select Status"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(32,"option",24),t.\u0275\u0275text(33,"Active"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(34,"option",25),t.\u0275\u0275text(35,"Inactive"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(36,j,2,1,"div",13),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(37,"button",26),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onSubmit())}),t.\u0275\u0275text(38,"Submit"),t.\u0275\u0275elementEnd()()()()}if(2&n){const e=t.\u0275\u0275nextContext();let r,i,o,d,s;t.\u0275\u0275property("formGroup",e.addGiftFormGroup),t.\u0275\u0275advance(7),t.\u0275\u0275property("ngIf",(null==(r=e.addGiftFormGroup.get("gift_name"))?null:r.touched)&&(null==(r=e.addGiftFormGroup.get("gift_name"))?null:r.invalid)),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf",(null==(i=e.addGiftFormGroup.get("description"))?null:i.touched)&&(null==(i=e.addGiftFormGroup.get("description"))?null:i.invalid)),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf",(null==(o=e.addGiftFormGroup.get("quantity"))?null:o.touched)&&(null==(o=e.addGiftFormGroup.get("quantity"))?null:o.invalid)),t.\u0275\u0275advance(7),t.\u0275\u0275attribute("required",!0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==(d=e.addGiftFormGroup.get("gift_image"))?null:d.touched)&&(null==(d=e.addGiftFormGroup.get("gift_image"))?null:d.invalid)),t.\u0275\u0275advance(11),t.\u0275\u0275property("ngIf",(null==(s=e.addGiftFormGroup.get("status"))?null:s.touched)&&(null==(s=e.addGiftFormGroup.get("status"))?null:s.invalid)),t.\u0275\u0275advance(1),t.\u0275\u0275property("disabled",e.addGiftFormGroup.invalid)}}function z(n,a){1&n&&(t.\u0275\u0275elementStart(0,"small"),t.\u0275\u0275text(1,"Gift name is required."),t.\u0275\u0275elementEnd())}function M(n,a){1&n&&(t.\u0275\u0275elementStart(0,"small"),t.\u0275\u0275text(1,"Max 100 characters allowed."),t.\u0275\u0275elementEnd())}function L(n,a){if(1&n&&(t.\u0275\u0275elementStart(0,"div",19),t.\u0275\u0275template(1,z,2,0,"small",27),t.\u0275\u0275template(2,M,2,0,"small",27),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2);let r,i;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==(r=e.editGiftFormGroup.get("gift_name"))||null==r.errors?null:r.errors.required),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==(i=e.editGiftFormGroup.get("gift_name"))||null==i.errors?null:i.errors.maxlength)}}function B(n,a){1&n&&(t.\u0275\u0275elementStart(0,"small"),t.\u0275\u0275text(1,"Description is required."),t.\u0275\u0275elementEnd())}function $(n,a){1&n&&(t.\u0275\u0275elementStart(0,"small"),t.\u0275\u0275text(1,"Max 500 characters allowed."),t.\u0275\u0275elementEnd())}function P(n,a){if(1&n&&(t.\u0275\u0275elementStart(0,"div",19),t.\u0275\u0275template(1,B,2,0,"small",27),t.\u0275\u0275template(2,$,2,0,"small",27),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2);let r,i;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==(r=e.editGiftFormGroup.get("description"))||null==r.errors?null:r.errors.required),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==(i=e.editGiftFormGroup.get("description"))||null==i.errors?null:i.errors.maxlength)}}function O(n,a){1&n&&(t.\u0275\u0275elementStart(0,"small"),t.\u0275\u0275text(1,"Quantity is required."),t.\u0275\u0275elementEnd())}function Q(n,a){1&n&&(t.\u0275\u0275elementStart(0,"small"),t.\u0275\u0275text(1,"Minimum quantity is 1."),t.\u0275\u0275elementEnd())}function J(n,a){if(1&n&&(t.\u0275\u0275elementStart(0,"div",19),t.\u0275\u0275template(1,O,2,0,"small",27),t.\u0275\u0275template(2,Q,2,0,"small",27),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2);let r,i;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==(r=e.editGiftFormGroup.get("quantity"))||null==r.errors?null:r.errors.required),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==(i=e.editGiftFormGroup.get("quantity"))||null==i.errors?null:i.errors.min)}}function H(n,a){1&n&&(t.\u0275\u0275elementStart(0,"small"),t.\u0275\u0275text(1,"Profile image is required."),t.\u0275\u0275elementEnd())}function U(n,a){if(1&n&&(t.\u0275\u0275elementStart(0,"div",19),t.\u0275\u0275template(1,H,2,0,"small",27),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2);let r;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==(r=e.editGiftFormGroup.get("gift_image"))||null==r.errors?null:r.errors.required)}}function Y(n,a){1&n&&(t.\u0275\u0275elementStart(0,"small"),t.\u0275\u0275text(1,"Status is required."),t.\u0275\u0275elementEnd())}function W(n,a){if(1&n&&(t.\u0275\u0275elementStart(0,"div",19),t.\u0275\u0275template(1,Y,2,0,"small",27),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2);let r;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==(r=e.editGiftFormGroup.get("status"))||null==r.errors?null:r.errors.required)}}function K(n,a){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"form",8)(1,"div",2)(2,"div",9)(3,"div",10)(4,"label",11),t.\u0275\u0275text(5,"Gift Name"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(6,"input",12),t.\u0275\u0275template(7,L,3,2,"div",13),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"div",10)(9,"label",14),t.\u0275\u0275text(10,"Description"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(11,"textarea",15),t.\u0275\u0275template(12,P,3,2,"div",13),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(13,"div",10)(14,"label",16),t.\u0275\u0275text(15,"Available Quantity"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(16,"input",17),t.\u0275\u0275template(17,J,3,2,"div",13),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(18,"div",18)(19,"div",10)(20,"label"),t.\u0275\u0275text(21,"Profile Image "),t.\u0275\u0275elementStart(22,"span",19),t.\u0275\u0275text(23,"*"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(24,"input",20),t.\u0275\u0275listener("change",function(i){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.onFileSelected(i,"gift_image"))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(25,U,2,1,"div",13),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(26,"div",10)(27,"label",21),t.\u0275\u0275text(28,"Status"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(29,"select",22)(30,"option",23),t.\u0275\u0275text(31,"Select Status"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(32,"option",24),t.\u0275\u0275text(33,"Active"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(34,"option",25),t.\u0275\u0275text(35,"Inactive"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(36,W,2,1,"div",13),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(37,"button",26),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onEdit())}),t.\u0275\u0275text(38,"Submit"),t.\u0275\u0275elementEnd()()()()}if(2&n){const e=t.\u0275\u0275nextContext();let r,i,o,d,s;t.\u0275\u0275property("formGroup",e.editGiftFormGroup),t.\u0275\u0275advance(7),t.\u0275\u0275property("ngIf",(null==(r=e.editGiftFormGroup.get("gift_name"))?null:r.touched)&&(null==(r=e.editGiftFormGroup.get("gift_name"))?null:r.invalid)),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf",(null==(i=e.editGiftFormGroup.get("description"))?null:i.touched)&&(null==(i=e.editGiftFormGroup.get("description"))?null:i.invalid)),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf",(null==(o=e.editGiftFormGroup.get("quantity"))?null:o.touched)&&(null==(o=e.editGiftFormGroup.get("quantity"))?null:o.invalid)),t.\u0275\u0275advance(7),t.\u0275\u0275attribute("required",!0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==(d=e.editGiftFormGroup.get("gift_image"))?null:d.touched)&&(null==(d=e.editGiftFormGroup.get("gift_image"))?null:d.invalid)),t.\u0275\u0275advance(11),t.\u0275\u0275property("ngIf",(null==(s=e.editGiftFormGroup.get("status"))?null:s.touched)&&(null==(s=e.editGiftFormGroup.get("status"))?null:s.invalid)),t.\u0275\u0275advance(1),t.\u0275\u0275property("disabled",e.editGiftFormGroup.invalid)}}function X(n,a){if(1&n&&(t.\u0275\u0275elementStart(0,"div",28)(1,"div",29)(2,"div",30)(3,"div",5),t.\u0275\u0275element(4,"img",31),t.\u0275\u0275elementStart(5,"div",32)(6,"h5",33)(7,"a",34),t.\u0275\u0275text(8),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(9,"p",35),t.\u0275\u0275text(10),t.\u0275\u0275elementEnd()()()()()()),2&n){const e=t.\u0275\u0275nextContext();let r,i,o;t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("src",(null==(r=e.addGiftFormGroup.get("gift_image"))?null:r.value)||"assets/img/gift-card.png",t.\u0275\u0275sanitizeUrl),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",""===(null==(i=e.addGiftFormGroup.get("gift_name"))?null:i.value)?"Gift Name":null==(i=e.addGiftFormGroup.get("gift_name"))?null:i.value,""),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(""===(null==(o=e.addGiftFormGroup.get("description"))?null:o.value)?"Gift Description":null==(o=e.addGiftFormGroup.get("description"))?null:o.value)}}function Z(n,a){if(1&n&&(t.\u0275\u0275elementStart(0,"div",28)(1,"div",29)(2,"div",30)(3,"div",5),t.\u0275\u0275element(4,"img",31),t.\u0275\u0275elementStart(5,"div",32)(6,"h5",33)(7,"a",34),t.\u0275\u0275text(8),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(9,"p",35),t.\u0275\u0275text(10),t.\u0275\u0275elementEnd()()()()()()),2&n){const e=t.\u0275\u0275nextContext();let r,i,o;t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("src",(null==(r=e.editGiftFormGroup.get("gift_image"))?null:r.value)||"assets/img/gift-card.png",t.\u0275\u0275sanitizeUrl),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",""===(null==(i=e.editGiftFormGroup.get("gift_name"))?null:i.value)?"Gift Name":null==(i=e.editGiftFormGroup.get("gift_name"))?null:i.value,""),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(""===(null==(o=e.editGiftFormGroup.get("description"))?null:o.value)?"Gift Description":null==(o=e.editGiftFormGroup.get("description"))?null:o.value)}}let h=(()=>{class n{constructor(e,r,i,o,d){this.modalService=e,this.toast=r,this.route=i,this.router=o,this.giftService=d,this.id=this.route.snapshot.queryParamMap.get("id")}ngOnInit(){this.id?(this.breadCrumbItems=[{label:"Gift Card Management"},{label:"Edit",active:!0}],this.getGiftById()):this.breadCrumbItems=[{label:"Gift Card Management"},{label:"Add",active:!0}],this.addGiftFormGroup=new l.cw({gift_name:new l.NI("",[l.kI.required,l.kI.maxLength(100)]),description:new l.NI("",[l.kI.required,l.kI.maxLength(500)]),quantity:new l.NI("",[l.kI.required,l.kI.min(1)]),gift_image:new l.NI("",[l.kI.required]),status:new l.NI("",[l.kI.required])}),this.editGiftFormGroup=new l.cw({_id:new l.NI("",[l.kI.required]),gift_name:new l.NI("",[l.kI.required,l.kI.maxLength(100)]),description:new l.NI("",[l.kI.required,l.kI.maxLength(500)]),quantity:new l.NI("",[l.kI.required,l.kI.min(1)]),gift_image:new l.NI("",[l.kI.required]),status:new l.NI("",[l.kI.required])})}getGiftById(){this.id?this.giftService.getGiftById(this.id).subscribe({next:e=>{e&&e.data?this.editGiftFormGroup.patchValue({_id:e.data.gift._id,gift_name:e.data.gift.gift_name,description:e.data.gift.description,quantity:e.data.gift.quantity,gift_image:e.data.gift.gift_image,status:e.data.gift.status}):(console.error("No data found for the given ID"),this.router.navigate(["/gift-card-management/list"]))},error:e=>{console.error("Error fetching gift by ID:",e),this.router.navigate(["/gift-card-management/list"])}}):(console.warn("No ID provided for fetching gift details"),this.router.navigate(["/gift-card-management/list"]))}onEdit(){this.editGiftFormGroup.valid?this.giftService.editGift(this.editGiftFormGroup.value).subscribe({next:r=>{this.toast.success("Gift updated successfully","Success"),this.editGiftFormGroup.reset(),this.router.navigate(["/gift-card-management/list"])},error:r=>{console.error("Error updating gift:",r),this.toast.error("Error updating gift","Error")}}):console.log("Form is invalid")}onFileSelected(e,r){const i=e.target;i.files&&i.files.length>0&&this.openModalAsComponent({file:e,from:r})}openModalAsComponent(e){const r=this.modalService.open(G,{centered:!0,size:"xl"});r.componentInstance.data=e,r.result.then(i=>{i&&i.image&&(this.addGiftFormGroup.patchValue({gift_image:i.image}),this.editGiftFormGroup.patchValue({gift_image:i.image}))}).catch(i=>{console.log("Modal dismissed:",i)})}onSubmit(){this.addGiftFormGroup.valid?this.giftService.createGift(this.addGiftFormGroup.value).subscribe({next:r=>{this.toast.success("Gift created successfully","Success"),this.addGiftFormGroup.reset()},error:r=>{console.error("Error creating gift:",r)}}):console.log("Form is invalid")}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(c.FF),t.\u0275\u0275directiveInject(g._W),t.\u0275\u0275directiveInject(u.gz),t.\u0275\u0275directiveInject(u.F0),t.\u0275\u0275directiveInject(C))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["app-add-gift-card"]],decls:10,vars:5,consts:[[1,"container-fluid"],["title","Gift Card",3,"breadcrumbItems"],[1,"row"],[1,"col-lg-9"],[1,"card"],[1,"card-body"],[3,"formGroup",4,"ngIf"],["class","col-lg-3",4,"ngIf"],[3,"formGroup"],[1,"col-12"],[1,"mb-3"],["for","giftName",1,"form-label"],["type","text","id","giftName","formControlName","gift_name","placeholder","Gift Name",1,"form-control"],["class","text-danger",4,"ngIf"],["for","description",1,"form-label"],["id","description","formControlName","description","rows","4","placeholder","Enter description",1,"form-control"],["for","quantity",1,"form-label"],["type","number","id","quantity","formControlName","quantity","placeholder","Available Quantity",1,"form-control"],[1,"col-md-12"],[1,"text-danger"],["type","file",1,"form-control",3,"change"],["for","status_",1,"form-label"],["id","status_","formControlName","status",1,"form-select"],["value","","disabled","","selected",""],["value","Active"],["value","Inactive"],["type","submit",1,"btn","btn-primary",3,"disabled","click"],[4,"ngIf"],[1,"col-lg-3"],[1,"ng-star-inserted"],[1,"card","text-center"],["alt","Header Avatar","width","150",3,"src"],[1,"mt-2"],[1,"font-size-15","mb-1"],["href","javascript: void(0);",1,"text-dark"],[1,"text-muted"]],template:function(e,r){1&e&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275element(1,"app-page-title",1),t.\u0275\u0275elementStart(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),t.\u0275\u0275template(6,R,39,8,"form",6),t.\u0275\u0275template(7,K,39,8,"form",6),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(8,X,11,3,"div",7),t.\u0275\u0275template(9,Z,11,3,"div",7),t.\u0275\u0275elementEnd()()),2&e&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("breadcrumbItems",r.breadCrumbItems),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf",!r.id),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",r.id),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!r.id),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",r.id))},dependencies:[p.NgIf,_.V,l._Y,l.YN,l.Kr,l.Fj,l.wV,l.EJ,l.JJ,l.JL,l.sg,l.u]}),n})();function tt(n,a){1&n&&(t.\u0275\u0275elementStart(0,"div",21),t.\u0275\u0275element(1,"img",22),t.\u0275\u0275elementStart(2,"p",23),t.\u0275\u0275text(3,"No Distributor found."),t.\u0275\u0275elementEnd()())}function et(n,a){1&n&&(t.\u0275\u0275elementStart(0,"div",2)(1,"div",24)(2,"table",25)(3,"thead")(4,"tr")(5,"th"),t.\u0275\u0275text(6,"S.No."),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"th"),t.\u0275\u0275text(8,"User"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"th"),t.\u0275\u0275text(10,"Status"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(11,"th"),t.\u0275\u0275text(12,"Requested at"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(13,"th"),t.\u0275\u0275text(14,"Actions"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(15,"tbody")(16,"tr")(17,"td"),t.\u0275\u0275text(18,"1"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(19,"td"),t.\u0275\u0275text(20,"John Doe (111112)"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(21,"td")(22,"span",26),t.\u0275\u0275text(23,"Approved"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(24,"td"),t.\u0275\u0275text(25,"2025-01-01"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(26,"td")(27,"ul",27)(28,"li",28)(29,"a",29),t.\u0275\u0275element(30,"i",30),t.\u0275\u0275elementEnd()()()()()()()()())}function nt(n,a){1&n&&(t.\u0275\u0275elementStart(0,"small"),t.\u0275\u0275text(1,"Name is required."),t.\u0275\u0275elementEnd())}function rt(n,a){1&n&&(t.\u0275\u0275elementStart(0,"small"),t.\u0275\u0275text(1,"Name must be at least 3 characters."),t.\u0275\u0275elementEnd())}function it(n,a){if(1&n&&(t.\u0275\u0275elementStart(0,"div",48),t.\u0275\u0275template(1,nt,2,0,"small",49),t.\u0275\u0275template(2,rt,2,0,"small",49),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2);let r,i;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==(r=e.addDistrubutorForm.get("name"))||null==r.errors?null:r.errors.required),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==(i=e.addDistrubutorForm.get("name"))||null==i.errors?null:i.errors.minlength)}}function at(n,a){1&n&&(t.\u0275\u0275elementStart(0,"small"),t.\u0275\u0275text(1,"Email is required."),t.\u0275\u0275elementEnd())}function lt(n,a){1&n&&(t.\u0275\u0275elementStart(0,"small"),t.\u0275\u0275text(1,"Enter a valid email."),t.\u0275\u0275elementEnd())}function ot(n,a){if(1&n&&(t.\u0275\u0275elementStart(0,"div",48),t.\u0275\u0275template(1,at,2,0,"small",49),t.\u0275\u0275template(2,lt,2,0,"small",49),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2);let r,i;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==(r=e.addDistrubutorForm.get("email"))||null==r.errors?null:r.errors.required),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==(i=e.addDistrubutorForm.get("email"))||null==i.errors?null:i.errors.email)}}function dt(n,a){1&n&&(t.\u0275\u0275elementStart(0,"small"),t.\u0275\u0275text(1,"Phone is required."),t.\u0275\u0275elementEnd())}function mt(n,a){1&n&&(t.\u0275\u0275elementStart(0,"small"),t.\u0275\u0275text(1,"Enter a valid 10-digit phone number."),t.\u0275\u0275elementEnd())}function st(n,a){if(1&n&&(t.\u0275\u0275elementStart(0,"div",48),t.\u0275\u0275template(1,dt,2,0,"small",49),t.\u0275\u0275template(2,mt,2,0,"small",49),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2);let r,i;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==(r=e.addDistrubutorForm.get("phone"))||null==r.errors?null:r.errors.required),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==(i=e.addDistrubutorForm.get("phone"))||null==i.errors?null:i.errors.pattern)}}function pt(n,a){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",31)(1,"h5",32),t.\u0275\u0275text(2,"Create Distributor"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"button",33),t.\u0275\u0275listener("click",function(){const o=t.\u0275\u0275restoreView(e).$implicit;return t.\u0275\u0275resetView(o.dismiss("Cross click"))}),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(4,"form",34)(5,"div",35)(6,"div",2)(7,"div",36)(8,"div",37)(9,"label",38),t.\u0275\u0275text(10,"Name"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(11,"input",39),t.\u0275\u0275template(12,it,3,2,"div",40),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(13,"div",37)(14,"label",41),t.\u0275\u0275text(15,"Email"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(16,"input",42),t.\u0275\u0275template(17,ot,3,2,"div",40),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(18,"div",37)(19,"label",43),t.\u0275\u0275text(20,"Phone"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(21,"input",44),t.\u0275\u0275template(22,st,3,2,"div",40),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(23,"div",45)(24,"button",46),t.\u0275\u0275listener("click",function(){const o=t.\u0275\u0275restoreView(e).$implicit;return t.\u0275\u0275resetView(o.close("Close click"))}),t.\u0275\u0275text(25,"Close"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(26,"button",47),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.createDistrubutor())}),t.\u0275\u0275text(27,"Create"),t.\u0275\u0275elementEnd()()()}if(2&n){const e=t.\u0275\u0275nextContext();let r,i,o;t.\u0275\u0275advance(4),t.\u0275\u0275property("formGroup",e.addDistrubutorForm),t.\u0275\u0275advance(8),t.\u0275\u0275property("ngIf",(null==(r=e.addDistrubutorForm.get("name"))?null:r.touched)&&(null==(r=e.addDistrubutorForm.get("name"))?null:r.invalid)),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf",(null==(i=e.addDistrubutorForm.get("email"))?null:i.touched)&&(null==(i=e.addDistrubutorForm.get("email"))?null:i.invalid)),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf",(null==(o=e.addDistrubutorForm.get("phone"))?null:o.touched)&&(null==(o=e.addDistrubutorForm.get("phone"))?null:o.invalid)),t.\u0275\u0275advance(4),t.\u0275\u0275property("disabled",e.addDistrubutorForm.invalid)}}let ct=(()=>{class n{constructor(e){this.modalService=e,this.distributorList=[]}ngOnInit(){this.breadCrumbItems=[{label:"Gift Card Management"},{label:"Distributor",active:!0}],this.addDistrubutorForm=new l.cw({name:new l.NI("",[l.kI.required,l.kI.minLength(3)]),email:new l.NI("",[l.kI.required,l.kI.email]),phone:new l.NI("",[l.kI.required,l.kI.pattern("^[0-9]{10}$")])})}openModal(e){this.modalService.open(e,{backdrop:"static",keyboard:!1,size:"lg"})}createDistrubutor(){}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(c.FF))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["app-distributor"]],decls:22,vars:3,consts:[[1,"container-fluid"],["title","Distributor",3,"breadcrumbItems"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body","border-bottom"],[1,"row","mb-0"],[1,"col-sm-4"],[1,"search-box","me-2","mb-2","d-inline-block"],[1,"position-relative"],["type","text","autocomplete","off","id","searchTableList","placeholder","Search...",1,"form-control"],[1,"bx","bx-search-alt","search-icon"],[1,"col-sm-8"],[1,"text-sm-end"],["type","button",1,"btn","btn-success","btn-rounded","mb-2","me-2",3,"click"],[1,"mdi","mdi-plus","mr-1"],[1,"card-body"],["class","d-flex flex-column justify-content-center align-items-center","style","min-height: 150px;",4,"ngIf"],["class","row",4,"ngIf"],["role","document"],["addDistrubutorModal",""],[1,"d-flex","flex-column","justify-content-center","align-items-center",2,"min-height","150px"],["src","assets/img/not-found.png","width","300px","alt",""],[1,"text-mutes","mt-2"],[1,"table-responsive"],["id","basic-datatable",1,"table","table-bordered","dt-responsive","nowrap","datatables","no-footer","dtr-inline"],[1,"badge","bg-success"],[1,"list-unstyled","hstack","gap-1","mb-0"],["data-bs-toggle","tooltip","data-bs-placement","top","title","Delete"],["href","javascript:void(0);",1,"btn","btn-sm","btn-soft-danger"],[1,"mdi","mdi-delete-outline"],[1,"modal-header"],["id","myModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[3,"formGroup"],[1,"modal-body"],[1,"col-md-12"],[1,"mb-3"],["for","distributorName",1,"form-label"],["type","text","id","distributorName","formControlName","name","placeholder","Enter name",1,"form-control"],["class","text-danger",4,"ngIf"],["for","distributorEmail",1,"form-label"],["type","email","id","distributorEmail","formControlName","email","placeholder","Enter email",1,"form-control"],["for","distributorPhone",1,"form-label"],["type","text","id","distributorPhone","formControlName","phone","placeholder","Enter phone number",1,"form-control"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary","waves-effect",3,"click"],["type","submit",1,"btn","btn-primary","waves-effect","waves-light",3,"disabled","click"],[1,"text-danger"],[4,"ngIf"]],template:function(e,r){if(1&e){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275element(1,"app-page-title",1),t.\u0275\u0275elementStart(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9),t.\u0275\u0275element(10,"input",10)(11,"i",11),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(12,"div",12)(13,"div",13)(14,"button",14),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(i);const d=t.\u0275\u0275reference(21);return t.\u0275\u0275resetView(r.openModal(d))}),t.\u0275\u0275element(15,"i",15),t.\u0275\u0275text(16," Add Distributor "),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(17,"div",16),t.\u0275\u0275template(18,tt,4,0,"div",17),t.\u0275\u0275template(19,et,31,0,"div",18),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275template(20,pt,28,5,"ng-template",19,20,t.\u0275\u0275templateRefExtractor)}2&e&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("breadcrumbItems",r.breadCrumbItems),t.\u0275\u0275advance(17),t.\u0275\u0275property("ngIf",!r.distributorList||0===r.distributorList.length),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",r.distributorList&&r.distributorList.length>0))},dependencies:[p.NgIf,_.V,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u]}),n})();function ut(n,a){1&n&&(t.\u0275\u0275elementStart(0,"div",20),t.\u0275\u0275element(1,"img",21),t.\u0275\u0275elementStart(2,"p",22),t.\u0275\u0275text(3,"No one received gift in the current filter."),t.\u0275\u0275elementEnd()())}const ft=function(n,a,e){return{"badge-soft-primary":n,"badge-soft-info":a,"badge-soft-warning":e}};function _t(n,a){if(1&n&&(t.\u0275\u0275elementStart(0,"a",33),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"titlecase"),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction3(4,ft,"credit"===e.transaction_type,"interest"===e.transaction_type,"debit"===e.transaction_type)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,2,e.transaction_type)," ")}}function gt(n,a){if(1&n&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275text(1),t.\u0275\u0275element(2,"br"),t.\u0275\u0275text(3),t.\u0275\u0275element(4,"br"),t.\u0275\u0275elementStart(5,"b"),t.\u0275\u0275text(6),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" Principal Amount : \u20b9",e.principal_component," "),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" Interest Amount : \u20b9",e.interest_component," "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" Amount : \u20b9",e.amount," ")}}function vt(n,a){if(1&n&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" \u20b9",e.amount," ")}}function xt(n,a){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("\u20b9",e.payment_amount,"")}}function Ct(n,a){if(1&n&&(t.\u0275\u0275elementStart(0,"tr")(1,"td"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"td"),t.\u0275\u0275text(4),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"td"),t.\u0275\u0275text(6),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"td"),t.\u0275\u0275text(8),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"td"),t.\u0275\u0275template(10,_t,3,8,"a",31),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(11,"td"),t.\u0275\u0275template(12,gt,7,3,"div",32),t.\u0275\u0275template(13,vt,2,1,"div",32),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(14,"td"),t.\u0275\u0275template(15,xt,2,1,"span",32),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(16,"td"),t.\u0275\u0275text(17),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(18,"td"),t.\u0275\u0275text(19),t.\u0275\u0275pipe(20,"date"),t.\u0275\u0275elementEnd()()),2&n){const e=a.$implicit,r=a.index,i=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate((i.page-1)*i.pageSize+r+1),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate2("",e.user.name," (",e.user.user_id,") "),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(e.loan.loan_id),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(e.transaction_id),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",e.transaction_type),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf","interest"===e.transaction_type),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","credit"===e.transaction_type),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",e.payment_amount),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(e.payment_method),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind2(20,11,e.transaction_date,"medium"))}}function ht(n,a){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",23)(1,"table",24)(2,"thead")(3,"tr")(4,"th"),t.\u0275\u0275text(5,"Sr No"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"th"),t.\u0275\u0275text(7,"User"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"th"),t.\u0275\u0275text(9,"Loan ID"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"th"),t.\u0275\u0275text(11,"Transanction Id"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(12,"th"),t.\u0275\u0275text(13,"Transanction Type"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(14,"th"),t.\u0275\u0275text(15,"Credit Amount"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(16,"th"),t.\u0275\u0275text(17,"Debit Amount"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(18,"th"),t.\u0275\u0275text(19,"Payment Method"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(20,"th"),t.\u0275\u0275text(21,"Date"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(22,"tbody"),t.\u0275\u0275template(23,Ct,21,14,"tr",25),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(24,"div",26)(25,"div",27)(26,"div",28),t.\u0275\u0275text(27,"Showing "),t.\u0275\u0275elementStart(28,"b"),t.\u0275\u0275text(29),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(30),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(31,"div",27)(32,"div",29)(33,"ngb-pagination",30),t.\u0275\u0275listener("pageChange",function(i){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.page=i)})("pageChange",function(i){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.pageChange(i))}),t.\u0275\u0275elementEnd()()()()()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(23),t.\u0275\u0275property("ngForOf",e.giftList),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate((e.page-1)*e.pageSize+1),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" to ",e.findPageShowing()," of ",e.total," entries "),t.\u0275\u0275advance(3),t.\u0275\u0275property("collectionSize",e.total)("page",e.page)("pageSize",e.pageSize)}}let bt=(()=>{class n{constructor(){this.giftList=[],this.total=0,this.page=1,this.pageSize=10}ngOnInit(){this.breadCrumbItems=[{label:"Gift Card Management"},{label:"Receive",active:!0}]}pageChange(e){this.page=e,this.getAllGifts()}refresh(){this.page=1,this.searchFormGroup.reset(),this.getAllGifts()}getAllGifts(){}findPageShowing(){return Math.min(this.page*this.pageSize,this.total)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["app-receive-gift-cards"]],decls:25,vars:4,consts:[[1,"container-fluid"],["title","Receive Gift Card",3,"breadcrumbItems"],[1,"row"],[1,"col-xl-12"],[1,"card"],[1,"card-body"],[1,"card-body","border-bottom"],[3,"formGroup"],[1,"col-lg-4"],["type","search","id","searchInput","placeholder","Search for Name / User Id / Email id...","formControlName","name",1,"form-control"],[1,"col-lg-3"],["type","search","id","searchInput","placeholder","Search for Distrubutor","formControlName","loan_id",1,"form-control"],["type","date","id","searchInput","formControlName","transaction_date",1,"form-control"],[1,"col-lg-1"],["type","button",1,"btn","btn-soft-secondary","w-100",3,"click"],[1,"mdi","mdi-filter-outline","align-middle"],["type","button",1,"btn","btn-light",3,"click"],[1,"mdi","mdi-refresh"],["class","d-flex flex-column justify-content-center align-items-center","style","min-height: 150px;",4,"ngIf"],["class","table-responsive",4,"ngIf"],[1,"d-flex","flex-column","justify-content-center","align-items-center",2,"min-height","150px"],["src","assets/img/not-found.png","width","300px","alt",""],[1,"text-mutes","mt-2"],[1,"table-responsive"],["id","basic-datatable",1,"table","table-bordered","dt-responsive","nowrap","datatables","no-footer","dtr-inline"],[4,"ngFor","ngForOf"],[1,"row","justify-content-md-between","align-items-md-center","mt-2"],[1,"col-sm-12","col-md-5"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[1,"text-md-right","float-md-end","pagination-rounded"],[3,"collectionSize","page","pageSize","pageChange"],["href","javascript: void(0);","class","badge font-size-11 m-1",3,"ngClass",4,"ngIf"],[4,"ngIf"],["href","javascript: void(0);",1,"badge","font-size-11","m-1",3,"ngClass"]],template:function(e,r){1&e&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275element(1,"app-page-title",1),t.\u0275\u0275elementStart(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"form",7)(8,"div",2)(9,"div",8),t.\u0275\u0275element(10,"input",9),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(11,"div",10),t.\u0275\u0275element(12,"input",11),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(13,"div",10),t.\u0275\u0275element(14,"input",12),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(15,"div",13)(16,"button",14),t.\u0275\u0275listener("click",function(){return r.getAllGifts()}),t.\u0275\u0275element(17,"i",15),t.\u0275\u0275text(18," Filter"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(19,"div",13)(20,"button",16),t.\u0275\u0275listener("click",function(){return r.refresh()}),t.\u0275\u0275element(21,"i",17),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(22,"div",2),t.\u0275\u0275template(23,ut,4,0,"div",18),t.\u0275\u0275template(24,ht,34,7,"div",19),t.\u0275\u0275elementEnd()()()()()()),2&e&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("breadcrumbItems",r.breadCrumbItems),t.\u0275\u0275advance(6),t.\u0275\u0275property("formGroup",r.searchFormGroup),t.\u0275\u0275advance(16),t.\u0275\u0275property("ngIf",!r.giftList||0===r.giftList.length),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",0!==r.giftList.length))},dependencies:[p.NgClass,p.NgForOf,p.NgIf,_.V,c.N9,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,p.TitleCasePipe,p.DatePipe]}),n})();var Gt=m(35226),It=m.n(Gt);function St(n,a){1&n&&(t.\u0275\u0275elementStart(0,"div",6),t.\u0275\u0275element(1,"img",7),t.\u0275\u0275elementStart(2,"p",8),t.\u0275\u0275text(3,"No Gifts found."),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"button",9),t.\u0275\u0275text(5,"Add Gift Card"),t.\u0275\u0275elementEnd()())}function yt(n,a){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",10)(2,"div",11)(3,"div",12)(4,"div",13),t.\u0275\u0275element(5,"img",14),t.\u0275\u0275elementStart(6,"div",15)(7,"h5",16)(8,"a",17),t.\u0275\u0275text(9),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(10,"p",18),t.\u0275\u0275text(11),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(12,"div",19)(13,"div",20)(14,"div",21),t.\u0275\u0275listener("click",function(){const o=t.\u0275\u0275restoreView(e).$implicit,d=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(d.editGiftCard(o.gift_id))}),t.\u0275\u0275elementStart(15,"a",22),t.\u0275\u0275element(16,"i",23),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(17,"div",21),t.\u0275\u0275listener("click",function(){const o=t.\u0275\u0275restoreView(e).$implicit,d=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(d.deleteGiftCard(o._id))}),t.\u0275\u0275elementStart(18,"a",24),t.\u0275\u0275element(19,"i",25),t.\u0275\u0275elementEnd()()()()()()(),t.\u0275\u0275elementContainerEnd()}if(2&n){const e=a.$implicit;t.\u0275\u0275advance(5),t.\u0275\u0275propertyInterpolate("src",e.gift_image||"assets/img/gift-card.png",t.\u0275\u0275sanitizeUrl),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",e.gift_name,""),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(e.description)}}function Et(n,a){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",26)(1,"div",27)(2,"div",28),t.\u0275\u0275text(3,"Showing "),t.\u0275\u0275elementStart(4,"b"),t.\u0275\u0275text(5),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(6),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(7,"div",27)(8,"div",29)(9,"ngb-pagination",30),t.\u0275\u0275listener("pageChange",function(i){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.page=i)})("pageChange",function(i){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.pageChange(i))}),t.\u0275\u0275elementEnd()()()()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate((e.page-1)*e.pageSize+1),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" to ",e.findPageShowing()," of ",e.total," entries "),t.\u0275\u0275advance(3),t.\u0275\u0275property("collectionSize",e.total)("page",e.page)("pageSize",e.pageSize)}}const Ft=[{path:"add",component:h},{path:"edit",component:h},{path:"list",component:(()=>{class n{constructor(e,r,i,o){this.toast=e,this.modalService=r,this.router=i,this.giftService=o,this.giftList=[],this.total=0,this.page=1,this.pageSize=10}ngOnInit(){this.breadCrumbItems=[{label:"Gift Card Management"},{label:"Gift Cards",active:!0}],this.getAllGifts()}getAllGifts(){this.giftService.getGift(this.page,this.pageSize).subscribe({next:e=>{this.giftList=e.data.gifts,this.total=e.data.total},error:e=>{this.toast.error("Failed to load gift cards","Error")}})}pageChange(e){this.page=e,this.getAllGifts()}findPageShowing(){return Math.min(this.page*this.pageSize,this.total)}deleteGiftCard(e){It().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(r=>{r.isConfirmed&&this.giftService.deleteGift(e).subscribe({next:i=>{this.toast.success("Gift Card deleted successfully","Success"),this.getAllGifts()},error:i=>{this.toast.error("Failed to delete gift card","Error")}})})}editGiftCard(e){this.router.navigate(["/gift-card-management/edit"],{queryParams:{id:e}})}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(g._W),t.\u0275\u0275directiveInject(c.FF),t.\u0275\u0275directiveInject(u.F0),t.\u0275\u0275directiveInject(C))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["app-gift-cards"]],decls:6,vars:4,consts:[[1,"container-fluid"],["title","Gift Card",3,"breadcrumbItems"],[1,"row"],["class","d-flex flex-column justify-content-center align-items-center","style","min-height: 150px;",4,"ngIf"],[4,"ngFor","ngForOf"],["class","row justify-content-md-between align-items-md-center mt-2",4,"ngIf"],[1,"d-flex","flex-column","justify-content-center","align-items-center",2,"min-height","150px"],["src","assets/img/not-found.png","width","300px","alt",""],[1,"text-mutes","mt-2"],["routerLink","/gift-card-management/add",1,"btn","btn-primary"],[1,"col-lg-4"],[1,"ng-star-inserted"],[1,"card","text-center"],[1,"card-body","mb-0"],["alt","Header Avatar","width","150",3,"src"],[1,"mt-2"],[1,"font-size-15","mb-1"],["href","javascript: void(0);",1,"text-dark"],[1,"text-muted"],[1,"card-footer","bg-transparent","border-top","mb-0"],[1,"contact-links","d-flex","font-size-20"],[1,"flex-fill",3,"click"],["href","javascript: void(0);","tooltip","Message"],[1,"bx","bx-edit"],["href","javascript: void(0);","tooltip","Projects"],[1,"bx","bxs-trash"],[1,"row","justify-content-md-between","align-items-md-center","mt-2"],[1,"col-sm-12","col-md-5"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[1,"text-md-right","float-md-end","pagination-rounded"],[3,"collectionSize","page","pageSize","pageChange"]],template:function(e,r){1&e&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275element(1,"app-page-title",1),t.\u0275\u0275elementStart(2,"div",2),t.\u0275\u0275template(3,St,6,0,"div",3),t.\u0275\u0275template(4,yt,20,3,"ng-container",4),t.\u0275\u0275template(5,Et,10,6,"div",5),t.\u0275\u0275elementEnd()()),2&e&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("breadcrumbItems",r.breadCrumbItems),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!r.giftList||0===r.giftList.length),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",r.giftList),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",r.giftList.length>10))},dependencies:[p.NgForOf,p.NgIf,_.V,c.N9,u.rH]}),n})()},{path:"distributor",component:ct},{path:"receive",component:bt}];let wt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=t.\u0275\u0275defineInjector({imports:[u.Bz.forChild(Ft),u.Bz]}),n})();var Tt=m(19668);let At=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=t.\u0275\u0275defineInjector({imports:[p.CommonModule,Tt.v,c.jF,x.QG,l.UX,wt]}),n})()}}]);