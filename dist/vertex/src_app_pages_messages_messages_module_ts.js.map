{"version":3,"file":"src_app_pages_messages_messages_module_ts.js","mappings":"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","sources":["./src/app/pages/messages/components/messages.component.ts","./src/app/pages/messages/components/messages.component.html","./src/app/pages/messages/messages-routing.module.ts","./src/app/pages/messages/messages.module.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormControl, FormGroup, NgModel, Validators } from '@angular/forms';\nimport { ImageCropperComponent } from '../../app-users/components/edit-profile/image-cropper/image-cropper.component';\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\nimport { ToastrService } from 'ngx-toastr';\n\n@Component({\n  selector: 'app-messages',\n  templateUrl: './messages.component.html',\n  styleUrls: ['./messages.component.scss']\n})\nexport class MessagesComponent implements OnInit {\n\n  constructor(private modalService: NgbModal,\n    private toast: ToastrService\n  ) { }\n  breadCrumbItems: Array<{}>;\n  addMessageFormGroup: FormGroup;\n\n  ngOnInit(): void {\n    this.breadCrumbItems = [{ label: 'Messages' }, { label: 'Create', active: true }];\n    this.addMessageFormGroup = new FormGroup({\n      title: new FormControl('', Validators.required),\n      message: new FormControl('', Validators.required),\n      attachment: new FormControl(''),\n    });\n  }\n\n  onFileSelected(event: Event, from: string): void {\n    const input = event.target as HTMLInputElement;\n    if (input.files && input.files.length > 0) {\n      const modalRef = this.modalService.open(ImageCropperComponent, { centered: true, size: 'xl' });\n          modalRef.componentInstance.data = { file : event, from: from };\n          modalRef.result.then((result) => {\n            console.log('Modal closed with:', result);\n            if(result) {\n              if (result.image) {\n                this.addMessageFormGroup.patchValue({attachment: result.image});\n              }\n            }\n          }).catch((reason) => {\n            console.log('Modal dismissed:', reason);\n          });\n    }\n  }\n\n  onSubmit() {\n    if(this.addMessageFormGroup.valid) {\n      this.toast.success('Notification is successfully sent to all users.')\n      this.addMessageFormGroup.reset()\n    } else {\n      this.addMessageFormGroup.markAllAsTouched()\n      this.toast.error('Please fix the error.')\n    }\n  }\n\n}\n","<div class=\"container-fluid\">\n    <app-page-title title=\"Message\" [breadcrumbItems]=\"breadCrumbItems\"></app-page-title>\n\n    <div class=\"row\">\n        <div class=\"col-lg-12\">\n            <div class=\"card\">\n                <div class=\"card-body\">\n                    <div class=\"row\">\n                        <form [formGroup]=\"addMessageFormGroup\"  class=\"col-12\">\n                            <div class=\"mb-3 col-lg-12\">\n                                <label for=\"messageTitle\" class=\"form-label\">Title</label>\n                                <input type=\"text\" class=\"form-control\" id=\"messageTitle\" formControlName=\"title\"\n                                    placeholder=\"Enter title\">\n                                <div *ngIf=\"addMessageFormGroup.get('title')?.touched && addMessageFormGroup.get('title')?.invalid\"\n                                    class=\"text-danger\">\n                                    Title is required.\n                                </div>\n                            </div>\n\n                            <div class=\"mb-3 col-lg-12\">\n                                <label for=\"messageBody\" class=\"form-label\">Message</label>\n                                <textarea class=\"form-control\" id=\"messageBody\" formControlName=\"message\" rows=\"4\"\n                                    placeholder=\"Enter message body\"></textarea>\n                                <div *ngIf=\"addMessageFormGroup.get('message')?.touched && addMessageFormGroup.get('message')?.invalid\"\n                                    class=\"text-danger\">\n                                    Message is required.\n                                </div>\n                            </div>\n                            <div class=\"row\" >\n                                <div class=\"mb-3 col-lg-6\">\n                                    <label>Attachment Image</label>\n                                    <input type=\"file\" class=\"form-control\" (change)=\"onFileSelected($event, 'profile')\" />\n                                </div>\n                                 <div class=\"col-lg-6\" >\n                                    <img [src]=\"addMessageFormGroup.get('attachment')?.value\" style=\"max-width: 100px; max-height: 100px;\">\n                                </div>\n                            </div>\n\n                            <button type=\"submit\" class=\"btn btn-primary\"\n                                [disabled]=\"addMessageFormGroup.invalid\" (click)=\"onSubmit()\" >Submit</button>\n                        </form>\n\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { MessagesComponent } from './components/messages.component';\n\nconst routes: Routes = [{ path: '', component: MessagesComponent }];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class MessagesRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { MessagesRoutingModule } from './messages-routing.module';\nimport { MessagesComponent } from './components/messages.component';\nimport { UIModule } from 'src/app/shared/ui/ui.module';\nimport { ReactiveFormsModule } from '@angular/forms';\n\n\n@NgModule({\n  declarations: [\n    MessagesComponent\n  ],\n  imports: [\n    CommonModule,\n    UIModule,\n    ReactiveFormsModule,\n    MessagesRoutingModule\n  ]\n})\nexport class MessagesModule { }\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}