"use strict";(self.webpackChunkskote=self.webpackChunkskote||[]).push([[849],{8386:(b,f,p)=>{p.d(f,{i:()=>v});var l=p(2340),_=p(4650),c=p(529);let v=(()=>{class m{constructor(r){this.http=r}getBasicUserProfile(r){return this.http.get(`${l.N.api_url}users/profile/${r}`)}getAllUsers(r=0,d=10,u){return this.http.get(`${l.N.api_url}users?page=${r}&limit=${d}&${u}`)}getAllAdvisors(r=0,d=10,u){return this.http.get(`${l.N.api_url}users/advisors?page=${r}&limit=${d}&${u}`)}getSHGCoordinators(r=0,d=10,u){return this.http.get(`${l.N.api_url}users/shg?page=${r}&limit=${d}&${u}`)}getDirectRefUsers(r=0,d=10,u,g){return this.http.get(`${l.N.api_url}users/direct-ref-users/${g}?page=${r}&limit=${d}&${u}`)}getInDirectRefUsers(r=0,d=10,u,g){return this.http.get(`${l.N.api_url}users/indirect-ref-users/${g}?page=${r}&limit=${d}&${u}`)}changeUserStatus(r,d){return this.http.put(`${l.N.api_url}users/changeStatus/${r}`,{status:d})}sendNotification(r,d,u){return this.http.post(`${l.N.api_url}users/sendNotification`,{title:d,message:u,userId:r})}upsertKyc(r){return this.http.post(`${l.N.api_url}users/kyc`,r)}updateProfile(r){return this.http.put(`${l.N.api_url}users/profile`,r)}createBank(r){return this.http.post(`${l.N.api_url}users/bank`,r)}createAddress(r){return this.http.post(`${l.N.api_url}users/address`,r)}getUserById(r){return this.http.get(`${l.N.api_url}users/${r}`)}getAllUserIds(){return this.http.get(`${l.N.api_url}users/getAllUserId/all`)}deleteBank(r){return this.http.delete(`${l.N.api_url}users/bank/${r}`)}deleteAddress(r){return this.http.delete(`${l.N.api_url}users/address/${r}`)}editBank(r,d){return this.http.put(`${l.N.api_url}users/bank/${r}`,d)}editAddress(r,d){return this.http.put(`${l.N.api_url}users/address/${r}`,d)}getUserDashboard(r){return this.http.get(`${l.N.api_url}dashboard/user?userId=${r}`)}getKycRequests(r=0,d=10,u){return this.http.get(`${l.N.api_url}users/kyc?page=${r}&limit=${d}&${u}`)}getAllTransferRequests(r=0,d=10,u){return this.http.get(`${l.N.api_url}masters/all-transfer-requests?page=${r}&limit=${d}&${u}`)}exportUsers(){return this.http.get(`${l.N.api_url}users/export/user/admin`,{responseType:"blob"})}hardDeleteUser(r){return this.http.delete(`${l.N.api_url}users/hard-delete/${r}`)}}return m.\u0275fac=function(r){return new(r||m)(_.\u0275\u0275inject(c.eN))},m.\u0275prov=_.\u0275\u0275defineInjectable({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},9849:(b,f,p)=>{p.r(f),p.d(f,{PinManagementModule:()=>Y});var l=p(6895),_=p(9158),c=p(4006),v=p(5226),m=p.n(v),e=p(4650),r=p(9061),d=p(7185),u=p(8386),g=p(3089),x=p(9234);function C(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",24),e.\u0275\u0275element(1,"img",25),e.\u0275\u0275elementStart(2,"p",26),e.\u0275\u0275text(3,"No pins found."),e.\u0275\u0275elementEnd()())}function S(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li",41),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext().$implicit,o=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(o.disablePin(s._id))}),e.\u0275\u0275elementStart(1,"a",42),e.\u0275\u0275element(2,"i",43),e.\u0275\u0275elementEnd()()}}function P(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li",41),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext().$implicit,o=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(o.enablePin(s._id))}),e.\u0275\u0275elementStart(1,"a",44),e.\u0275\u0275element(2,"i",43),e.\u0275\u0275elementEnd()()}}const y=function(i,a,t){return{"badge-soft-primary":i,"badge-soft-success":a,"badge-soft-danger":t}};function E(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"tr")(2,"td")(3,"div",35)(4,"input",36),e.\u0275\u0275listener("change",function(s){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(o.pinChecked(s))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(5,"label",37),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"td"),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"td"),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"td")(11,"span",38),e.\u0275\u0275text(12),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(13,"td"),e.\u0275\u0275text(14),e.\u0275\u0275pipe(15,"date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"td")(17,"ul",39),e.\u0275\u0275template(18,S,3,0,"li",40),e.\u0275\u0275template(19,P,3,0,"li",40),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementContainerEnd()}if(2&i){const t=a.$implicit,n=a.index,s=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(4),e.\u0275\u0275property("value",t.pin),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate((s.page-1)*s.pageSize+n+1),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.pin),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction3(10,y,"Active"===t.status,"Assigned"===t.status,"Inactive"===t.status)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.status),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(15,8,t.created_date)),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf","Active"===t.status),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Inactive"===t.status)}}function A(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",27)(1,"table",28)(2,"thead")(3,"tr"),e.\u0275\u0275element(4,"th"),e.\u0275\u0275elementStart(5,"th"),e.\u0275\u0275text(6,"S.No."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"th"),e.\u0275\u0275text(8,"Pin"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"th"),e.\u0275\u0275text(10,"Status"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"th"),e.\u0275\u0275text(12,"Generated On"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"th"),e.\u0275\u0275text(14,"Action"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(15,"tbody"),e.\u0275\u0275template(16,E,20,14,"ng-container",29),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(17,"div",30)(18,"div",31)(19,"div",32),e.\u0275\u0275text(20,"Showing "),e.\u0275\u0275elementStart(21,"b"),e.\u0275\u0275text(22),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(23),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(24,"div",31)(25,"div",33)(26,"ngb-pagination",34),e.\u0275\u0275listener("pageChange",function(s){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.page=s)})("pageChange",function(s){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.pageChange(s))}),e.\u0275\u0275elementEnd()()()()()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(16),e.\u0275\u0275property("ngForOf",t.pinList),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate((t.page-1)*t.pageSize+1),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate2(" to ",t.findPageShowing()," of ",t.total," entries "),e.\u0275\u0275advance(3),e.\u0275\u0275property("collectionSize",t.total)("page",t.page)("pageSize",t.pageSize)}}function w(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",64),e.\u0275\u0275text(1," Please select number of pins. "),e.\u0275\u0275elementEnd())}function I(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",45)(1,"h5",46),e.\u0275\u0275text(2,"Add Pins"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",47),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.dismiss("Cross click"))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"form",48)(5,"div",49)(6,"div",50)(7,"label",51),e.\u0275\u0275text(8,"No of Pins to Create"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"select",52)(10,"option",53),e.\u0275\u0275text(11,"Choose..."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"option",54),e.\u0275\u0275text(13,"5"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"option",55),e.\u0275\u0275text(15,"10"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"option",56),e.\u0275\u0275text(17,"20"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"option",57),e.\u0275\u0275text(19,"25"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"option",58),e.\u0275\u0275text(21,"50"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"option",59),e.\u0275\u0275text(23,"100"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(24,w,2,0,"div",60),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(25,"div",61)(26,"button",62),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.close("Close click"))}),e.\u0275\u0275text(27,"Close"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(28,"button",63),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.createPins())}),e.\u0275\u0275text(29,"Submit"),e.\u0275\u0275elementEnd()()()}if(2&i){const t=e.\u0275\u0275nextContext();let n;e.\u0275\u0275advance(4),e.\u0275\u0275property("formGroup",t.addPinFormGroup),e.\u0275\u0275advance(20),e.\u0275\u0275property("ngIf",(null==(n=t.addPinFormGroup.get("no_of_pins"))?null:n.touched)&&(null==(n=t.addPinFormGroup.get("no_of_pins"))?null:n.hasError("required"))),e.\u0275\u0275advance(4),e.\u0275\u0275property("disabled",t.addPinFormGroup.invalid)}}function T(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",68)(1,"small")(2,"strong"),e.\u0275\u0275text(3,"Name:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(5,"br"),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",t.userDetails.name,"")}}function k(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",64),e.\u0275\u0275text(1," Assigned To is required. "),e.\u0275\u0275elementEnd())}function $(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",64),e.\u0275\u0275text(1," User not found. Please enter a valid User ID. "),e.\u0275\u0275elementEnd())}function N(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",45)(1,"h5",46),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",47),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.dismiss("Cross click"))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"form",48)(5,"div",49)(6,"div",50)(7,"label",65),e.\u0275\u0275text(8,"Assigned To"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"input",66),e.\u0275\u0275listener("blur",function(){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.getUserDetails())})("ngModelChange",function(s){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.userIDText=s)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(10,T,6,1,"div",67),e.\u0275\u0275template(11,k,2,0,"div",60),e.\u0275\u0275template(12,$,2,0,"div",60),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(13,"div",61)(14,"button",62),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.close("Close click"))}),e.\u0275\u0275text(15,"Close"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"button",63),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.assignPins())}),e.\u0275\u0275text(17,"Submit"),e.\u0275\u0275elementEnd()()()}if(2&i){const t=e.\u0275\u0275nextContext();let n,s;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("Assign Pins (No of Pin Selected : ",t.pinSelected.length,") "),e.\u0275\u0275advance(2),e.\u0275\u0275property("formGroup",t.assignFormGroup),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngModel",t.userIDText),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.userDetails),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==(n=t.assignFormGroup.get("assign_to"))?null:n.touched)&&(null==(n=t.assignFormGroup.get("assign_to"))||null==n.errors?null:n.errors.required)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==(s=t.assignFormGroup.get("assign_to"))?null:s.touched)&&(null==(s=t.assignFormGroup.get("assign_to"))||null==s.errors?null:s.errors.userNotFound)),e.\u0275\u0275advance(4),e.\u0275\u0275property("disabled",t.assignFormGroup.invalid)}}function F(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",15),e.\u0275\u0275element(1,"img",16),e.\u0275\u0275elementStart(2,"p",17),e.\u0275\u0275text(3,"No assigned pin found."),e.\u0275\u0275elementEnd()())}function M(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate2("",null==t.used_by_user[0]?null:t.used_by_user[0].name," (",null==t.used_by_user[0]?null:t.used_by_user[0].user_id,")")}}function D(i,a){1&i&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"-"),e.\u0275\u0275elementEnd())}function U(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li",31),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext().$implicit,o=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(o.holdPin(s))}),e.\u0275\u0275elementStart(1,"a",32),e.\u0275\u0275element(2,"i",33),e.\u0275\u0275elementEnd()()}}function B(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li",34),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext().$implicit,o=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(o.unlockPin(s))}),e.\u0275\u0275elementStart(1,"a",32),e.\u0275\u0275element(2,"i",35),e.\u0275\u0275elementEnd()()}}const L=function(i,a,t){return{"bg-success":i,"bg-danger":a,"bg-info":t}};function z(i,a){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"tr")(2,"td"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"td"),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"td"),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"td"),e.\u0275\u0275text(10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"td"),e.\u0275\u0275template(12,M,2,2,"span",26),e.\u0275\u0275template(13,D,2,0,"span",26),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"td"),e.\u0275\u0275text(15),e.\u0275\u0275pipe(16,"date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"td")(18,"span",27),e.\u0275\u0275text(19),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(20,"td")(21,"ul",28),e.\u0275\u0275template(22,U,3,0,"li",29),e.\u0275\u0275template(23,B,3,0,"li",30),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementContainerEnd()),2&i){const t=a.$implicit,n=a.index,s=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate((s.page-1)*s.pageSize+n+1),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate2("",null==t.assigned_user[0]?null:t.assigned_user[0].name," (",null==t.assigned_user[0]?null:t.assigned_user[0].user_id,") "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(8,12,t.assigned_on)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.pin),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",null==t.used_by_user[0]?null:t.used_by_user[0].name),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!(null!=t.used_by_user[0]&&t.used_by_user[0].name)),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.used_on?e.\u0275\u0275pipeBind1(16,14,t.used_on):"-"),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction3(16,L,"Assigned"===t.status,"Inactive"===t.status||"Hold"===t.status,"Active"===t.status)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.status),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf","Used"!==t.status&&"Hold"!==t.status),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Hold"===t.status)}}function G(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",18)(1,"table",19)(2,"thead")(3,"tr")(4,"th"),e.\u0275\u0275text(5,"S.No."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"th"),e.\u0275\u0275text(7,"Assigned To"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"th"),e.\u0275\u0275text(9,"Assigned On"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"th"),e.\u0275\u0275text(11,"Pin"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"th"),e.\u0275\u0275text(13,"Used By"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"th"),e.\u0275\u0275text(15,"Used On"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"th"),e.\u0275\u0275text(17,"Status"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"th"),e.\u0275\u0275text(19,"Action"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(20,"tbody"),e.\u0275\u0275template(21,z,24,20,"ng-container",20),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(22,"div",21)(23,"div",22)(24,"div",23),e.\u0275\u0275text(25,"Showing "),e.\u0275\u0275elementStart(26,"b"),e.\u0275\u0275text(27),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(28),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(29,"div",22)(30,"div",24)(31,"ngb-pagination",25),e.\u0275\u0275listener("pageChange",function(s){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.page=s)})("pageChange",function(s){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.pageChange(s))}),e.\u0275\u0275elementEnd()()()()()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(21),e.\u0275\u0275property("ngForOf",t.pinList),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate((t.page-1)*t.pageSize+1),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate2(" to ",t.findPageShowing()," of ",t.total," entries "),e.\u0275\u0275advance(3),e.\u0275\u0275property("collectionSize",t.total)("page",t.page)("pageSize",t.pageSize)}}const j=[{path:"add",component:(()=>{class i{constructor(t,n,s,o){this.modalService=t,this.toast=n,this.userService=s,this.pinService=o,this.searchTerm="",this.userIDText="",this.userDetails=null,this.pinList=[],this.total=0,this.page=1,this.pageSize=10,this.userList=[],this.pinSelected=[]}ngOnInit(){this.breadCrumbItems=[{label:"Pin Management"},{label:"Add Pins",active:!0}],this.addPinFormGroup=new c.cw({assign_to:new c.NI(""),no_of_pins:new c.NI("",c.kI.required)}),this.getAllUsers(),this.assignFormGroup=new c.cw({assign_to:new c.NI("",c.kI.required)}),this.getPins("unassigned")}getUserDetails(){console.log("User ID:",this.userIDText),this.userIDText?this.userService.getBasicUserProfile(this.userIDText).subscribe({next:t=>{t.status&&(this.userDetails=t?.data?.user,this.userDetails||this.assignFormGroup.get("assign_to")?.setErrors({userNotFound:!0}))},error:t=>{console.error("Error fetching user details:",t)}}):this.userDetails=null}getAllUsers(){this.userService.getAllUserIds().subscribe(t=>{t&&t.data&&(this.userList=t.data.users)})}openModal(t){this.modalService.open(t)}getPins(t){this.pinService.getPins(t,this.page,this.pageSize,this.searchTerm).subscribe(n=>{n&&n.data?(this.pinList=n?.data?.pins||[],this.total=n?.data?.total||0):this.pinList=[]},n=>{console.error("Error fetching pin list:",n),this.pinList=[]})}onSearch(t){this.searchTerm=t.target.value.toLowerCase(),this.page=1,this.getPins("unassigned")}pinChecked(t){t.target.checked?this.pinSelected.push(t.target.value):this.pinSelected=this.pinSelected.filter(n=>n!==t.target.value),console.log("Selected Pins:",this.pinSelected)}findPageShowing(){return Math.min(this.page*this.pageSize,this.total)}pageChange(t){this.page=t,this.getPins("unassigned")}createPins(){this.addPinFormGroup.invalid?this.toast.error("Please fill all required fields"):this.pinService.createPin(this.addPinFormGroup.value).subscribe({next:t=>{this.toast.success("Pins created successfully"),this.addPinFormGroup.reset(),this.getPins("unassigned"),this.modalService.dismissAll()},error:t=>{this.toast.error("Failed to create pins")}})}assignPins(){this.assignFormGroup.invalid||0===this.pinSelected.length?this.toast.error("Please select pins and assign to a user"):this.pinService.assignPins({assign_to:this.userDetails?._id,pins:this.pinSelected}).subscribe({next:n=>{this.toast.success("Pins assigned successfully"),this.assignFormGroup.reset(),this.pinSelected=[],this.modalService.dismissAll(),this.getPins("unassigned")},error:n=>{this.toast.error("Failed to assign pins")}})}disablePin(t){m().fire({title:"Are you sure?",text:"You want to disable this pin?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, disable it!"}).then(n=>{n.isConfirmed&&this.pinService.inactivePin(t,{status:"Inactive"}).subscribe({next:s=>{this.getPins("unassigned"),this.toast.success("Pin disabled successfully"),this.modalService.dismissAll()},error:s=>{this.toast.error("Failed to disable pin")}})})}enablePin(t){m().fire({title:"Are you sure?",text:"You want to enable this pin?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, enable it!"}).then(n=>{n.isConfirmed&&this.pinService.inactivePin(t,{status:"Active"}).subscribe({next:s=>{this.getPins("unassigned"),this.toast.success("Pin disabled successfully"),this.modalService.dismissAll()},error:s=>{this.toast.error("Failed to disable pin")}})})}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(r.FF),e.\u0275\u0275directiveInject(d._W),e.\u0275\u0275directiveInject(u.i),e.\u0275\u0275directiveInject(g.a))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["app-add-pins"]],decls:28,vars:4,consts:[[1,"container-fluid"],["title","Add Pins",3,"breadcrumbItems"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body","border-bottom"],[1,"row","mb-0"],[1,"col-sm-4"],[1,"search-box","me-2","mb-2","d-inline-block"],[1,"position-relative"],["type","text","autocomplete","off","id","searchTableList","placeholder","Search...",1,"form-control",3,"keydown.enter"],[1,"bx","bx-search-alt","search-icon"],[1,"col-sm-8"],[1,"text-sm-end"],["type","button",1,"btn","btn-success","btn-rounded","mb-2","me-2",3,"click"],[1,"mdi","mdi-plus","mr-1"],["type","button",1,"btn","btn-light","btn-rounded","mb-2","me-2",3,"disabled","click"],[1,"bx","bx-user","mr-1"],[1,"card-body"],["class","d-flex flex-column justify-content-center align-items-center","style","min-height: 150px;",4,"ngIf"],["class","table-responsive",4,"ngIf"],["role","document"],["addPinModal",""],["assignModal",""],[1,"d-flex","flex-column","justify-content-center","align-items-center",2,"min-height","150px"],["src","assets/img/not-found.png","width","300px","alt",""],[1,"text-mutes","mt-2"],[1,"table-responsive"],["id","basic-datatable",1,"table","table-bordered","dt-responsive","nowrap","datatables","no-footer","dtr-inline"],[4,"ngFor","ngForOf"],[1,"row","justify-content-md-between","align-items-md-center","mt-2"],[1,"col-sm-12","col-md-5"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[1,"text-md-right","float-md-end","pagination-rounded"],[3,"collectionSize","page","pageSize","pageChange"],[1,"form-check","font-size-16"],["type","checkbox",1,"form-check-input",3,"value","change"],["for","transactionCheck1",1,"form-check-label"],[3,"ngClass"],[1,"list-unstyled","hstack","gap-1","mb-0"],["data-bs-toggle","tooltip","data-bs-placement","top","title","Delete",3,"click",4,"ngIf"],["data-bs-toggle","tooltip","data-bs-placement","top","title","Delete",3,"click"],["href","javascript:void(0);","data-bs-toggle","modal",1,"btn","btn-sm","btn-soft-danger"],[1,"mdi","mdi-book-edit-outline"],["href","javascript:void(0);","data-bs-toggle","modal",1,"btn","btn-sm","btn-soft-primary"],[1,"modal-header"],["id","myModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[3,"formGroup"],[1,"modal-body"],[1,"mb-3"],["for","noOfPins",1,"form-label"],["id","noOfPins","formControlName","no_of_pins",1,"form-select"],["value",""],["value","5"],["value","10"],["value","20"],["value","25"],["value","50"],["value","100"],["class","text-danger mt-1",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary","waves-effect",3,"click"],["type","submit",1,"btn","btn-primary","waves-effect","waves-light",3,"disabled","click"],[1,"text-danger","mt-1"],["for","assignedTo",1,"form-label"],["type","text","id","messageTitle","formControlName","assign_to","placeholder","Enter User ID","required","",1,"form-control",3,"ngModel","blur","ngModelChange"],["class","mt-1",4,"ngIf"],[1,"mt-1"]],template:function(t,n){if(1&t){const s=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-page-title",1),e.\u0275\u0275elementStart(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"input",10),e.\u0275\u0275listener("keydown.enter",function(h){return n.onSearch(h)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(11,"i",11),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(12,"div",12)(13,"div",13)(14,"button",14),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(s);const h=e.\u0275\u0275reference(25);return e.\u0275\u0275resetView(n.openModal(h))}),e.\u0275\u0275element(15,"i",15),e.\u0275\u0275text(16," Add Pins "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"button",16),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(s);const h=e.\u0275\u0275reference(27);return e.\u0275\u0275resetView(n.openModal(h))}),e.\u0275\u0275element(18,"i",17),e.\u0275\u0275text(19," Assigned To "),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(20,"div",18)(21,"div",2),e.\u0275\u0275template(22,C,4,0,"div",19),e.\u0275\u0275template(23,A,27,7,"div",20),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275template(24,I,30,3,"ng-template",21,22,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(26,N,18,7,"ng-template",21,23,e.\u0275\u0275templateRefExtractor)}2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("breadcrumbItems",n.breadCrumbItems),e.\u0275\u0275advance(16),e.\u0275\u0275property("disabled",0==n.pinSelected.length),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",!n.pinList||0===n.pinList.length),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0!==n.pinList.length))},dependencies:[l.NgClass,l.NgForOf,l.NgIf,x.V,c._Y,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.JL,c.Q7,c.sg,c.u,r.N9,l.DatePipe]}),i})()},{path:"list",component:(()=>{class i{constructor(t){this.pinService=t,this.pinList=[],this.total=0,this.page=1,this.pageSize=10,this.searchTerm=""}ngOnInit(){this.breadCrumbItems=[{label:"Pin Management"},{label:"Assigned Pins",active:!0}],this.getPins("assigned")}onSearch(t){this.searchTerm=t.target.value.toLowerCase(),this.page=1,this.getPins("assigned")}getPins(t){this.pinService.getPins(t,this.page,this.pageSize,this.searchTerm).subscribe(n=>{n&&n.data?(this.pinList=n?.data?.pins||[],this.total=n?.data?.total||0):this.pinList=[]},n=>{console.error("Error fetching pin list:",n),this.pinList=[]})}findPageShowing(){return Math.min(this.page*this.pageSize,this.total)}pageChange(t){this.page=t,this.getPins("assigned")}holdPin(t){m().fire({title:"Hold Pin",text:`Are you sure you want to hold the pin ${t.pin}?`,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, hold it!",cancelButtonText:"No, cancel!"}).then(n=>{n.isConfirmed&&this.pinService.inactivePin(t._id,{status:"Hold"}).subscribe(s=>{s&&"success"===s.status?(m().fire("Success","Pin has been held successfully.","success"),this.getPins("assigned")):m().fire("Error","Failed to hold the pin. Please try again.","error")},s=>{console.error("Error holding pin:",s),m().fire("Error","Failed to hold the pin. Please try again.","error")})})}unlockPin(t){m().fire({title:"Unlock Pin",text:`Are you sure you want to unlock the pin ${t.pin}?`,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, unlock it!",cancelButtonText:"No, cancel!"}).then(n=>{n.isConfirmed&&this.pinService.inactivePin(t._id,{status:"Assigned"}).subscribe(s=>{s&&"success"===s.status?(m().fire("Success","Pin has been unlocked successfully.","success"),this.getPins("assigned")):m().fire("Error","Failed to unlock the pin. Please try again.","error")},s=>{console.error("Error unlocking pin:",s),m().fire("Error","Failed to unlock the pin. Please try again.","error")})})}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(g.a))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["app-assigned-pins"]],decls:16,vars:3,consts:[[1,"container-fluid"],["title","Assigned Pins",3,"breadcrumbItems"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body","border-bottom"],[1,"row","mb-0"],[1,"col-sm-4"],[1,"search-box","me-2","mb-2","d-inline-block"],[1,"position-relative"],["type","text","autocomplete","off","id","searchTableList","placeholder","Search...",1,"form-control",3,"keydown.enter"],[1,"bx","bx-search-alt","search-icon"],[1,"card-body"],["class","d-flex flex-column justify-content-center align-items-center","style","min-height: 150px;",4,"ngIf"],["class","table-responsive",4,"ngIf"],[1,"d-flex","flex-column","justify-content-center","align-items-center",2,"min-height","150px"],["src","assets/img/not-found.png","width","300px","alt",""],[1,"text-mutes","mt-2"],[1,"table-responsive"],["id","basic-datatable",1,"table","table-bordered","dt-responsive","nowrap","datatables","no-footer","dtr-inline"],[4,"ngFor","ngForOf"],[1,"row","justify-content-md-between","align-items-md-center","mt-2"],[1,"col-sm-12","col-md-5"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[1,"text-md-right","float-md-end","pagination-rounded"],[3,"collectionSize","page","pageSize","pageChange"],[4,"ngIf"],[1,"badge",3,"ngClass"],[1,"list-inline","font-size-20","contact-links","mb-0"],["data-bs-toggle","modal","data-bs-target","#myModal","class","list-inline-item px-2",3,"click",4,"ngIf"],["class","list-inline-item px-2",3,"click",4,"ngIf"],["data-bs-toggle","modal","data-bs-target","#myModal",1,"list-inline-item","px-2",3,"click"],["href","javascript:void(0);","tooltip","Message"],[1,"bx","bx-lock"],[1,"list-inline-item","px-2",3,"click"],[1,"bx","bx-lock-open"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-page-title",1),e.\u0275\u0275elementStart(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"input",10),e.\u0275\u0275listener("keydown.enter",function(o){return n.onSearch(o)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(11,"i",11),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(12,"div",12)(13,"div",2),e.\u0275\u0275template(14,F,4,0,"div",13),e.\u0275\u0275template(15,G,32,7,"div",14),e.\u0275\u0275elementEnd()()()()()()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("breadcrumbItems",n.breadCrumbItems),e.\u0275\u0275advance(13),e.\u0275\u0275property("ngIf",!n.pinList||0===n.pinList.length),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0!==n.pinList.length))},dependencies:[l.NgClass,l.NgForOf,l.NgIf,x.V,r.N9,l.DatePipe]}),i})()}];let O=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({imports:[_.Bz.forChild(j),_.Bz]}),i})();var R=p(9668);let Y=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({imports:[l.CommonModule,R.v,c.UX,c.u5,r.jF,O]}),i})()}}]);