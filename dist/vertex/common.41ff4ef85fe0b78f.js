"use strict";(self.webpackChunkskote=self.webpackChunkskote||[]).push([[592],{88386:(h,u,o)=>{o.d(u,{i:()=>_});var t=o(92340),l=o(94650),d=o(80529);let _=(()=>{class p{constructor(e){this.http=e}getBasicUserProfile(e){return this.http.get(`${t.N.api_url}users/profile/${e}`)}getAllUsers(e=0,n=10,s){return this.http.get(`${t.N.api_url}users?page=${e}&limit=${n}&${s}`)}changeUserStatus(e,n){return this.http.put(`${t.N.api_url}users/changeStatus/${e}`,{status:n})}sendNotification(e,n,s){return this.http.post(`${t.N.api_url}users/sendNotification`,{title:n,message:s,userId:e})}upsertKyc(e){return this.http.post(`${t.N.api_url}users/kyc`,e)}updateProfile(e){return this.http.put(`${t.N.api_url}users/profile`,e)}createBank(e){return this.http.post(`${t.N.api_url}users/bank`,e)}createAddress(e){return this.http.post(`${t.N.api_url}users/address`,e)}getUserById(e){return this.http.get(`${t.N.api_url}users/${e}`)}getAllUserIds(){return this.http.get(`${t.N.api_url}users/getAllUserId/all`)}deleteBank(e){return this.http.delete(`${t.N.api_url}users/bank/${e}`)}deleteAddress(e){return this.http.delete(`${t.N.api_url}users/address/${e}`)}editBank(e,n){return this.http.put(`${t.N.api_url}users/bank/${e}`,n)}editAddress(e,n){return this.http.put(`${t.N.api_url}users/address/${e}`,n)}getUserDashboard(e){return this.http.get(`${t.N.api_url}dashboard/user?userId=${e}`)}getKycRequests(e=0,n=10,s){return this.http.get(`${t.N.api_url}users/kyc?page=${e}&limit=${n}&${s}`)}}return p.\u0275fac=function(e){return new(e||p)(l.\u0275\u0275inject(d.eN))},p.\u0275prov=l.\u0275\u0275defineInjectable({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()},75933:(h,u,o)=>{o.d(u,{a:()=>e});var t=o(94650),l=o(97185),d=o(51350),_=o(36895),p=o(63728);function g(n,s){if(1&n){const r=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",13)(1,"image-cropper",14),t.\u0275\u0275listener("loadImageFailed",function(){t.\u0275\u0275restoreView(r);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.loadImageFailed())})("imageCropped",function(i){t.\u0275\u0275restoreView(r);const m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.imageCropped(i))}),t.\u0275\u0275elementEnd()()}if(2&n){const r=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("imageChangedEvent",r.imageChangedEvent)("maintainAspectRatio",!1)("imageQuality",50)("canvasRotation",r.canvasRotation)("transform",r.transform)}}let e=(()=>{class n{constructor(r,a){this.toast=r,this.activeModal=a,this.transform={},this.imageChangedEvent=null,this.croppedImage="",this.canvasRotation=0,this.rotation=0,this.scale=1,this.croppedImageEvent=new t.EventEmitter}ngOnInit(){this.imageChangedEvent=this.data.file}cropImage(){this.croppedImage?this.activeModal.close({image:this.croppedImage,from:this.data.from}):this.toast.error("Please select an image to crop","Error",{timeOut:3e3,progressBar:!0,closeButton:!0})}dataURLtoBlob(r){const a=atob(r.split(",")[1]),i=r.split(",")[0].split(":")[1].split(";")[0],m=new ArrayBuffer(a.length),f=new Uint8Array(m);for(let c=0;c<a.length;c++)f[c]=a.charCodeAt(c);return new Blob([m],{type:i})}imageCropped(r){this.croppedImage=r.base64}rotateLeft(){this.canvasRotation--,this.flipAfterRotate()}rotateRight(){this.canvasRotation++,this.flipAfterRotate()}flipAfterRotate(){this.transform={...this.transform,flipH:this.transform.flipV,flipV:this.transform.flipH}}flipHorizontal(){this.transform={...this.transform,flipH:!this.transform.flipH}}flipVertical(){this.transform={...this.transform,flipV:!this.transform.flipV}}updateRotation(){this.transform={...this.transform,rotate:this.rotation}}zoomOut(){this.scale-=.1,this.transform={...this.transform,scale:this.scale}}zoomIn(){this.scale+=.1,this.transform={...this.transform,scale:this.scale}}loadImageFailed(){console.error("Image load failed"),this.toast.error("Image load failed","Error",{timeOut:3e3,progressBar:!0,closeButton:!0})}}return n.\u0275fac=function(r){return new(r||n)(t.\u0275\u0275directiveInject(l._W),t.\u0275\u0275directiveInject(d.Kz))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["app-image-cropper"]],viewQuery:function(r,a){if(1&r&&t.\u0275\u0275viewQuery(n,7),2&r){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.imageCropper=i.first)}},inputs:{data:"data"},outputs:{croppedImageEvent:"croppedImageEvent"},decls:23,vars:2,consts:[[1,"card-body"],[1,"row"],[1,"col-12"],[1,"card"],[1,"col-lg-8"],["class","img-container",4,"ngIf"],[1,"text-center","mt-2"],[1,"btn","btn-secondary","btn-sm",3,"click"],[1,"btn","btn-secondary","btn-sm","ms-1",3,"click"],[1,"col-lg-4"],[1,"text-center"],[3,"src"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"img-container"],["format","jpeg",3,"imageChangedEvent","maintainAspectRatio","imageQuality","canvasRotation","transform","loadImageFailed","imageCropped"]],template:function(r,a){1&r&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",0)(5,"div",1)(6,"div",4),t.\u0275\u0275template(7,g,2,5,"div",5),t.\u0275\u0275elementStart(8,"div",6)(9,"button",7),t.\u0275\u0275listener("click",function(){return a.rotateLeft()}),t.\u0275\u0275text(10,"Rotate left"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(11,"button",8),t.\u0275\u0275listener("click",function(){return a.rotateRight()}),t.\u0275\u0275text(12,"Rotate right"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(13,"button",8),t.\u0275\u0275listener("click",function(){return a.flipHorizontal()}),t.\u0275\u0275text(14,"Flip horizontal"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(15,"button",8),t.\u0275\u0275listener("click",function(){return a.flipVertical()}),t.\u0275\u0275text(16,"Flip vertical"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(17,"div",9)(18,"div",10),t.\u0275\u0275element(19,"img",11),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(20,"div",6)(21,"button",12),t.\u0275\u0275listener("click",function(){return a.cropImage()}),t.\u0275\u0275text(22,"Crop Image"),t.\u0275\u0275elementEnd()()()()()()()()()),2&r&&(t.\u0275\u0275advance(7),t.\u0275\u0275property("ngIf",a.imageChangedEvent),t.\u0275\u0275advance(12),t.\u0275\u0275property("src",a.croppedImage,t.\u0275\u0275sanitizeUrl))},dependencies:[_.NgIf,p.ap]}),n})()}}]);