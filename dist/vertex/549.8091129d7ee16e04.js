"use strict";(self.webpackChunkskote=self.webpackChunkskote||[]).push([[549],{10549:(C,m,a)=>{a.r(m),a.d(m,{MessagesModule:()=>I});var c=a(36895),u=a(59158),s=a(24006),g=a(75933),e=a(94650),p=a(84029),f=a(97185),M=a(29234);function v(t,i){1&t&&(e.\u0275\u0275elementStart(0,"div",18),e.\u0275\u0275text(1," Title is required. "),e.\u0275\u0275elementEnd())}function h(t,i){1&t&&(e.\u0275\u0275elementStart(0,"div",18),e.\u0275\u0275text(1," Message is required. "),e.\u0275\u0275elementEnd())}const b=[{path:"",component:(()=>{class t{constructor(o,n){this.modalService=o,this.toast=n}ngOnInit(){this.breadCrumbItems=[{label:"Messages"},{label:"Create",active:!0}],this.addMessageFormGroup=new s.cw({title:new s.NI("",s.kI.required),message:new s.NI("",s.kI.required),attachment:new s.NI("")})}onFileSelected(o,n){const l=o.target;if(l.files&&l.files.length>0){const r=this.modalService.open(g.a,{centered:!0,size:"xl"});r.componentInstance.data={file:o,from:n},r.result.then(d=>{console.log("Modal closed with:",d),d&&d.image&&this.addMessageFormGroup.patchValue({attachment:d.image})}).catch(d=>{console.log("Modal dismissed:",d)})}}onSubmit(){this.addMessageFormGroup.valid?(this.toast.success("Notification is successfully sent to all users."),this.addMessageFormGroup.reset()):(this.addMessageFormGroup.markAllAsTouched(),this.toast.error("Please fix the error."))}}return t.\u0275fac=function(o){return new(o||t)(e.\u0275\u0275directiveInject(p.FF),e.\u0275\u0275directiveInject(f._W))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["app-messages"]],decls:27,vars:6,consts:[[1,"container-fluid"],["title","Message",3,"breadcrumbItems"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"col-12",3,"formGroup"],[1,"mb-3","col-lg-12"],["for","messageTitle",1,"form-label"],["type","text","id","messageTitle","formControlName","title","placeholder","Enter title",1,"form-control"],["class","text-danger",4,"ngIf"],["for","messageBody",1,"form-label"],["id","messageBody","formControlName","message","rows","4","placeholder","Enter message body",1,"form-control"],[1,"mb-3","col-lg-6"],["type","file",1,"form-control",3,"change"],[1,"col-lg-6"],[2,"max-width","100px","max-height","100px",3,"src"],["type","submit",1,"btn","btn-primary",3,"disabled","click"],[1,"text-danger"]],template:function(o,n){if(1&o&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-page-title",1),e.\u0275\u0275elementStart(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",2)(7,"form",6)(8,"div",7)(9,"label",8),e.\u0275\u0275text(10,"Title"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(11,"input",9),e.\u0275\u0275template(12,v,2,0,"div",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"div",7)(14,"label",11),e.\u0275\u0275text(15,"Message"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(16,"textarea",12),e.\u0275\u0275template(17,h,2,0,"div",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"div",2)(19,"div",13)(20,"label"),e.\u0275\u0275text(21,"Attachment Image"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"input",14),e.\u0275\u0275listener("change",function(r){return n.onFileSelected(r,"profile")}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(23,"div",15),e.\u0275\u0275element(24,"img",16),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(25,"button",17),e.\u0275\u0275listener("click",function(){return n.onSubmit()}),e.\u0275\u0275text(26,"Submit"),e.\u0275\u0275elementEnd()()()()()()()()),2&o){let l,r,d;e.\u0275\u0275advance(1),e.\u0275\u0275property("breadcrumbItems",n.breadCrumbItems),e.\u0275\u0275advance(6),e.\u0275\u0275property("formGroup",n.addMessageFormGroup),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(l=n.addMessageFormGroup.get("title"))?null:l.touched)&&(null==(l=n.addMessageFormGroup.get("title"))?null:l.invalid)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(r=n.addMessageFormGroup.get("message"))?null:r.touched)&&(null==(r=n.addMessageFormGroup.get("message"))?null:r.invalid)),e.\u0275\u0275advance(7),e.\u0275\u0275property("src",null==(d=n.addMessageFormGroup.get("attachment"))?null:d.value,e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",n.addMessageFormGroup.invalid)}},dependencies:[c.NgIf,M.V,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u]}),t})()}];let y=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({imports:[u.Bz.forChild(b),u.Bz]}),t})();var F=a(19668);let I=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({imports:[c.CommonModule,F.v,s.UX,y]}),t})()}}]);