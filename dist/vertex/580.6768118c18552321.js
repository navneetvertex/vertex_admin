"use strict";(self.webpackChunkskote=self.webpackChunkskote||[]).push([[580],{1580:(Zs,W,g)=>{g.r(W),g.d(W,{AppUsersModule:()=>Qs});var p=g(6895),f=g(9158),l=g(4006),re=g(2164),le=g(5226),u=g.n(le),e=g(4650),S=g(8386),v=g(9061),I=g(7185),x=g(9234);function ae(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"option",41),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=a.$implicit;e.\u0275\u0275property("ngValue",t),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t)}}function oe(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"small",46),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.email_id)}}function se(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"small",46),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"date"),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("Approved: ",e.\u0275\u0275pipeBind2(2,1,t.approved_date,"shortDate"),"")}}function de(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"span",46),e.\u0275\u0275text(1),e.\u0275\u0275element(2,"br"),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate2(" ",t.guardian_name||"-"," (",t.guardian_relation,") ")}}function me(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275element(2,"br"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",null==t.referred_by[0]?null:t.referred_by[0].name," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",(null==t.referred_by[0]?null:t.referred_by[0].user_id)||"-","")}}function ce(i,a){1&i&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"Parent"),e.\u0275\u0275elementEnd())}function pe(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"span",50),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275propertyInterpolate1("routerLink","/agents/direct-ref/",t._id,""),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("Count: ",t.direct_ref_count,"")}}function ue(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"span",50),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275propertyInterpolate1("routerLink","/agents/indirect-ref/",t._id,""),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("Count: ",t.indirect_ref_count,"")}}function _e(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate((null==t||null==t.kyc[0]?null:t.kyc[0].aadhar)||"-")}}const U=function(i,a,t){return{"badge-soft-primary":i,"badge-soft-warning":a,"badge-soft-danger":t}};function ge(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"a",54),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction3(2,U,"Approved"===(null==t||null==t.kyc[0]?null:t.kyc[0].status),"Requested"===(null==t||null==t.kyc[0]?null:t.kyc[0].status),"Rejected"===(null==t||null==t.kyc[0]?null:t.kyc[0].status))),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" KYC ",null==t||null==t.kyc[0]?null:t.kyc[0].status," ")}}function fe(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"a",54),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction3(2,U,"Approved"===t.franchise_status,"Requested"===t.franchise_status,"Rejected"===t.franchise_status)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" Franchise ",t.franchise_status," ")}}const ve=function(i,a,t,n,r){return{"badge-soft-success":i,"badge-soft-warning":a,"badge-soft-danger":t,"badge-soft-secondary":n,"badge-soft-primary":r}};function he(i,a){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"a",54),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i){const t=a.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction5(3,ve,"Approved"===(null==t?null:t.status),"Requested"===(null==t?null:t.status),"Rejected"===(null==t?null:t.status),"Closed"===(null==t?null:t.status),"Disbursed"===(null==t?null:t.status))),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate2(" ",null==t?null:t.loan_id,"(",null==t?null:t.status,") ")}}function xe(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,he,3,9,"ng-container",29),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.loans)}}const Se=function(i,a,t,n){return{"badge-soft-primary":i,"badge-soft-success":a,"badge-soft-warning":t,"badge-soft-danger":n}};function be(i,a){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"a",54),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i){const t=a.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction4(2,Se,"Approved"===t.status,"Active"===t.status,"Requested"===t.status,"Rejected"===t.status)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" Card ",t.status," ")}}function Ce(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,be,3,7,"ng-container",29),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.creditcards)}}function ye(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"a",51),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(2).$implicit,o=e.\u0275\u0275nextContext(),s=e.\u0275\u0275reference(85);return e.\u0275\u0275resetView(o.advisorModalFn(r,s))}),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()}if(2&i){const t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction3(2,U,"Approved"===t.advisor_status,"Requested"===t.advisor_status,"Rejected"===t.advisor_status)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" Advisor ",t.advisor_status," ")}}const Ee=function(i,a,t,n){return{"badge-soft-primary":i,"badge-soft-warning":a,"badge-soft-danger":t,"badge-soft-secondary":n}};function Ie(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"td")(1,"a",51),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext().$implicit,o=e.\u0275\u0275nextContext(),s=e.\u0275\u0275reference(87);return e.\u0275\u0275resetView(o.changeStatusAccount(r,s))}),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(3,ge,2,6,"a",52),e.\u0275\u0275template(4,fe,2,6,"a",52),e.\u0275\u0275template(5,xe,2,1,"div",48),e.\u0275\u0275template(6,Ce,2,1,"div",48),e.\u0275\u0275template(7,ye,2,6,"a",53),e.\u0275\u0275elementEnd()}if(2&i){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction4(7,Ee,"Active"===t.status,"Pending"===t.status,"Blocked"===t.status||"Deleted"===t.status,"Inactive"===t.status)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" Account ",t.status," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",1==t.kyc.length),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.franchise_status),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.loans.length>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0!==t.creditcards.length),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.advisor_status)}}function we(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li")(1,"a",69),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(4).$implicit,o=e.\u0275\u0275nextContext(),s=e.\u0275\u0275reference(89);return e.\u0275\u0275resetView(o.openKYCModal(r,s))}),e.\u0275\u0275element(2,"i",77),e.\u0275\u0275text(3," Approve KYC "),e.\u0275\u0275elementEnd()()}}function De(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li")(1,"a",69),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(4).$implicit,o=e.\u0275\u0275nextContext(),s=e.\u0275\u0275reference(85);return e.\u0275\u0275resetView(o.advisorModalFn(r,s))}),e.\u0275\u0275element(2,"i",77),e.\u0275\u0275text(3," Advisor Status "),e.\u0275\u0275elementEnd()()}}function Fe(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"a",69),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(4).$implicit,o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.addMember(r))}),e.\u0275\u0275element(1,"i",78),e.\u0275\u0275text(2," Add Member "),e.\u0275\u0275elementEnd()}}const ke=function(i){return["/members/compulsory-deposit",i]},Ae=function(i){return["/members/recurring-deposits",i]},Te=function(i){return["/members/fixed-deposits",i]};function Ne(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li",64)(1,"div",65)(2,"a",66),e.\u0275\u0275element(3,"i",67),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"ul",68),e.\u0275\u0275template(5,we,4,0,"li",48),e.\u0275\u0275template(6,De,4,0,"li",48),e.\u0275\u0275elementStart(7,"li")(8,"a",69),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(3).$implicit,o=e.\u0275\u0275nextContext(),s=e.\u0275\u0275reference(87);return e.\u0275\u0275resetView(o.changeStatusAccount(r,s))}),e.\u0275\u0275element(9,"i",70),e.\u0275\u0275text(10," Change Account Status "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(11,"li"),e.\u0275\u0275template(12,Fe,3,0,"a",71),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"li")(14,"a",72),e.\u0275\u0275element(15,"i",73),e.\u0275\u0275text(16," Compulsory Deposit "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(17,"li")(18,"a",72),e.\u0275\u0275element(19,"i",74),e.\u0275\u0275text(20," Recurring Deposit "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(21,"li")(22,"a",72),e.\u0275\u0275element(23,"i",75),e.\u0275\u0275text(24," Fixed Deposit "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(25,"li")(26,"a",69),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(3).$implicit,o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.deleteAccount(r._id))}),e.\u0275\u0275element(27,"i",76),e.\u0275\u0275text(28," Delete Account "),e.\u0275\u0275elementEnd()()()()()}if(2&i){const t=e.\u0275\u0275nextContext(3).$implicit;e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf","Approved"!==(null==t||null==t.kyc[0]?null:t.kyc[0].status)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Requested"===t.advisor_status),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf","Approved"===t.advisor_status),e.\u0275\u0275advance(2),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction1(6,ke,t._id)),e.\u0275\u0275advance(4),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction1(8,Ae,t._id)),e.\u0275\u0275advance(4),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction1(10,Te,t._id))}}function Re(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ul",56)(1,"li",57),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(2).$implicit,o=e.\u0275\u0275nextContext(),s=e.\u0275\u0275reference(81);return e.\u0275\u0275resetView(o.sendNotification(s,r))}),e.\u0275\u0275elementStart(2,"a",58),e.\u0275\u0275element(3,"i",59),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"li",60)(5,"a",61),e.\u0275\u0275element(6,"i",62),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(7,Ne,29,12,"li",63),e.\u0275\u0275elementEnd()}if(2&i){const t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(5),e.\u0275\u0275propertyInterpolate1("routerLink","/members/profile/form/",t._id,""),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","Deleted"!==t.status)}}function Ve(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"td"),e.\u0275\u0275template(1,Re,8,2,"ul",55),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Deleted"!==t.status)}}function qe(i,a){1&i&&e.\u0275\u0275element(0,"td")}function Ge(i,a){1&i&&e.\u0275\u0275element(0,"td")}function Pe(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr")(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td")(4,"div",42)(5,"div",43),e.\u0275\u0275element(6,"img",44),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div")(8,"h6",45),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit,s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.viewAccountSummary(o._id))}),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"small",46),e.\u0275\u0275text(11),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(12,"br"),e.\u0275\u0275template(13,oe,2,1,"small",47),e.\u0275\u0275element(14,"br"),e.\u0275\u0275elementStart(15,"small",46),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(18,"br"),e.\u0275\u0275template(19,se,3,4,"small",47),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(20,"td"),e.\u0275\u0275template(21,de,3,2,"span",47),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"td"),e.\u0275\u0275template(23,me,4,2,"span",48),e.\u0275\u0275template(24,ce,2,0,"span",48),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"td"),e.\u0275\u0275template(26,pe,2,2,"span",49),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(27,"td"),e.\u0275\u0275template(28,ue,2,2,"span",49),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"td"),e.\u0275\u0275text(30),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(31,"td"),e.\u0275\u0275template(32,_e,2,1,"span",48),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(33,"td"),e.\u0275\u0275text(34),e.\u0275\u0275element(35,"br"),e.\u0275\u0275text(36),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(37,"td"),e.\u0275\u0275text(38),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(39,"td"),e.\u0275\u0275text(40),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(41,"td"),e.\u0275\u0275text(42),e.\u0275\u0275pipe(43,"titlecase"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(44,Ie,8,12,"td",48),e.\u0275\u0275template(45,Ve,2,1,"td",48),e.\u0275\u0275template(46,qe,1,0,"td",48),e.\u0275\u0275template(47,Ge,1,0,"td",48),e.\u0275\u0275elementEnd()}if(2&i){const t=a.$implicit,n=a.index,r=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate((r.page-1)*r.pageSize+n+1),e.\u0275\u0275advance(4),e.\u0275\u0275property("src",t.profile_image||"assets/images/users/user_placeholder.png",e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.name),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("User ID: ",t.user_id,""),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.email_id),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("Joined: ",e.\u0275\u0275pipeBind2(17,23,t.created_date,"shortDate"),""),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",t.approved_date),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.guardian_name),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","admin"!==t.user_type),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","admin"===t.user_type),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.direct_ref_count&&0!==t.direct_ref_count),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.indirect_ref_count&&0!==t.indirect_ref_count),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.account_number||"-"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","admin"!==t.user_type),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" District : ",(null==t||null==t.district_info?null:t.district_info.name)||"-"," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" Area : ",(null==t||null==t.area_info?null:t.area_info.name)||"-"," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.gender||"-"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.date_of_birth?r.getAge(t.date_of_birth):"-"," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.payment_method?e.\u0275\u0275pipeBind1(43,26,t.payment_method):"-"," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","admin"!==t.user_type),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","admin"!==t.user_type),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","admin"===t.user_type),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","admin"===t.user_type)}}function Me(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Title is required."),e.\u0275\u0275elementEnd())}function Be(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",93),e.\u0275\u0275template(1,Me,2,0,"small",48),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);let n;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(n=t.notificationFormGroup.get("title"))||null==n.errors?null:n.errors.required)}}function Oe(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Message is required."),e.\u0275\u0275elementEnd())}function ze(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",93),e.\u0275\u0275template(1,Oe,2,0,"small",48),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);let n;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(n=t.notificationFormGroup.get("message"))||null==n.errors?null:n.errors.required)}}function $e(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",79)(1,"h5",80),e.\u0275\u0275text(2,"Send Notification"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",81),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.dismiss("Cross click"))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"form",7)(5,"div",82)(6,"div",2)(7,"div",83)(8,"div",84)(9,"label",85),e.\u0275\u0275text(10,"Title:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(11,"input",86),e.\u0275\u0275template(12,Be,2,1,"div",87),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"div",84)(14,"label",88),e.\u0275\u0275text(15,"Message:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(16,"textarea",89),e.\u0275\u0275template(17,ze,2,1,"div",87),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(18,"div",90)(19,"button",91),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.close("Close click"))}),e.\u0275\u0275text(20,"Close"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"button",92),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.sendMessage())}),e.\u0275\u0275text(22,"Send Message"),e.\u0275\u0275elementEnd()()()}if(2&i){const t=e.\u0275\u0275nextContext();let n,r;e.\u0275\u0275advance(4),e.\u0275\u0275property("formGroup",t.notificationFormGroup),e.\u0275\u0275advance(8),e.\u0275\u0275property("ngIf",(null==(n=t.notificationFormGroup.get("title"))?null:n.invalid)&&((null==(n=t.notificationFormGroup.get("title"))?null:n.dirty)||(null==(n=t.notificationFormGroup.get("title"))?null:n.touched))),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(r=t.notificationFormGroup.get("message"))?null:r.invalid)&&((null==(r=t.notificationFormGroup.get("message"))?null:r.dirty)||(null==(r=t.notificationFormGroup.get("message"))?null:r.touched))),e.\u0275\u0275advance(4),e.\u0275\u0275property("disabled",t.notificationFormGroup.invalid)}}function Le(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",79)(1,"h5",80),e.\u0275\u0275text(2,"Settings"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",81),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.dismiss("Cross click"))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"form")(5,"div",82)(6,"div",2)(7,"div",83)(8,"div",84)(9,"label",85),e.\u0275\u0275text(10,"Recurring Deposit (R D):"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(11,"input",94),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(12,"div",90)(13,"button",91),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.close("Close click"))}),e.\u0275\u0275text(14,"Close"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"button",95),e.\u0275\u0275text(16,"Send Message"),e.\u0275\u0275elementEnd()()()}}function Ue(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"option",41),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=a.$implicit;e.\u0275\u0275property("ngValue",t),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t)}}function je(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",79)(1,"h5",80),e.\u0275\u0275text(2,"Status"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",81),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.dismiss("Cross click"))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",82)(5,"div",2)(6,"div",83)(7,"div",84)(8,"label",85),e.\u0275\u0275text(9,"Change Status:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"select",96),e.\u0275\u0275listener("ngModelChange",function(r){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.currStatus=r)}),e.\u0275\u0275template(11,Ue,2,2,"option",17),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(12,"div",90)(13,"button",91),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.close("Close click"))}),e.\u0275\u0275text(14,"Close"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"button",97),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.changeAdvisorStatus())}),e.\u0275\u0275text(16,"Submit"),e.\u0275\u0275elementEnd()()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(10),e.\u0275\u0275property("ngModel",t.currStatus),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.kycStatusList)}}function Ye(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"option",41),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=a.$implicit;e.\u0275\u0275property("ngValue",t),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t)}}function Ke(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",79)(1,"h5",80),e.\u0275\u0275text(2,"Status"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",81),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.dismiss("Cross click"))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",82)(5,"div",2)(6,"div",83)(7,"div",84)(8,"label",85),e.\u0275\u0275text(9,"Change Status:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"select",96),e.\u0275\u0275listener("ngModelChange",function(r){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.currStatus=r)}),e.\u0275\u0275template(11,Ye,2,2,"option",17),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(12,"div",90)(13,"button",91),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.close("Close click"))}),e.\u0275\u0275text(14,"Close"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"button",97),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.changeStatus())}),e.\u0275\u0275text(16,"Submit"),e.\u0275\u0275elementEnd()()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(10),e.\u0275\u0275property("ngModel",t.currStatus),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.statusList)}}function We(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"option",41),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=a.$implicit;e.\u0275\u0275property("ngValue",t),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t)}}function He(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",79)(1,"h5",80),e.\u0275\u0275text(2,"KYC Status"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",81),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.dismiss("Cross click"))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",82)(5,"div",2)(6,"div",83)(7,"div",84)(8,"label",85),e.\u0275\u0275text(9,"Change Status:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"select",96),e.\u0275\u0275listener("ngModelChange",function(r){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.currKYCStatus=r)}),e.\u0275\u0275template(11,We,2,2,"option",17),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(12,"div",90)(13,"button",91),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.close("Close click"))}),e.\u0275\u0275text(14,"Close"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"button",97),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.changeKYCStatusAccount())}),e.\u0275\u0275text(16,"Submit"),e.\u0275\u0275elementEnd()()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(10),e.\u0275\u0275property("ngModel",t.currKYCStatus),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.kycStatusList)}}let Je=(()=>{class i{constructor(t,n,r,o){this.userService=t,this.modalService=n,this.toast=r,this.router=o,this.currStatus="Pending",this.currUserId="",this.currKYCStatus="",this.statusList=["Pending","Active","Inactive","Blocked"],this.kycStatusList=["Requested","Approved","Rejected"],this.userList=[],this.total=0,this.page=1,this.pageSize=10,this.dateRangeOptions={mode:"range",dateFormat:"Y-m-d",defaultDate:[],placeholder:"Select date range",allowInput:!0,onChange:(s,d,m)=>{if(2===s.length){const _=s[1];this.searchFormGroup.patchValue({startDate:this.formatDate(s[0]),endDate:this.formatDate(_)})}}}}ngOnInit(){this.breadCrumbItems=[{label:"User List"},{label:"User",active:!0}],this.notificationFormGroup=new l.cw({title:new l.NI("",l.kI.required),message:new l.NI("",l.kI.required)}),this.searchFormGroup=new l.cw({name:new l.NI(""),user_id:new l.NI(""),account_number:new l.NI(""),status:new l.NI(""),startDate:new l.NI(""),endDate:new l.NI(""),dateRange:new l.NI("")}),this.getAllUsers()}ngAfterViewInit(){setTimeout(()=>{this.initializeDateRangePicker()},100)}search(){this.page=1,this.getAllUsers()}reset(){this.page=1,this.searchFormGroup.reset(),this.dateRangePicker&&this.dateRangePicker.clear(),this.getAllUsers()}formatDate(t){return t?`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`:""}initializeDateRangePicker(){const t=document.getElementById("dateRangePicker");t&&(this.dateRangePicker=(0,re.Z)(t,this.dateRangeOptions))}pageChange(t){this.page=t,this.getAllUsers()}getAllUsers(){const t=this.searchFormGroup.value,n=[];Object.keys(t).forEach(o=>{null!==t[o]&&""!==t[o]&&void 0!==t[o]&&("startDate"===o||"endDate"===o||"dateRange"!==o)&&n.push(`${o}=${encodeURIComponent(t[o])}`)});const r=n.join("&");this.userService.getAllUsers(this.page,this.pageSize,r).subscribe(o=>{o&&o.data?(this.userList=o?.data?.users||[],console.log("User List:",this.userList),this.total=o?.data?.total||0):this.userList=[]},o=>{console.error("Error fetching user list:",o),this.userList=[]})}advisorModalFn(t,n){"Requested"===t.advisor_status&&(this.currUserId=t._id,this.currStatus=t.advisor_status,this.openModal(n))}isTimePassed(t){return!!t&&(new Date).getTime()-new Date(t).getTime()>36e5}openModal(t){this.modalService.open(t)}getAge(t){const n=new Date,r=new Date(t);let o=n.getFullYear()-r.getFullYear();const s=n.getMonth()-r.getMonth();return(s<0||0===s&&n.getDate()<r.getDate())&&o--,o}addMember(t){}sendNotification(t,n){this.currUserId=n._id,this.openModal(t)}sendMessage(){const t=this.notificationFormGroup.get("title")?.value,n=this.notificationFormGroup.get("message")?.value;t&&n&&this.userService.sendNotification(this.currUserId,t,n).subscribe(r=>{r&&"success"===r.status?(this.toast.success("Notification sent successfully"),this.modalService.dismissAll(),this.notificationFormGroup.reset()):this.toast.error("Failed to send notification")},r=>{console.error("Error sending notification:",r),this.toast.error("Failed to send notification")})}changeStatusAccount(t,n){this.openModal(n),this.currStatus=t.status,this.currUserId=t._id}openKYCModal(t,n){this.openModal(n),this.currKYCStatus=t?.kyc[0]?.status,this.currUserId=t?._id}changeKYCStatusAccount(){u().fire({title:"Are you sure?",text:`You want to ${this.currKYCStatus} this account?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:`Yes, ${this.currKYCStatus} it!`}).then(t=>{t.isConfirmed&&this.userService.upsertKyc({status:this.currKYCStatus,user:this.currUserId}).subscribe(n=>{this.modalService.dismissAll(),this.toast.success(`Account ${this.currStatus} Successfully`),this.getAllUsers()},n=>{console.error("Error changing user status:",n),this.modalService.dismissAll(),this.toast.error(`Failed to ${this.currStatus} account`)})})}changeStatus(){u().fire({title:"Are you sure?",text:`You want to ${this.currStatus} this account?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:`Yes, ${this.currStatus} it!`}).then(t=>{t.isConfirmed&&this.userService.changeUserStatus(this.currUserId,this.currStatus).subscribe(n=>{this.modalService.dismissAll(),this.toast.success(`Account ${this.currStatus} Successfully`),this.getAllUsers()},n=>{console.error("Error changing user status:",n),this.modalService.dismissAll(),this.toast.error(`Failed to ${this.currStatus} account`)})})}changeAdvisorStatus(){u().fire({title:"Are you sure?",text:`You want to ${this.currStatus} this advisor?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:`Yes, ${this.currStatus} it!`}).then(t=>{t.isConfirmed&&this.userService.updateProfile({_id:this.currUserId,advisor_status:this.currStatus,advisor_approved_date:new Date}).subscribe(n=>{this.modalService.dismissAll(),u().fire({title:"Success",text:`Advisor status changed to ${this.currStatus} successfully!`,icon:"success",confirmButtonText:"OK"}),this.toast.success(`Advisor status changed to ${this.currStatus} Successfully`),this.getAllUsers()},n=>{console.error("Error changing advisor status:",n),this.modalService.dismissAll(),this.toast.error("Failed to change advisor status")})})}findPageShowing(){return Math.min(this.page*this.pageSize,this.total)}exportUsers(){this.userService.exportUsers().subscribe(t=>{const n=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),r=window.URL.createObjectURL(n),o=document.createElement("a");o.href=r,o.download=`users_${(new Date).toISOString()}.xlsx`,document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(r)},t=>{console.error("Error exporting users:",t),this.toast.error("Failed to export users")})}deleteAccount(t){u().fire({title:"Are you sure?",text:"You want to delete this account?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(n=>{n.isConfirmed&&this.userService.hardDeleteUser(t).subscribe(r=>{this.modalService.dismissAll(),this.toast.success("Account deleted successfully"),this.getAllUsers()},r=>{console.error("Error deleting user account:",r),this.modalService.dismissAll(),this.toast.error("Failed to delete account")})})}viewAccountSummary(t){this.router.navigate(["/members/account-summary",t])}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(S.i),e.\u0275\u0275directiveInject(v.FF),e.\u0275\u0275directiveInject(I._W),e.\u0275\u0275directiveInject(f.F0))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["app-app-users"]],decls:90,vars:12,consts:[[1,"container-fluid"],["title","All Users",3,"breadcrumbItems"],[1,"row"],[1,"col-xl-12"],[1,"card"],[1,"card-body"],[1,"card-body","border-bottom"],[3,"formGroup"],[1,"row","align-items-end","g-2"],[1,"col-lg-3"],["type","search","id","searchInput","formControlName","name","placeholder","Search for Name...",1,"form-control"],[1,"col-lg-2"],["type","search","id","searchInput","formControlName","account_number","placeholder","Search for Account Number...",1,"form-control"],["type","search","id","searchInput","formControlName","user_id","placeholder","Search for User id...",1,"form-control"],["formControlName","status",1,"form-control","select2"],["value",""],["value","All"],[3,"ngValue",4,"ngFor","ngForOf"],["type","text","formControlName","dateRange","id","dateRangePicker","placeholder","Select Date Range...","readonly","",1,"form-control"],[1,"col-lg-1","d-grid"],["type","button",1,"btn","btn-soft-secondary",3,"click"],[1,"mdi","mdi-filter-outline","align-middle"],[1,"mdi","mdi-refresh"],[1,"btn","btn-success",3,"click"],[1,"mdi","mdi-download"],[1,"table-responsive"],["id","basic-datatable",1,"table","table-bordered","dt-responsive","nowrap","datatables","no-footer","dtr-inline"],[2,"width","10%"],[3,"width"],[4,"ngFor","ngForOf"],[1,"row","justify-content-md-between","align-items-md-center","mt-2"],[1,"col-sm-12","col-md-5"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[1,"text-md-right","float-md-end","pagination-rounded"],[3,"collectionSize","page","pageSize","pageChange"],["role","document"],["messageModal",""],["settingModal",""],["changeAdvisorStatusModal",""],["changeStatusModal",""],["changeKYCStatusModal",""],[3,"ngValue"],[1,"d-flex","align-items-center"],[1,"avatar-sm","me-3"],["alt","User",1,"avatar-sm","rounded-circle",2,"width","40px","height","40px","object-fit","cover",3,"src"],[1,"mb-0","user-name-link",3,"click"],[1,"text-muted"],["class","text-muted",4,"ngIf"],[4,"ngIf"],["class","badge badge-soft-primary cursor-pointer",3,"routerLink",4,"ngIf"],[1,"badge","badge-soft-primary","cursor-pointer",3,"routerLink"],["href","javascript: void(0);",1,"badge","font-size-11","m-1",3,"ngClass","click"],["href","javascript: void(0);","class","badge font-size-11 m-1",3,"ngClass",4,"ngIf"],["href","javascript: void(0);","class","badge font-size-11 m-1",3,"ngClass","click",4,"ngIf"],["href","javascript: void(0);",1,"badge","font-size-11","m-1",3,"ngClass"],["class","list-inline font-size-20 contact-links mb-0",4,"ngIf"],[1,"list-inline","font-size-20","contact-links","mb-0"],["data-bs-toggle","modal","data-bs-target","#myModal",1,"list-inline-item","px-2",3,"click"],["href","javascript:void(0);","tooltip","Message"],[1,"bx","bx-message-square-dots"],[1,"list-inline-item","px-2"],["tooltip","Profile",3,"routerLink"],[1,"bx","bx-user-circle"],["class","list-inline-item",4,"ngIf"],[1,"list-inline-item"],["dropdown","","ngbDropdown","",1,"dropdown"],["ngbDropdownToggle","","href","javascript: void(0);","aria-expanded","false","aria-haspopup","true",1,"dropdown-toggle","card-drop","px-2","show"],[1,"mdi","mdi-dots-horizontal","font-size-18"],["placement","bottom-end","ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],["href","javascript:void(0);",1,"dropdown-item","remove-list",3,"click"],[1,"mdi","mdi-trash-can","font-size-16","text-danger","me-1"],["href","javascript:void(0);","class","dropdown-item remove-list",3,"click",4,"ngIf"],[1,"dropdown-item","remove-list",3,"routerLink"],[1,"mdi","mdi-cash-100","font-size-16","text-warning","me-1"],[1,"mdi","mdi-account-cash","font-size-16","text-info","me-1"],[1,"mdi","mdi-cash-register","font-size-16","text-primary","me-1"],[1,"mdi","mdi-delete","font-size-16","text-danger","me-1"],[1,"mdi","mdi-account-check","font-size-16","text-success","me-1"],[1,"mdi","mdi-plus","font-size-16","text-primary","me-1"],[1,"modal-header"],["id","myModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"col-md-12"],[1,"mb-3"],["for","recipient-name",1,"col-form-label"],["type","text","id","recipient-name","formControlName","title","placeholder","Enter Title",1,"form-control"],["class","text-danger mt-1",4,"ngIf"],["for","message-text",1,"col-form-label"],["id","message-text","formControlName","message","placeholder","Enter Message",1,"form-control"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary","waves-effect",3,"click"],["type","submit",1,"btn","btn-primary","waves-effect","waves-light",3,"disabled","click"],[1,"text-danger","mt-1"],["type","number","id","recipient-name","placeholder","Settings",1,"form-control"],["type","button",1,"btn","btn-primary","waves-effect","waves-light"],["type","number",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary","waves-effect","waves-light",3,"click"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-page-title",1),e.\u0275\u0275elementStart(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"form",7)(8,"div",8)(9,"div",9),e.\u0275\u0275element(10,"input",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",11),e.\u0275\u0275element(12,"input",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"div",11),e.\u0275\u0275element(14,"input",13),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"div",11)(16,"select",14)(17,"option",15),e.\u0275\u0275text(18,"Select Status"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"option",16),e.\u0275\u0275text(20,"All"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(21,ae,2,2,"option",17),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(22,"div",11),e.\u0275\u0275element(23,"input",18),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"div",19)(25,"button",20),e.\u0275\u0275listener("click",function(){return n.search()}),e.\u0275\u0275element(26,"i",21),e.\u0275\u0275text(27," Filter "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(28,"div",19)(29,"button",20),e.\u0275\u0275listener("click",function(){return n.reset()}),e.\u0275\u0275element(30,"i",22),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(31,"div",19)(32,"button",23),e.\u0275\u0275listener("click",function(){return n.exportUsers()}),e.\u0275\u0275element(33,"i",24),e.\u0275\u0275text(34," Export "),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(35,"div",2)(36,"div",25)(37,"table",26)(38,"thead")(39,"tr")(40,"th"),e.\u0275\u0275text(41,"Sr No"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(42,"th"),e.\u0275\u0275text(43,"Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(44,"th"),e.\u0275\u0275text(45,"Guardian"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(46,"th"),e.\u0275\u0275text(47,"Refer Id"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(48,"th"),e.\u0275\u0275text(49,"Direct Ref"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(50,"th"),e.\u0275\u0275text(51,"InDirect Ref"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(52,"th"),e.\u0275\u0275text(53,"Account Number"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(54,"th"),e.\u0275\u0275text(55,"Aadhar Number"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(56,"th",27),e.\u0275\u0275text(57,"Location"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(58,"th"),e.\u0275\u0275text(59,"Gender"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(60,"th"),e.\u0275\u0275text(61,"Age"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(62,"th"),e.\u0275\u0275text(63,"Payment Mode"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(64,"th",28),e.\u0275\u0275text(65,"Status"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(66,"th",28),e.\u0275\u0275text(67,"Action"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(68,"tbody"),e.\u0275\u0275template(69,Pe,48,28,"tr",29),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(70,"div",30)(71,"div",31)(72,"div",32),e.\u0275\u0275text(73,"Showing "),e.\u0275\u0275elementStart(74,"b"),e.\u0275\u0275text(75),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(76),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(77,"div",31)(78,"div",33)(79,"ngb-pagination",34),e.\u0275\u0275listener("pageChange",function(o){return n.page=o})("pageChange",function(o){return n.pageChange(o)}),e.\u0275\u0275elementEnd()()()()()()()()()()(),e.\u0275\u0275template(80,$e,23,4,"ng-template",35,36,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(82,Le,17,0,"ng-template",35,37,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(84,je,17,2,"ng-template",35,38,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(86,Ke,17,2,"ng-template",35,39,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(88,He,17,2,"ng-template",35,40,e.\u0275\u0275templateRefExtractor)),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("breadcrumbItems",n.breadCrumbItems),e.\u0275\u0275advance(6),e.\u0275\u0275property("formGroup",n.searchFormGroup),e.\u0275\u0275advance(14),e.\u0275\u0275property("ngForOf",n.statusList),e.\u0275\u0275advance(43),e.\u0275\u0275property("width",10),e.\u0275\u0275advance(2),e.\u0275\u0275property("width",10),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",n.userList),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate((n.page-1)*n.pageSize+1),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate2(" to ",n.findPageShowing()," of ",n.total," entries "),e.\u0275\u0275advance(3),e.\u0275\u0275property("collectionSize",n.total)("page",n.page)("pageSize",n.pageSize))},dependencies:[p.NgClass,p.NgForOf,p.NgIf,x.V,v.jt,v.iD,v.Vi,f.rH,f.yS,l._Y,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.On,l.F,l.sg,l.u,v.N9,p.TitleCasePipe,p.DatePipe],styles:[".user-name-link[_ngcontent-%COMP%]{text-decoration:underline;-webkit-text-decoration-style:dotted;text-decoration-style:dotted;-webkit-text-decoration-color:#007bff;text-decoration-color:#007bff;cursor:pointer}.user-name-link[_ngcontent-%COMP%]:hover{-webkit-text-decoration-color:#0056b3;text-decoration-color:#0056b3}.blink-red[_ngcontent-%COMP%]{-webkit-animation:blink-red 1s infinite;animation:blink-red 1s infinite}.dropdown-menu[_ngcontent-%COMP%]{z-index:1050!important}@-webkit-keyframes blink-red{0%,to{background-color:#dd9696;color:#fff}50%{color:transparent}}@keyframes blink-red{0%,to{background-color:#dd9696;color:#fff}50%{color:transparent}}"]}),i})();const Qe={chart:{height:300,type:"bar",toolbar:{show:!1}},plotOptions:{bar:{horizontal:!1,columnWidth:"14%",endingShape:"rounded"}},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},series:[{name:"Revenue",data:[0,0,0,0,0,0,38,58,92,0,0,0]}],xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},yaxis:{title:{text:"$ (thousands)"}},fill:{opacity:1},colors:["#556ee6"]};var H=g(1244),Ze=g(6892);function Xe(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",49),e.\u0275\u0275listener("mouseover",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(r.openAadhar())}),e.\u0275\u0275elementEnd()}}function et(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",49),e.\u0275\u0275listener("mouseover",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(r.openPan())}),e.\u0275\u0275elementEnd()}}function tt(i,a){1&i&&e.\u0275\u0275element(0,"i",34)}function nt(i,a){1&i&&e.\u0275\u0275element(0,"i",34)}function it(i,a){1&i&&e.\u0275\u0275element(0,"i",34)}function rt(i,a){1&i&&e.\u0275\u0275element(0,"i",34)}const lt=function(i,a,t,n,r){return{"badge-soft-primary":i,"badge-soft-warning":a,"badge-soft-danger":t,"badge-soft-secondary":n,"badge-soft-success":r}};function at(i,a){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"a",35),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(3,rt,1,0,"i",36),e.\u0275\u0275elementContainerEnd()),2&i){const t=a.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction5(4,lt,"Approved"===(null==t?null:t.status),"Requested"===(null==t?null:t.status),"Rejected"===(null==t?null:t.status),"Closed"===(null==t?null:t.status),"Disbursed"===(null==t?null:t.status))),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate2(" ",null==t?null:t.loan_id,"( ",null==t?null:t.status,") "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==t?null:t.status)}}function ot(i,a){1&i&&e.\u0275\u0275element(0,"i",34)}const $=function(i,a,t){return{"badge-soft-primary":i,"badge-soft-warning":a,"badge-soft-danger":t}};function st(i,a){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"a",35),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(3,ot,1,0,"i",36),e.\u0275\u0275elementContainerEnd()),2&i){const t=a.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction3(4,$,"Approved"===t.status,"Requested"===t.status,"Rejected"===t.status)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate2(" ",t.card_number,"(",t.status,") "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.status)}}function dt(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",50),e.\u0275\u0275element(1,"app-stat",51),e.\u0275\u0275elementEnd()),2&i){const t=a.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("title",t.title)("value",t.value)("icon",t.icon)}}function mt(i,a){if(1&i&&e.\u0275\u0275element(0,"apx-chart",52),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("series",t.revenueBarChart.series)("chart",t.revenueBarChart.chart)("xaxis",t.revenueBarChart.xaxis)("colors",t.revenueBarChart.colors)("yaxis",t.revenueBarChart.yaxis)("dataLabels",t.revenueBarChart.dataLabels)("stroke",t.revenueBarChart.stroke)("plotOptions",t.revenueBarChart.plotOptions)("fill",t.revenueBarChart.fill)}}const J=function(i){return{active:i}};function ct(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",3)(5,"div",7)(6,"div",8)(7,"h5",9),e.\u0275\u0275text(8,"Welcome Back !"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"p"),e.\u0275\u0275text(10,"Vertex Kalyan Coopertive Urban Thrift & Credit Society Ltd."),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(11,"div",10),e.\u0275\u0275element(12,"img",11),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(13,"div",12)(14,"div",3)(15,"div",13)(16,"div",14),e.\u0275\u0275element(17,"img",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"h5",16),e.\u0275\u0275text(19),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"p",17),e.\u0275\u0275text(21),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(22,"div",18)(23,"div",19)(24,"div",3)(25,"div",20)(26,"h5",21),e.\u0275\u0275text(27),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(28,"p",22),e.\u0275\u0275text(29,"Aadhar "),e.\u0275\u0275template(30,Xe,1,0,"i",23),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(31,"div",20)(32,"h5",21),e.\u0275\u0275text(33),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(34,"p",22),e.\u0275\u0275text(35,"PAN "),e.\u0275\u0275template(36,et,1,0,"i",23),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(37,"div",24)(38,"a",25),e.\u0275\u0275text(39,"View Transanction "),e.\u0275\u0275element(40,"i",26),e.\u0275\u0275elementEnd()()()()()()(),e.\u0275\u0275elementStart(41,"div",27)(42,"div",28)(43,"h4",29),e.\u0275\u0275text(44,"Personal Information"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(45,"div",30)(46,"table",31)(47,"tbody")(48,"tr")(49,"th",32),e.\u0275\u0275text(50,"Full Name :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(51,"td"),e.\u0275\u0275text(52),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(53,"tr")(54,"th",32),e.\u0275\u0275text(55,"Mobile :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(56,"td"),e.\u0275\u0275text(57),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(58,"tr")(59,"th",32),e.\u0275\u0275text(60,"E-mail :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(61,"td"),e.\u0275\u0275text(62),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(63,"tr")(64,"th",32),e.\u0275\u0275text(65,"Gender :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(66,"td"),e.\u0275\u0275text(67),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(68,"tr")(69,"th",32),e.\u0275\u0275text(70,"DOB :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(71,"td"),e.\u0275\u0275text(72),e.\u0275\u0275pipe(73,"date"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(74,"tr")(75,"th",32),e.\u0275\u0275text(76,"Registered On :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(77,"td"),e.\u0275\u0275text(78),e.\u0275\u0275pipe(79,"date"),e.\u0275\u0275elementEnd()()()()()()(),e.\u0275\u0275elementStart(80,"div",27)(81,"div",28)(82,"h4",29),e.\u0275\u0275text(83,"Account Status"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(84,"div",30)(85,"table",31)(86,"tbody")(87,"tr")(88,"th",32),e.\u0275\u0275text(89,"Active :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(90,"td")(91,"a",33),e.\u0275\u0275text(92),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(93,"i",34),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(94,"tr")(95,"th",32),e.\u0275\u0275text(96,"KYC :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(97,"td")(98,"a",35),e.\u0275\u0275text(99),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(100,tt,1,0,"i",36),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(101,"tr")(102,"th",32),e.\u0275\u0275text(103,"Advisor :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(104,"td")(105,"a",35),e.\u0275\u0275text(106),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(107,nt,1,0,"i",36),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(108,"tr")(109,"th",32),e.\u0275\u0275text(110,"Franchise :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(111,"td")(112,"a",35),e.\u0275\u0275text(113),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(114,it,1,0,"i",36),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(115,"tr")(116,"th",32),e.\u0275\u0275text(117,"Loan :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(118,"td"),e.\u0275\u0275template(119,at,4,10,"ng-container",37),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(120,"tr")(121,"th",32),e.\u0275\u0275text(122,"Card"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(123,"td"),e.\u0275\u0275template(124,st,4,8,"ng-container",37),e.\u0275\u0275elementEnd()()()()()()()(),e.\u0275\u0275elementStart(125,"div",38)(126,"div",3),e.\u0275\u0275template(127,dt,2,3,"div",39),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(128,"div",27)(129,"div",28)(130,"div",40)(131,"h4",29),e.\u0275\u0275text(132,"Transanction"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(133,"div",41)(134,"ul",42)(135,"li",43)(136,"a",44),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.monthlyreport())}),e.\u0275\u0275text(137,"Month"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(138,"li",43)(139,"a",44),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.weeklyreport())}),e.\u0275\u0275text(140,"Week"),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275template(141,mt,1,9,"apx-chart",45),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(142,"div",27)(143,"div",28)(144,"h4",29),e.\u0275\u0275text(145,"My Team Members"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(146,"div",46),e.\u0275\u0275element(147,"img",47),e.\u0275\u0275elementStart(148,"p",48),e.\u0275\u0275text(149,"No Team member found."),e.\u0275\u0275elementEnd()()()()()()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(17),e.\u0275\u0275propertyInterpolate("src",t.userDetails.profile_image||"assets/images/users/user_placeholder.png",e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.userDetails.name),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.userDetails.account_number||"-"),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate((null==t.kyc?null:t.kyc.aadhar)||"-"),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",null==t.kyc?null:t.kyc.aadhar_front),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate((null==t.kyc?null:t.kyc.pan)||"-"),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",null==t.kyc?null:t.kyc.pan_image),e.\u0275\u0275advance(16),e.\u0275\u0275textInterpolate(t.userDetails.name),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(t.userDetails.mobile_number||"-"),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(t.userDetails.email_id||"-"),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(t.userDetails.gender||"-"),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(73,29,null==t.userDetails?null:t.userDetails.date_of_birth)),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(79,31,t.userDetails.created_date)),e.\u0275\u0275advance(14),e.\u0275\u0275textInterpolate(t.userDetails.status),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction3(33,$,"Approved"===(null==t.kyc?null:t.kyc.status),"Requested"===(null==t.kyc?null:t.kyc.status),"Rejected"===(null==t.kyc?null:t.kyc.status))),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",null==t.kyc?null:t.kyc.status,""),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==t.kyc?null:t.kyc.status),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction3(37,$,"Approved"===t.userDetails.advisor_status,"Requested"===t.userDetails.advisor_status,"Rejected"===t.userDetails.advisor_status)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" Advisor ",t.userDetails.advisor_status," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.userDetails.advisor_status),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction3(41,$,"Approved"===t.userDetails.franchise_status,"Requested"===t.userDetails.franchise_status,"Rejected"===t.userDetails.franchise_status)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.userDetails.franchise_status," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.userDetails.franchise_status),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngForOf",t.loans),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngForOf",t.creditCards),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",t.statData),e.\u0275\u0275advance(9),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(45,J,"month"===t.isActive)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(47,J,"week"===t.isActive)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.revenueBarChart&&t.revenueBarChart.chart&&t.revenueBarChart.series)}}let pt=(()=>{class i{constructor(t,n,r){this.usersService=t,this.router=n,this.route=r,this.userDetails=null,this.loans=[],this.creditCards=[],this.kyc=null,this.totalCDeposit=0,this.totalRDeposit=0,this.totalFDeposit=0,this.totalLoans=0,this.isActive="week",this.totalCreditCards=0,this.monthlySummary=[],this.weeklySummary=[],this.statData=[{icon:"bx bx-check-circle",title:"Complusory Deposit",value:"\u20b9 0"},{icon:"bx bx-hourglass",title:"Recurring Deposit",value:"\u20b9 0"},{icon:"bx bx-package",title:"Fixed Deposit",value:"\u20b9 0"},{icon:"bx bx-package",title:"Total Loans",value:"\u20b9 0"},{icon:"bx bx-package",title:"Total Credit Cards",value:"\u20b9 0"}];const o=this.route.snapshot.paramMap.get("user")||"";this.getUserDetails(o)}ngOnInit(){this.breadCrumbItems=[{label:"Members"},{label:"Profile",active:!0}],this.revenueBarChart=Qe}getUserDetails(t){this.usersService.getUserDashboard(t).subscribe(n=>{n&&n.data&&(this.userDetails=n.data.user,this.loans=n.data.loan||[],this.creditCards=n.data.creditCard||[],this.kyc=n.data.kyc||null,this.totalCDeposit=n.data.totalCDeposit||0,this.totalRDeposit=n.data.totalRDeposit||0,this.totalFDeposit=n.data.totalFDeposit||0,this.totalLoans=n.data.totalLoans||0,this.totalCreditCards=n.data.totalCreditCards||0,this.monthlySummary=n.data.monthlySummary||[],this.weeklySummary=n.data.weeklySummary||[],this.statData[0].value=`\u20b9 ${this.totalCDeposit}`,this.statData[1].value=`\u20b9 ${this.totalRDeposit}`,this.statData[2].value=`\u20b9 ${this.totalFDeposit}`,this.statData[3].value=`\u20b9 ${this.totalLoans}`,this.statData[4].value=`\u20b9 ${this.totalCreditCards}`,this.weeklyreport())},n=>{this.router.navigate(["/members"]),console.error("Error fetching user details:",n)})}openAadhar(){this.kyc?.aadhar_front&&u().fire({imageUrl:this.kyc?.aadhar_front,imageWidth:600,imageHeight:600,showConfirmButton:!1,customClass:{popup:"swal2-no-padding"},padding:0,backdrop:!0})}openPan(){this.kyc?.pan_image&&u().fire({imageUrl:this.kyc?.pan_image,imageWidth:600,imageHeight:600,showConfirmButton:!1,customClass:{popup:"swal2-no-padding"},padding:0,backdrop:!0})}weeklyreport(){this.isActive="week";const t=new Date,n=t.getFullYear(),r=t.getMonth(),o=new Date(n,r,1),s=new Date(n,r+1,0),d=[];let m=1,c=new Date(o);for(;c<=s;){let _=new Date(c);_.setDate(_.getDate()+6),_>s&&(_=new Date(s)),d.push(`Week ${m} (${c.getDate()}-${_.getDate()})`),m++,c=new Date(_),c.setDate(c.getDate()+1)}this.revenueBarChart.xaxis.categories=d,this.revenueBarChart.series=this.weeklySummary,this.revenueBarChart={...this.revenueBarChart,xaxis:{...this.revenueBarChart.xaxis,categories:d}},console.log(this.revenueBarChart)}monthlyreport(){this.isActive="month",this.revenueBarChart.series=this.monthlySummary,this.revenueBarChart={...this.revenueBarChart,xaxis:{...this.revenueBarChart.xaxis,categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}}}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(S.i),e.\u0275\u0275directiveInject(f.F0),e.\u0275\u0275directiveInject(f.gz))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["app-view-profile"]],decls:3,vars:2,consts:[[1,"container-fluid"],["title","Profile",3,"breadcrumbItems"],["class","row",4,"ngIf"],[1,"row"],[1,"col-xl-4"],[1,"card","overflow-hidden"],[1,"bg-soft","bg-primary"],[1,"col-7"],[1,"text-primary","p-3"],[1,"text-primary"],[1,"col-5","align-self-end"],["src","assets/images/profile-img.png","alt","",1,"img-fluid"],[1,"card-body","pt-0"],[1,"col-sm-4"],[1,"avatar-md","profile-user-wid","mb-4"],["alt","",1,"img-thumbnail","rounded-circle",2,"object-fit","cover","width","80px","height","80px",3,"src"],[1,"font-size-15","text-truncate"],[1,"text-muted","mb-0","text-truncate"],[1,"col-sm-8"],[1,"pt-4"],[1,"col-6"],[1,"font-size-15"],[1,"text-muted","mb-0"],["class","bx bx-info-circle",3,"mouseover",4,"ngIf"],[1,"mt-4"],["href","javascript: void(0);",1,"btn","btn-primary","btn-sm"],[1,"mdi","mdi-arrow-right","ms-1"],[1,"card"],[1,"card-body"],[1,"card-title","mb-4"],[1,"table-responsive"],[1,"table","table-nowrap","mb-0"],["scope","row"],["href","javascript: void(0);",1,"badge","badge-soft-primary","font-size-11","m-1"],[1,"mdi","mdi-cursor-default-click"],["href","javascript: void(0);",1,"badge","font-size-11","m-1",3,"ngClass"],["class","mdi mdi-cursor-default-click",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"col-xl-8"],["class","col-md-4",4,"ngFor","ngForOf"],[1,"d-sm-flex","flex-wrap"],[1,"ms-auto"],[1,"nav","nav-pills"],[1,"nav-item"],["href","javascript: void(0);",1,"nav-link",3,"ngClass","click"],["dir","ltr","class","apex-charts",3,"series","chart","xaxis","colors","yaxis","dataLabels","stroke","plotOptions","fill",4,"ngIf"],[1,"d-flex","flex-column","justify-content-center","align-items-center",2,"min-height","150px"],["src","assets/img/not-found.png","width","300px","alt",""],[1,"text-mutes","mt-2"],[1,"bx","bx-info-circle",3,"mouseover"],[1,"col-md-4"],[3,"title","value","icon"],["dir","ltr",1,"apex-charts",3,"series","chart","xaxis","colors","yaxis","dataLabels","stroke","plotOptions","fill"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-page-title",1),e.\u0275\u0275template(2,ct,150,49,"div",2),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("breadcrumbItems",n.breadCrumbItems),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.userDetails))},dependencies:[p.NgClass,p.NgForOf,p.NgIf,x.V,H.x,Ze.j,p.DatePipe]}),i})();var Q=g(3321);function ut(i,a){1&i&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"SELF PHOTO"),e.\u0275\u0275elementEnd())}function _t(i,a){if(1&i&&e.\u0275\u0275element(0,"img",81),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275propertyInterpolate("src",t.selected_photo,e.\u0275\u0275sanitizeUrl)}}function gt(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",24)(1,"label",82),e.\u0275\u0275text(2,"Wife/Husband Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",26)(4,"span"),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()()()),2&i){const t=e.\u0275\u0275nextContext(2);let n;e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(null==(n=t.profileFormGroup.get("spouse_name"))?null:n.value)}}function ft(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",83)(1,"div",84)(2,"span",75),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()()()),2&i){const t=a.$implicit;let r;e.\u0275\u0275property("formGroupName",a.index),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate4("",null==(r=t.get("address"))?null:r.value,", ",null==(r=t.get("state"))?null:r.value,", ",null==(r=t.get("district"))?null:r.value,", ",null==(r=t.get("pincode"))?null:r.value,"")}}function vt(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",83)(1,"div",84)(2,"span",75),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()()()),2&i){const t=a.$implicit;let r;e.\u0275\u0275property("formGroupName",a.index),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate4("",null==(r=t.get("address"))?null:r.value,", ",null==(r=t.get("state"))?null:r.value,", ",null==(r=t.get("district"))?null:r.value,", ",null==(r=t.get("pincode"))?null:r.value,"")}}function ht(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",83)(1,"div",84)(2,"span",75),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()()()),2&i){const t=a.$implicit;let r;e.\u0275\u0275property("formGroupName",a.index),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate4("",null==(r=t.get("address"))?null:r.value,", ",null==(r=t.get("state"))?null:r.value,", ",null==(r=t.get("district"))?null:r.value,", ",null==(r=t.get("pincode"))?null:r.value,"")}}function xt(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",85)(1,"div",86)(2,"span",75)(3,"strong"),e.\u0275\u0275text(4,"Bank Name :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"div",86)(7,"span",75)(8,"strong"),e.\u0275\u0275text(9,"Account Number :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(10),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(11,"div",86)(12,"span",75)(13,"strong"),e.\u0275\u0275text(14,"IFSC Code :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(15),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(16,"div",86)(17,"span",75)(18,"strong"),e.\u0275\u0275text(19,"Branch Name :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(20),e.\u0275\u0275elementEnd()()()),2&i){const t=a.$implicit;let r,o,s,d;e.\u0275\u0275property("formGroupName",a.index),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",null==(r=t.get("bank_name"))?null:r.value,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",null==(o=t.get("account_number"))?null:o.value,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",null==(s=t.get("ifsc_code"))?null:s.value,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",null==(d=t.get("branch_name"))?null:d.value,"")}}function St(i,a){1&i&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"UPLOAD Passbook/Cheque"),e.\u0275\u0275elementEnd())}function bt(i,a){if(1&i&&e.\u0275\u0275element(0,"img",81),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275propertyInterpolate("src",t.selected_cheque,e.\u0275\u0275sanitizeUrl)}}function Ct(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",87)(1,"label",88),e.\u0275\u0275text(2,"Disability Type"),e.\u0275\u0275elementEnd()())}function yt(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",41)(1,"span",75),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&i){const t=e.\u0275\u0275nextContext(2);let n;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==(n=t.profileFormGroup.get("disability_type"))?null:n.value)}}function Et(i,a){if(1&i&&e.\u0275\u0275element(0,"img",81),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275propertyInterpolate("src",t.selected_signature,e.\u0275\u0275sanitizeUrl)}}function It(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",89),e.\u0275\u0275text(1," Please correct the errors above before submitting the form. "),e.\u0275\u0275elementEnd())}function wt(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",3)(1,"div",4)(2,"div",5)(3,"form",6)(4,"div",7)(5,"div",8),e.\u0275\u0275element(6,"img",9),e.\u0275\u0275elementStart(7,"p"),e.\u0275\u0275text(8,"VERTEX KALYAN COOPERTIVE URBAN THRIFT & CREDIT SOCIETY LTD. REGISTERED UNDER GOVERMENT OF INDIA, REGD. NO.- REGD.OFFICE- PLOT NO.-53, 3RD, FLOOR, MAIN ROAD, OPP. MOTHER DAIRY, PANDAV NAGAR, EAST DELHI- 110092, "),e.\u0275\u0275elementStart(9,"a",10),e.\u0275\u0275text(10,"WWW.VERTEXSOCIETY.COM"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(11,"hr",11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",12)(13,"div",13)(14,"strong"),e.\u0275\u0275text(15,"USER ID:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(16),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div",14),e.\u0275\u0275text(18,"Membership Details"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"div",13)(20,"strong"),e.\u0275\u0275text(21,"ACCOUNT NO:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(22),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(23,"div",15)(24,"div",16)(25,"p",17),e.\u0275\u0275text(26,"To,"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(27,"p",18),e.\u0275\u0275text(28,"The Secretary/President,"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"p",18),e.\u0275\u0275text(30,"VERTEX KALYAN COOPERTIVE URBAN THRIFT & CREDIT SOCIETY LTD."),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(31,"div",19)(32,"div",20),e.\u0275\u0275template(33,ut,2,0,"span",21),e.\u0275\u0275template(34,_t,1,1,"img",22),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(35,"div",3)(36,"p",18),e.\u0275\u0275text(37,"Dear Sir/Madam,"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(38,"p"),e.\u0275\u0275text(39,"\xa0\xa0\xa0\xa0 I willingly apply for admission as a member of your society. I understand all the Rules & regulation of the Society and I follow all Rules & regulation of society. Do hereby declare that all documents and information given by me below is True to the best of my knowledge and belief. I understand that any false information or violation of the cooperative rules may result in cancellation of my membership."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(40,"p",18),e.\u0275\u0275text(41,' \u092e" \u0906\u092a\u0915& \u0938\u094b\u0938\u093e\u092f\u091f, \u0915\u0947 \u0938\u0926/\u092f \u0915\u0947 0\u092a \u092e1 2\u0935\u0947\u0936 \u0915\u0947 5\u0932\u090f /\u0935\u09478\u091b\u093e \u0938\u0947 \u0906\u0935\u0947\u0926\u0928 \u0915\u0930\u0924\u093e \u0939\u0942\u0901\u0964 \u092e" \u0938\u094b\u0938\u093e\u092f\u091f, \u0915\u0947 \u0938\u092d\u0940 C\u0928\u092f\u092eD \u0914\u0930 F\u0935C\u0928\u092f\u092eD \u0915\u094b \u0938\u092e\u091d\u0924\u093e \u0939\u0942\u0901 \u0914\u0930 \u0938\u094b\u0938\u093e\u092f\u091f, \u0915\u0947 \u0938\u092d\u0940 C\u0928\u092f\u092eD \u0914\u0930 F\u0935C\u0928\u092f\u092eD \u0915\u093e \u092a\u093e\u0932\u0928 \u0915\u0930\u0924\u093e \u0939\u0942\u0901\u0964 \u092e" \u090f\u0924HH\u0935\u093e\u0930\u093e \u0918\u094b\u0937\u0923\u093e \u0915\u0930\u0924\u093e \u0939\u0942\u0901 L\u0915 \u092e\u0947\u0930\u0947 H\u0935\u093e\u0930\u093e \u0928\u0940\u091a\u0947 N\u0926\u090f \u0917\u090f \u0938\u092d\u0940 \u0926/\u0924\u093e\u0935\u0947\u091c\u093c \u0914\u0930 \u091c\u093e\u0928\u0915\u093e\u0930, \u092e\u0947\u0930\u0947 \u0938\u0935RS\u092e T\u093e\u0928 \u0914\u0930 F\u0935U\u0935\u093e\u0938 \u0915\u0947 \u0905\u0928\u0941\u0938\u093e\u0930 \u0938X\u092f \u0939"\u0964 \u092e" \u0938\u092e\u091d\u0924\u093e \u0939\u0942\u0901 L\u0915 L\u0915\u0938\u0940 \u092d\u0940 \u0917\u0932\u0924 \u091c\u093e\u0928\u0915\u093e\u0930, \u092f\u093e \u0938\u0939\u0915\u093e\u0930, C\u0928\u092f\u092eD \u0915\u0947 \u0909Z\u0932\u0902\u0918\u0928 \u0915\u0947 \u092a\\\u0930\u0923\u093e\u092e/\u09350\u092a \u092e\u0947\u0930, \u0938\u0926/\u092f\u0924\u093e \u0930H\u0926 \u0939\u094b \u0938\u0915\u0924\u0940 \u0939\u0948\u0964 '),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(42,"div",23)(43,"div",24)(44,"label",25),e.\u0275\u0275text(45,"Name of Applicant, Mr./Mrs./Miss "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(46,"div",26)(47,"span"),e.\u0275\u0275text(48),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(49,"div",24)(50,"label",27),e.\u0275\u0275text(51,"Guardian Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(52,"div",26)(53,"span"),e.\u0275\u0275text(54),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(55,"label",28),e.\u0275\u0275text(56,"Relationship"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(57,"div",29)(58,"span"),e.\u0275\u0275text(59),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(60,"div",24)(61,"label",30),e.\u0275\u0275text(62,"Mother Name "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(63,"div",26)(64,"span"),e.\u0275\u0275text(65),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(66,"div",24)(67,"label",31),e.\u0275\u0275text(68,"Date of birth "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(69,"div",26)(70,"span"),e.\u0275\u0275text(71),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(72,"label",31),e.\u0275\u0275text(73),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(74,"div",24)(75,"label",32),e.\u0275\u0275text(76,"Gender"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(77,"div",33)(78,"span"),e.\u0275\u0275text(79),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(80,"div",24)(81,"label",32),e.\u0275\u0275text(82,"Marital Status"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(83,"div",33)(84,"span"),e.\u0275\u0275text(85),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(86,gt,6,1,"div",34),e.\u0275\u0275elementStart(87,"div",24)(88,"label",35),e.\u0275\u0275text(89,"Aadhar Number"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(90,"div",36)(91,"span"),e.\u0275\u0275text(92),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(93,"div",37)(94,"div",38),e.\u0275\u0275element(95,"img",39),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(96,"div",37)(97,"div",38),e.\u0275\u0275element(98,"img",39),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(99,"div",24)(100,"label",40),e.\u0275\u0275text(101,"PAN Number"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(102,"div",36)(103,"span"),e.\u0275\u0275text(104),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(105,"div",41),e.\u0275\u0275elementStart(106,"div",37)(107,"div",38),e.\u0275\u0275element(108,"img",39),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(109,"div",24)(110,"label",42),e.\u0275\u0275text(111,"Mobile Number"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(112,"div",29)(113,"span"),e.\u0275\u0275text(114),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(115,"div",24)(116,"label",43),e.\u0275\u0275text(117,"Location Details"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(118,"div",44)(119,"div",45)(120,"label",46),e.\u0275\u0275text(121,"State"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(122,"div",47)(123,"label",46),e.\u0275\u0275text(124,"District"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(125,"div",47)(126,"label",46),e.\u0275\u0275text(127,"Area"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(128,"div",24)(129,"label",48),e.\u0275\u0275text(130,"Present/Correspondance Address"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(131,"div",49)(132,"div",50),e.\u0275\u0275template(133,ft,4,5,"div",51),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(134,"div",24)(135,"label",52),e.\u0275\u0275text(136,"Permanent Address"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(137,"div",49)(138,"div",53),e.\u0275\u0275template(139,vt,4,5,"div",51),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(140,"div",24)(141,"label",54),e.\u0275\u0275text(142,"Email ID"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(143,"div",29)(144,"span"),e.\u0275\u0275text(145),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(146,"div",24)(147,"label",55),e.\u0275\u0275text(148,"WhatsApp No."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(149,"div",29)(150,"span"),e.\u0275\u0275text(151),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(152,"p")(153,"u"),e.\u0275\u0275text(154,"Name & Address of the employed or business address"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(155,"div",24)(156,"label",56),e.\u0275\u0275text(157,"Office Address"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(158,"div",49)(159,"div",57),e.\u0275\u0275template(160,ht,4,5,"div",51),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(161,"div",24)(162,"label",58),e.\u0275\u0275text(163,"Bank Details"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(164,"div",49)(165,"div",59),e.\u0275\u0275template(166,xt,21,5,"div",60),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(167,"div",24)(168,"label",32),e.\u0275\u0275text(169,"Passbook/Cheque"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(170,"div",61)(171,"div",62),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275reference(175);return e.\u0275\u0275resetView(r.click())}),e.\u0275\u0275template(172,St,2,0,"span",21),e.\u0275\u0275template(173,bt,1,1,"img",22),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(174,"input",63,64),e.\u0275\u0275listener("change",function(r){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.onSelfPassbookSelected(r))}),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(176,"div",65)(177,"label",32),e.\u0275\u0275text(178,"Name of the Nominee"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(179,"div",26)(180,"span"),e.\u0275\u0275text(181),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(182,"label",66),e.\u0275\u0275text(183,"Relationship"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(184,"div",26)(185,"span"),e.\u0275\u0275text(186),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(187,"div",65)(188,"label",32),e.\u0275\u0275text(189,"Nominee DOB"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(190,"div",26)(191,"span"),e.\u0275\u0275text(192),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(193,"label",66),e.\u0275\u0275text(194,"Nominee Mobile"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(195,"div",26)(196,"span"),e.\u0275\u0275text(197),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(198,"div",24)(199,"label",32),e.\u0275\u0275text(200,"Are you disability?"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(201,"div",33)(202,"div",67),e.\u0275\u0275element(203,"input",68),e.\u0275\u0275elementStart(204,"label",69),e.\u0275\u0275text(205," Yes "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(206,"div",70),e.\u0275\u0275element(207,"input",71),e.\u0275\u0275elementStart(208,"label",72),e.\u0275\u0275text(209," No "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(210,Ct,3,0,"div",73),e.\u0275\u0275template(211,yt,3,1,"div",74),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(212,"div",24)(213,"label",32),e.\u0275\u0275text(214,"Occupation"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(215,"div",33)(216,"span",75),e.\u0275\u0275text(217),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(218,"p",18),e.\u0275\u0275text(219," NOTE :- I apply for admission as a member of your society. I understand the Rules & By-laws of the Society and hereby agree to abide by them and any subsequent modifications thereto. I also hereby declare that I am neither a member of any other Co- operative Thrift & Credit Society operating or working in the State of Delhi nor taken any kind of Loan which is outstanding as on date. I request that the Managing Committee may please allot me ____ Shares of Rs. 500/- each and I also agree to deposit Rs. 200/- per month on account of Compulsory Deposit as well as Admission Fee of Rs. 100/- and other sums towards Building Fund, Welfare Fund, Miscellaneous Receipts etc. as applicable on the date of my admission as Member. I hereby nominate the following person to whom all money due to me by the society or payable by me to the society, in the event of my death, maybe paid or recovered as the case may be. "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(220,"div",76)(221,"p",18),e.\u0275\u0275text(222,"I request that the mamaging committee may please allot me one share of rs.-500/-, and i also other sums towards building fund, kalyan fund, misc. ect., as applicable on the date of my admission as member. i hereby nominate the following person to whom all money due to me by the society or payable by me to the society,in the event of my death, may be paid or recovered, as the case may be."),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(223,"div",77)(224,"p",78)(225,"strong"),e.\u0275\u0275text(226,"Date of Joining : "),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(227),e.\u0275\u0275element(228,"br"),e.\u0275\u0275elementStart(229,"strong"),e.\u0275\u0275text(230,"Place : "),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(231),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(232,"div",37)(233,"div",79),e.\u0275\u0275template(234,Et,1,1,"img",22),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(235,It,2,0,"div",80),e.\u0275\u0275elementEnd()()()()()}if(2&i){const t=e.\u0275\u0275nextContext();let n,r,o,s,d,m,c,_,E,q,G,P,M,C,B,O,z,w,D,F,k,A,T,N,R;e.\u0275\u0275advance(3),e.\u0275\u0275property("formGroup",t.profileFormGroup),e.\u0275\u0275advance(13),e.\u0275\u0275textInterpolate1(" ",null==t.user_details?null:t.user_details.user_id,""),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1(" ",null==t.user_details?null:t.user_details.account_number,""),e.\u0275\u0275advance(11),e.\u0275\u0275property("ngIf",!t.selected_photo),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.selected_photo),e.\u0275\u0275advance(14),e.\u0275\u0275textInterpolate(null==(n=t.profileFormGroup.get("name"))?null:n.value),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(null==(r=t.profileFormGroup.get("guardian_name"))?null:r.value),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(null==(o=t.profileFormGroup.get("guardian_relation"))?null:o.value),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(null==(s=t.profileFormGroup.get("mother_name"))?null:s.value),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(null==(d=t.profileFormGroup.get("date_of_birth"))?null:d.value),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("(Age: ",t.userAge," years)"),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(null==(m=t.profileFormGroup.get("gender"))?null:m.value),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(null==(c=t.profileFormGroup.get("maritial_status"))?null:c.value),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Married"===(null==(_=t.profileFormGroup.get("maritial_status"))?null:_.value)),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(null==(E=t.profileFormGroup.get("aadhar"))?null:E.value),e.\u0275\u0275advance(3),e.\u0275\u0275propertyInterpolate("src",null==(q=t.profileFormGroup.get("aadhar_front"))?null:q.value,e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(3),e.\u0275\u0275propertyInterpolate("src",null==(G=t.profileFormGroup.get("aadhar_back"))?null:G.value,e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(null==(P=t.profileFormGroup.get("pan"))?null:P.value),e.\u0275\u0275advance(4),e.\u0275\u0275propertyInterpolate("src",null==(M=t.profileFormGroup.get("pan_image"))?null:M.value,e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate2("",null==(C=t.profileFormGroup.get("mobile_number"))?null:C.value,", ",null==(C=t.profileFormGroup.get("mobile_number_2"))?null:C.value,""),e.\u0275\u0275advance(19),e.\u0275\u0275property("ngForOf",t.profileFormGroup.get("present_addresses").controls),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngForOf",t.profileFormGroup.get("permanent_addresses").controls),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(null==(B=t.profileFormGroup.get("email_id"))?null:B.value),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(null==(O=t.profileFormGroup.get("whatsapp_no"))?null:O.value),e.\u0275\u0275advance(9),e.\u0275\u0275property("ngForOf",t.profileFormGroup.get("office_addresses").controls),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngForOf",t.profileFormGroup.get("banks").controls),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",!t.selected_cheque),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.selected_cheque),e.\u0275\u0275advance(8),e.\u0275\u0275textInterpolate(null==(z=t.profileFormGroup.get("nominee_name"))?null:z.value),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(null==(w=t.profileFormGroup.get("nominee_relation"))?null:w.value),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(null==(D=t.profileFormGroup.get("nominee_dob"))?null:D.value),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(null==(F=t.profileFormGroup.get("nominee_mobile"))?null:F.value),e.\u0275\u0275advance(6),e.\u0275\u0275property("value",!0),e.\u0275\u0275advance(4),e.\u0275\u0275property("value",!1),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",null==(k=t.profileFormGroup.get("is_divyang"))?null:k.value),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(A=t.profileFormGroup.get("is_divyang"))?null:A.value),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(null==(T=t.profileFormGroup.get("occupation"))?null:T.value),e.\u0275\u0275advance(10),e.\u0275\u0275textInterpolate1(" ",null==(N=t.profileFormGroup.get("created_date"))?null:N.value," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",null==(R=t.profileFormGroup.get("signed_at"))?null:R.value," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",t.selected_signature),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.profileFormGroup.invalid&&t.profileFormGroup.touched)}}let Dt=(()=>{class i{constructor(t,n,r,o,s,d){this.modalService=t,this.usersService=n,this.toast=r,this.masterService=o,this.router=s,this.route=d,this.maritalStatus="",this.viewImageURL="",this.user_details=null,this.user=null,this.selected_photo=null,this.selected_signature=null,this.userAge=0,this.allStates=[],this.allDistricts=[],this.allAreas=[],this.selected_cheque=null,this.nominee_relation=["Father","Mother","Brother","Sister","Wife","Husband","Son","Daughter"],this.user=this.route.snapshot.paramMap.get("user")||""}ngOnInit(){this.breadCrumbItems=[{label:"Members"},{label:"Edit Profile",active:!0}],this.getStates(),this.profileFormGroup=new l.cw({_id:new l.NI("",[l.kI.required]),name:new l.NI({value:"",disabled:!0},[l.kI.minLength(2)]),father_or_husband_name:new l.NI("",[l.kI.minLength(2)]),mother_name:new l.NI("",[l.kI.minLength(2)]),maritial_status:new l.NI(null),spouse_name:new l.NI("",[l.kI.minLength(2)]),email_id:new l.NI("",[l.kI.email]),nominee_dob:new l.NI(""),mobile_number_2:new l.NI("",[l.kI.pattern("^[6-9][0-9]{9}$")]),whatsapp_no:new l.NI(null,[l.kI.pattern("^[6-9][0-9]{9}$")]),account_number:new l.NI({value:"",disabled:!0},[l.kI.pattern("^[0-9]{9,18}$")]),user_id:new l.NI({value:"",disabled:!0}),mobile_number:new l.NI("",[l.kI.pattern("^[6-9][0-9]{9}$")]),gender:new l.NI(""),date_of_birth:new l.NI({value:"",disabled:!0}),guardian_name:new l.NI("",[l.kI.minLength(2)]),guardian_relation:new l.NI(""),nominee_name:new l.NI("",[l.kI.minLength(2)]),nominee_relation:new l.NI(""),nominee_mobile:new l.NI("",[l.kI.pattern("^[6-9][0-9]{9}$")]),profile_image:new l.NI(""),is_divyang:new l.NI(!1),occupation:new l.NI(null,[l.kI.minLength(2)]),aadhar:new l.NI("",[l.kI.pattern("^[0-9]{12}$")]),pan:new l.NI("",[l.kI.pattern("^[A-Z]{5}[0-9]{4}[A-Z]{1}$")]),pan_image:new l.NI(""),aadhar_front:new l.NI(""),aadhar_back:new l.NI(""),signature:new l.NI(""),signed_at:new l.NI(""),created_date:new l.NI({value:"",disabled:!0}),present_area:new l.NI(""),permanent_area:new l.NI(""),passbook_cheque:new l.NI(""),disability_image:new l.NI(""),state:new l.NI(""),district:new l.NI(""),area:new l.NI(""),present_addresses:new l.Oe([new l.cw({_id:new l.NI(null),address:new l.NI(""),state:new l.NI(""),district:new l.NI(""),pincode:new l.NI("",[l.kI.pattern("^[0-9]{6}$")])})]),permanent_addresses:new l.Oe([new l.cw({_id:new l.NI(null),address:new l.NI(""),state:new l.NI(""),district:new l.NI(""),pincode:new l.NI("",[l.kI.pattern("^[0-9]{6}$")])})]),office_addresses:new l.Oe([new l.cw({_id:new l.NI(null),address:new l.NI(""),state:new l.NI(""),district:new l.NI(""),pincode:new l.NI("",[l.kI.pattern("^[0-9]{6}$")])})]),banks:new l.Oe([new l.cw({_id:new l.NI(null),bank_name:new l.NI(""),account_number:new l.NI("",[l.kI.pattern("^[0-9]{9,18}$")]),ifsc_code:new l.NI("",[l.kI.pattern("^[A-Z]{4}[0-9]{7}$")]),branch_name:new l.NI("")})])}),this.getProfile()}addPresentAddress(){this.profileFormGroup.get("present_addresses").push(new l.cw({_id:new l.NI(null),address:new l.NI(""),state:new l.NI(""),district:new l.NI(""),pincode:new l.NI("",[l.kI.pattern("^[0-9]{6}$")])}))}removePresentAddress(t){const n=this.profileFormGroup.get("present_addresses");n.length>1?n.removeAt(t):this.toast.error("At least one address is required.")}addPermanentAddress(){this.profileFormGroup.get("permanent_addresses").push(new l.cw({_id:new l.NI(null),address:new l.NI(""),state:new l.NI(""),district:new l.NI(""),pincode:new l.NI("",[l.kI.pattern("^[0-9]{6}$")])}))}removePermanentAddress(t){const n=this.profileFormGroup.get("permanent_addresses");n.length>1?n.removeAt(t):this.toast.error("At least one address is required.")}addOfficeAddress(){this.profileFormGroup.get("office_addresses").push(new l.cw({_id:new l.NI(null),address:new l.NI(""),state:new l.NI(""),district:new l.NI(""),pincode:new l.NI("",[l.kI.pattern("^[0-9]{6}$")])}))}removeOfficeAddress(t){const n=this.profileFormGroup.get("office_addresses");n.length>1?n.removeAt(t):this.toast.error("At least one office address is required.")}addBank(){this.profileFormGroup.get("banks").push(new l.cw({_id:new l.NI(null),bank_name:new l.NI("",[l.kI.required]),account_number:new l.NI("",[l.kI.required,l.kI.pattern("^[0-9]{9,18}$")]),ifsc_code:new l.NI("",[l.kI.required,l.kI.pattern("^[A-Z]{4}[0-9]{7}$")]),branch_name:new l.NI("",[l.kI.required])}))}removeBank(t){const n=this.profileFormGroup.get("banks");n.length>1?n.removeAt(t):this.toast.error("At least one bank account is required.")}uploadFile(t,n){const r=t.target.files&&t.target.files[0];if(r){const o=new FileReader;o.onload=()=>{const s=o.result,d=new Image;d.onload=()=>{const m=document.createElement("canvas");m.width=.7*d.width,m.height=.7*d.height,m.getContext("2d").drawImage(d,0,0,m.width,m.height);const _=m.toDataURL("image/jpeg",.5);this.profileFormGroup.patchValue({[n]:_}),console.log(`Selected ${n}:`,_)},d.src=s},o.readAsDataURL(r)}}getProfile(){console.log("Fetching user profile for user:",this.user),this.usersService.getUserById(this.user).subscribe({next:t=>{if(console.log("User Profile Response:",t),"success"===t.status){const n=t?.data?.user;this.user_details=n,this.profileFormGroup.patchValue(t.data.user),delete t?.data.user?.kyc._id,this.selected_photo=n?.profile_image||null,this.selected_cheque=n?.passbook_cheque||null,this.profileFormGroup.patchValue(t?.data.user?.kyc),n.state&&(this.getDistricts({_id:n.state}),this.getAreas({_id:n.district}),this.profileFormGroup.patchValue({state:n.state}),this.profileFormGroup.patchValue({district:n.district}));const r=n.addresses.filter(m=>"Present"===m.type&&m.status),o=n.addresses.filter(m=>"Permanent"===m.type&&m.status),s=n.addresses.filter(m=>"Office"===m.type&&m.status);if(r&&r.length>0){const m=this.profileFormGroup.get("present_addresses");m.clear(),r.forEach((c,_)=>{m.push(new l.cw({_id:new l.NI(c._id),state:new l.NI(c.state,[l.kI.required]),district:new l.NI(c.district,[l.kI.required]),address:new l.NI(c.address,[l.kI.required]),pincode:new l.NI(c.pincode,[l.kI.required,l.kI.pattern("^[0-9]{6}$")])}))})}if(o&&o.length>0){const m=this.profileFormGroup.get("permanent_addresses");m.clear(),o.forEach((c,_)=>{m.push(new l.cw({_id:new l.NI(c._id),state:new l.NI(c.state,[l.kI.required]),district:new l.NI(c.district,[l.kI.required]),address:new l.NI(c.address,[l.kI.required]),pincode:new l.NI(c.pincode,[l.kI.required,l.kI.pattern("^[0-9]{6}$")])}))})}if(s&&s.length>0){const m=this.profileFormGroup.get("office_addresses");m.clear(),s.forEach((c,_)=>{m.push(new l.cw({_id:new l.NI(c._id),state:new l.NI(c.state,[l.kI.required]),district:new l.NI(c.district,[l.kI.required]),address:new l.NI(c.address,[l.kI.required]),pincode:new l.NI(c.pincode,[l.kI.required,l.kI.pattern("^[0-9]{6}$")])}))})}if(n.bank&&n.bank.length>0){const m=this.profileFormGroup.get("banks");m.clear(),n.bank.forEach(c=>{m.push(new l.cw({_id:new l.NI(c._id),bank_name:new l.NI(c.bank_name,[l.kI.required]),account_number:new l.NI(c.account_number,[l.kI.required,l.kI.pattern("^[0-9]{9,18}$")]),ifsc_code:new l.NI(c.ifsc_code,[l.kI.required,l.kI.pattern("^[A-Z]{4}[0-9]{7}$")]),branch_name:new l.NI(c.branch_name,[l.kI.required])}))})}else{const m=this.profileFormGroup.get("banks");m.clear(),m.push(new l.cw({_id:new l.NI(null),bank_name:new l.NI("",[l.kI.required]),account_number:new l.NI("",[l.kI.required,l.kI.pattern("^[0-9]{9,18}$")]),ifsc_code:new l.NI("",[l.kI.required,l.kI.pattern("^[A-Z]{4}[0-9]{7}$")]),branch_name:new l.NI("",[l.kI.required])}))}const d=this.profileFormGroup.get("banks");if(d.length>n.bank.length)for(let m=d.length-1;m>=n.bank.length;m--)d.removeAt(m);this.calculateAge(n.date_of_birth),this.selected_signature=n?.signature||null,this.profileFormGroup.patchValue({date_of_birth:(0,p.formatDate)(new Date(n.date_of_birth),"dd-MM-yyyy","en")}),this.profileFormGroup.patchValue({created_date:(0,p.formatDate)(new Date(n.created_date),"dd-MM-yyyy","en")}),this.maritalStatus=t.data.marital_status}},error:t=>{console.error("Error fetching user profile:",t)}})}getStates(){this.masterService.states().subscribe({next:t=>{t&&t.data&&(this.allStates=t.data||[])},error:t=>{console.error("Error loading states:",t)}})}getDistricts(t){t?this.masterService.districts(t._id).subscribe({next:n=>{n&&n.data&&(this.allDistricts=n.data||[])},error:n=>{console.error("Error loading districts:",n)}}):this.allDistricts=[]}getAreas(t){t?this.masterService.areas(t._id).subscribe({next:n=>{n&&n.data&&(this.allAreas=n.data||[])},error:n=>{console.error("Error loading areas:",n)}}):this.allAreas=[]}calculateAge(t){const n=new Date(t),r=new Date;let o=r.getFullYear()-n.getFullYear();const s=r.getMonth()-n.getMonth();(s<0||0===s&&r.getDate()<n.getDate())&&o--,console.log("Calculated age:",o),this.userAge=o}onSelfPhotoSelected(t){const n=t.target.files&&t.target.files[0];if(n){const r=new FileReader;r.onload=()=>{const o=r.result,s=new Image;s.onload=()=>{const d=document.createElement("canvas");d.width=.7*s.width,d.height=.7*s.height,d.getContext("2d").drawImage(s,0,0,d.width,d.height);const c=d.toDataURL("image/jpeg",.5);this.selected_photo=c,console.log("Selected Self Photo:",c),this.profileFormGroup.patchValue({profile_image:c})},s.src=o},r.readAsDataURL(n)}}onSelfSignatureSelected(t){const n=t.target.files&&t.target.files[0];if(n){const r=new FileReader;r.onload=()=>{const o=r.result,s=new Image;s.onload=()=>{const d=document.createElement("canvas");d.width=.7*s.width,d.height=.7*s.height,d.getContext("2d").drawImage(s,0,0,d.width,d.height);const c=d.toDataURL("image/jpeg",.5);this.selected_signature=c,console.log("Signature:",c),this.profileFormGroup.patchValue({signature:c})},s.src=o},r.readAsDataURL(n)}}onSelfPassbookSelected(t){const n=t.target.files&&t.target.files[0];if(n){const r=new FileReader;r.onload=()=>{const o=r.result,s=new Image;s.onload=()=>{const d=document.createElement("canvas");d.width=.7*s.width,d.height=.7*s.height,d.getContext("2d").drawImage(s,0,0,d.width,d.height);const c=d.toDataURL("image/jpeg",.5);this.selected_cheque=c,this.profileFormGroup.patchValue({passbook_cheque:c})},s.src=o},r.readAsDataURL(n)}}viewImage(t,n){t?(this.viewImageURL=t,this.modalService.open(n,{size:"sm",centered:!0})):this.toast.error("No image available to view.")}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(v.FF),e.\u0275\u0275directiveInject(S.i),e.\u0275\u0275directiveInject(I._W),e.\u0275\u0275directiveInject(Q.R),e.\u0275\u0275directiveInject(f.F0),e.\u0275\u0275directiveInject(f.gz))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["app-edit-profile"]],decls:3,vars:2,consts:[[1,"container-fluid"],["title","Profile",3,"breadcrumbItems"],["class","col-lg-12",4,"ngIf"],[1,"col-lg-12"],[1,"card","a4-sheet"],[1,"card-body"],[3,"formGroup"],[1,"row","justify-content-center"],[1,"col-12"],["src","assets/images/logo-dark.png","alt","Logo",1,"img-fluid","mb-4",2,"width","100px"],["href","https://vertexsociety.com/"],[1,"line"],[1,"col-lg-12","mb-4","d-flex","justify-content-center","align-items-center","text-center"],[1,"flex-fill"],[1,"flex-fill","oval"],[1,"d-flex","align-items-end","mt-4"],[1,"col-lg-6","mb-1"],[1,"mb-2"],[1,"mb-0"],[1,"col-lg-6","d-flex","justify-content-end"],[1,"self-photo"],[4,"ngIf"],["alt","",3,"src",4,"ngIf"],[1,"col-lg-12","mt-4"],[1,"row","mb-4"],["for","name",1,"col-sm-3","col-form-label"],[1,"col-sm-2","d-flex","align-items-center"],["for","guardian_name",1,"col-sm-3","col-form-label"],["for","guardian_relation",1,"col-sm-2","col-form-label"],[1,"col-sm-3","d-flex","align-items-center"],["for","mother_name",1,"col-sm-3","col-form-label"],["for","date_of_birth",1,"col-sm-3","col-form-label"],[1,"col-sm-3","col-form-label"],[1,"col-sm-9","d-flex","align-items-center"],["class","row mb-4",4,"ngIf"],["for","aadhar",1,"col-sm-3","col-form-label"],[1,"col-sm-6","d-flex","align-items-center"],[1,"col-sm-6","d-flex","justify-content-end"],[1,"aadhar_box"],["alt","",2,"max-width","160px","max-height","160px",3,"src"],["for","pan",1,"col-sm-3","col-form-label"],[1,"col-sm-6"],["for","mobile_number",1,"col-sm-3","col-form-label"],["for","state",1,"col-sm-3","col-form-label"],[1,"row","col-sm-9"],[1,"col-sm-3","mb-1","d-flex","flex-column"],["for",""],[1,"col-sm-4","mb-1","d-flex","flex-column"],["for","present_addr",1,"col-sm-3","col-form-label"],[1,"col-sm-8"],["formArrayName","present_addresses"],["class","row mb-2",3,"formGroupName",4,"ngFor","ngForOf"],["for","permanent_addr",1,"col-sm-3","col-form-label"],["formArrayName","permanent_addresses"],["for","email_id",1,"col-sm-3","col-form-label"],["for","whatsapp_no",1,"col-sm-3","col-form-label"],["for","office_addr",1,"col-sm-3","col-form-label"],["formArrayName","office_addresses"],["for","bank_details",1,"col-sm-3","col-form-label"],["formArrayName","banks"],["class","row mb-2 align-items-end",3,"formGroupName",4,"ngFor","ngForOf"],[1,"col-sm-5","d-flex","align-items-center"],[1,"passbook_box",2,"cursor","pointer",3,"click"],["type","file",2,"display","none",3,"change"],["selfPassbookInput",""],[1,"row","mb-4","align-items-center"],[1,"col-sm-2","col-form-label"],[1,"form-check","me-3"],["type","radio","formControlName","is_divyang","name","is_divyang","id","disabilityYes","disabled","",1,"form-check-input",3,"value"],["for","disabilityYes",1,"form-check-label"],[1,"form-check"],["type","radio","formControlName","is_divyang","name","is_divyang","id","disabilityNo","disabled","",1,"form-check-input",3,"value"],["for","disabilityNo",1,"form-check-label"],["class","col-sm-2",4,"ngIf"],["class","col-sm-6",4,"ngIf"],[1,"form-control-plaintext"],[1,"col-lg-12","mt-4","mb-5"],[1,"row","mb-4","mt-6"],[1,"col-sm-6","col-form-label"],[1,"sign_box"],["class","alert alert-danger",4,"ngIf"],["alt","",3,"src"],["for","spouse_name",1,"col-sm-3","col-form-label"],[1,"row","mb-2",3,"formGroupName"],[1,"col-sm-12","mb-2"],[1,"row","mb-2","align-items-end",3,"formGroupName"],[1,"col-sm-12"],[1,"col-sm-2"],["for","disability_type"],[1,"alert","alert-danger"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-page-title",1),e.\u0275\u0275template(2,wt,236,42,"div",2),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("breadcrumbItems",n.breadCrumbItems),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.user_details))},dependencies:[p.NgForOf,p.NgIf,x.V,l._Y,l.Fj,l._,l.JJ,l.JL,l.sg,l.u,l.x0,l.CE],styles:[".line[_ngcontent-%COMP%]{width:100%;height:1px;background-color:#000;margin:10px 0}.self-photo[_ngcontent-%COMP%]{width:130px;height:170px;background-color:#f0f0f0;display:flex;justify-content:center;align-items:center;border-radius:5px;border:#000000 solid 1px}.self-photo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;-o-object-fit:cover;object-fit:cover;border-radius:5px}.sign_box[_ngcontent-%COMP%]{width:180px;height:50px;background-color:#f0f0f0;display:flex;justify-content:center;align-items:center;border-radius:5px;border:#000000 solid 1px}.sign_box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;-o-object-fit:cover;object-fit:cover;border-radius:5px}.passbook_box[_ngcontent-%COMP%]{width:100%;height:120px;background-color:#f0f0f0;display:flex;justify-content:center;align-items:center;border-radius:5px;border:#000000 solid 1px}.passbook_box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;-o-object-fit:cover;object-fit:cover;border-radius:5px}.aadhar_box[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#f0f0f0;display:flex;justify-content:center;align-items:center;border-radius:5px;border:#000000 solid 1px}.aadhar_box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;-o-object-fit:cover;object-fit:cover;border-radius:5px}.oval[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;border-radius:50%;border:#000000 solid 1px;box-shadow:0 4px 8px #00000026;width:50px;height:50px;font-size:14px;font-weight:700}@media (max-width: 50px),(max-height: 50px){.oval[_ngcontent-%COMP%]{font-size:16px;font-weight:600}}@media (max-width: 40px),(max-height: 40px){.oval[_ngcontent-%COMP%]{font-size:12px;font-weight:500}}.a4-sheet[_ngcontent-%COMP%]{width:210mm;min-height:297mm;max-width:100%;margin:0 auto;padding:14mm 12mm;background:#fff;box-shadow:0 0 5px #0000001a;box-sizing:border-box;position:relative}@media print{.a4-sheet[_ngcontent-%COMP%]{width:210mm!important;min-height:297mm!important;padding:24mm 18mm!important;box-shadow:none!important;background:#fff!important;margin:0!important}body[_ngcontent-%COMP%]{background:#fff!important}}"]}),i})();var L=g(2231);function Ft(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",66)(1,"div",67),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(3),o=e.\u0275\u0275reference(68);return e.\u0275\u0275resetView(r.openModal(o))}),e.\u0275\u0275elementStart(2,"button",68),e.\u0275\u0275element(3,"i",69),e.\u0275\u0275text(4," Setting "),e.\u0275\u0275elementEnd()()()}}function kt(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",66)(1,"div",67),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(3),o=e.\u0275\u0275reference(70);return e.\u0275\u0275resetView(r.openModal(o))}),e.\u0275\u0275elementStart(2,"button",70),e.\u0275\u0275element(3,"i",71),e.\u0275\u0275text(4," View Setting "),e.\u0275\u0275elementEnd()()()}}function At(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",64),e.\u0275\u0275template(1,Ft,5,0,"div",65),e.\u0275\u0275template(2,kt,5,0,"div",65),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.isSettingsAdded),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isSettingsAdded)}}function Tt(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",35)(4,"div",3)(5,"div",49)(6,"div",50)(7,"div",51),e.\u0275\u0275element(8,"img",52),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"div",53)(10,"div",54)(11,"p",55),e.\u0275\u0275text(12,"Welcome to Compulsory Deposit"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"h5",56),e.\u0275\u0275text(14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"p",57),e.\u0275\u0275text(16),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(17,"div",58)(18,"div",59)(19,"div",3)(20,"div",60)(21,"div")(22,"p",61),e.\u0275\u0275text(23,"Account Number"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"h5",57),e.\u0275\u0275text(25),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(26,"div",60)(27,"div")(28,"p",61),e.\u0275\u0275text(29,"Mobile No"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(30,"h5",57)(31,"a",62),e.\u0275\u0275text(32),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(33,"div",60)(34,"div")(35,"p",61),e.\u0275\u0275text(36,"Approved On "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(37,"h5",57),e.\u0275\u0275text(38),e.\u0275\u0275pipe(39,"date"),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275template(40,At,3,2,"div",63),e.\u0275\u0275elementEnd()()()()()),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(8),e.\u0275\u0275propertyInterpolate("src",t.profile.profile_image||"assets/images/users/user_placeholder.png",e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(t.profile.name),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.profile.user_id),e.\u0275\u0275advance(9),e.\u0275\u0275textInterpolate(t.profile.account_number),e.\u0275\u0275advance(6),e.\u0275\u0275propertyInterpolate1("href","tel:",t.profile.mobile_number,"",e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.profile.mobile_number),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1(" ",t.profile.approved_date?e.\u0275\u0275pipeBind1(39,8,t.profile.approved_date):"Not Approved"," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!t.userIsNotActive)}}function Nt(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",3)(1,"div",72)(2,"div",3)(3,"div",73)(4,"div",74)(5,"div",35)(6,"div",75)(7,"div",76)(8,"p",77),e.\u0275\u0275text(9,"Required Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"h5",57),e.\u0275\u0275text(11),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"div",78)(13,"div",79),e.\u0275\u0275element(14,"i",80),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275elementStart(15,"div",73)(16,"div",81)(17,"div",35)(18,"div",75)(19,"div",82)(20,"p",77),e.\u0275\u0275text(21,"Total Paid"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"h5",57),e.\u0275\u0275text(23),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(24,"div",78)(25,"div",79),e.\u0275\u0275element(26,"i",83),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275elementStart(27,"div",73)(28,"div",81)(29,"div",35)(30,"div",75)(31,"div",76)(32,"p",77),e.\u0275\u0275text(33,"Total Penalty"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(34,"h5",84),e.\u0275\u0275text(35),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(36,"div",78)(37,"div",85),e.\u0275\u0275element(38,"i",86),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275elementStart(39,"div",73)(40,"div",81)(41,"div",35)(42,"div",75)(43,"div",76)(44,"p",77),e.\u0275\u0275text(45,"Total Outstanding"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(46,"h5",87),e.\u0275\u0275text(47),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(48,"div",78)(49,"div",88),e.\u0275\u0275element(50,"i",89),e.\u0275\u0275elementEnd()()()()()()()()()),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(11),e.\u0275\u0275textInterpolate1("\u20b9",null==t.outstandingAmount?null:t.outstandingAmount.requiredAmount,""),e.\u0275\u0275advance(12),e.\u0275\u0275textInterpolate1("\u20b9",null==t.outstandingAmount?null:t.outstandingAmount.paidAmount,""),e.\u0275\u0275advance(12),e.\u0275\u0275textInterpolate1("\u20b9",t.totalPenalty,""),e.\u0275\u0275advance(12),e.\u0275\u0275textInterpolate1("\u20b9",(null==t.outstandingAmount?null:t.outstandingAmount.outstanding)+t.totalPenalty,"")}}function Rt(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"a",90),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(),o=e.\u0275\u0275reference(72);return e.\u0275\u0275resetView(r.openModal(o))}),e.\u0275\u0275text(1,"Add Deposit"),e.\u0275\u0275elementEnd()}}function Vt(i,a){1&i&&(e.\u0275\u0275elementStart(0,"a",91),e.\u0275\u0275element(1,"i",34),e.\u0275\u0275elementEnd())}function qt(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",92),e.\u0275\u0275element(1,"img",93),e.\u0275\u0275elementStart(2,"p",94),e.\u0275\u0275text(3,"No deposit found in current filter."),e.\u0275\u0275elementEnd()())}const Gt=function(i,a,t){return{"bg-success":i,"bg-warning":a,"bg-danger":t}};function Pt(i,a){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"tr")(2,"td"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"td"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"td"),e.\u0275\u0275text(8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"td"),e.\u0275\u0275text(10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"td"),e.\u0275\u0275text(12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"td"),e.\u0275\u0275text(14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"td")(16,"span",97),e.\u0275\u0275text(17),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementContainerEnd()),2&i){const t=a.$implicit,n=a.index;e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(n+1),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind2(6,8,t.transaction_date,"medium")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("\u20b9",t.paid_amount,""),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.payment_method),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.transanction_id),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.payment_interval),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction3(11,Gt,"Paid"===t.status,"Interest"===t.status,"Closed"===t.status)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.status," ")}}function Mt(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"table",95)(1,"thead")(2,"tr")(3,"th"),e.\u0275\u0275text(4,"S.No."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"th"),e.\u0275\u0275text(6,"Date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"th"),e.\u0275\u0275text(8,"Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"th"),e.\u0275\u0275text(10,"Payment Method"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"th"),e.\u0275\u0275text(12,"Transanction"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"th"),e.\u0275\u0275text(14,"Payment Interval"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"th"),e.\u0275\u0275text(16,"Status"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(17,"tbody"),e.\u0275\u0275template(18,Pt,18,15,"ng-container",96),e.\u0275\u0275elementEnd()()),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(18),e.\u0275\u0275property("ngForOf",t.allDepositLists)}}function Bt(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Annual Rate is required."),e.\u0275\u0275elementEnd())}function Ot(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Enter a valid number (e.g. 5, 7.25)."),e.\u0275\u0275elementEnd())}function zt(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",115),e.\u0275\u0275template(1,Bt,2,0,"small",116),e.\u0275\u0275template(2,Ot,2,0,"small",116),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);let n,r;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(n=t.saveDepositSettings.get("annual_rate"))||null==n.errors?null:n.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(r=t.saveDepositSettings.get("annual_rate"))||null==r.errors?null:r.errors.pattern)}}function $t(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",115)(1,"small"),e.\u0275\u0275text(2,"Payment interval is required."),e.\u0275\u0275elementEnd()())}function Lt(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Enter a valid number (e.g. 100, 2500.50)."),e.\u0275\u0275elementEnd())}function Ut(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",115),e.\u0275\u0275template(1,Lt,2,0,"small",116),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);let n;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(n=t.saveDepositSettings.get("penalty_amount"))||null==n.errors?null:n.errors.pattern)}}function jt(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Amount is required."),e.\u0275\u0275elementEnd())}function Yt(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Enter a valid number (e.g. 100, 2500.50)."),e.\u0275\u0275elementEnd())}function Kt(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Amount must be at least \u20b9300."),e.\u0275\u0275elementEnd())}function Wt(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",115),e.\u0275\u0275template(1,jt,2,0,"small",116),e.\u0275\u0275template(2,Yt,2,0,"small",116),e.\u0275\u0275template(3,Kt,2,0,"small",116),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);let n,r,o;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(n=t.saveDepositSettings.get("amount"))||null==n.errors?null:n.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(r=t.saveDepositSettings.get("amount"))||null==r.errors?null:r.errors.pattern),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(o=t.saveDepositSettings.get("amount"))||null==o.errors?null:o.errors.min)}}function Ht(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",98)(1,"h5",99),e.\u0275\u0275text(2,"Settings"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",100),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.dismiss("Cross click"))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"form",12)(5,"div",101)(6,"div",3)(7,"div",102)(8,"label",103),e.\u0275\u0275text(9,"Annual Rate (%)"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(10,"input",104),e.\u0275\u0275elementStart(11,"span",54),e.\u0275\u0275text(12,"Enter the yearly interest rate as a percentage"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(13,zt,3,2,"div",105),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"div",106)(15,"label",103),e.\u0275\u0275text(16,"Payment Interval"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"select",107)(18,"option",108),e.\u0275\u0275text(19,"Select Interval"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"option",109),e.\u0275\u0275text(21,"Monthly"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(22,$t,3,0,"div",105),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"div",106)(24,"label",103),e.\u0275\u0275text(25,"Penalty Amount (In Rupees)"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(26,"input",110),e.\u0275\u0275template(27,Ut,2,1,"div",105),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(28,"div",102)(29,"label",103),e.\u0275\u0275text(30,"Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(31,"input",111),e.\u0275\u0275template(32,Wt,4,3,"div",105),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(33,"div",112)(34,"button",113),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.close("Close click"))}),e.\u0275\u0275text(35,"Close"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(36,"button",114),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.setting())}),e.\u0275\u0275text(37,"Submit"),e.\u0275\u0275elementEnd()()()}if(2&i){const t=e.\u0275\u0275nextContext();let n,r,o,s;e.\u0275\u0275advance(4),e.\u0275\u0275property("formGroup",t.saveDepositSettings),e.\u0275\u0275advance(9),e.\u0275\u0275property("ngIf",(null==(n=t.saveDepositSettings.get("annual_rate"))?null:n.touched)&&(null==(n=t.saveDepositSettings.get("annual_rate"))?null:n.invalid)),e.\u0275\u0275advance(9),e.\u0275\u0275property("ngIf",(null==(r=t.saveDepositSettings.get("interval"))?null:r.touched)&&(null==(r=t.saveDepositSettings.get("interval"))?null:r.invalid)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(o=t.saveDepositSettings.get("penalty_amount"))?null:o.touched)&&(null==(o=t.saveDepositSettings.get("penalty_amount"))?null:o.invalid)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(s=t.saveDepositSettings.get("amount"))?null:s.touched)&&(null==(s=t.saveDepositSettings.get("amount"))?null:s.invalid)),e.\u0275\u0275advance(4),e.\u0275\u0275property("disabled",t.saveDepositSettings.invalid)}}function Jt(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Annual Rate is required."),e.\u0275\u0275elementEnd())}function Qt(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Enter a valid number (e.g. 5, 7.25)."),e.\u0275\u0275elementEnd())}function Zt(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",115),e.\u0275\u0275template(1,Jt,2,0,"small",116),e.\u0275\u0275template(2,Qt,2,0,"small",116),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);let n,r;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(n=t.editDepositSettings.get("annual_rate"))||null==n.errors?null:n.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(r=t.editDepositSettings.get("annual_rate"))||null==r.errors?null:r.errors.pattern)}}function Xt(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Enter a valid number (e.g. 100, 2500.50)."),e.\u0275\u0275elementEnd())}function en(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",115),e.\u0275\u0275template(1,Xt,2,0,"small",116),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);let n;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(n=t.editDepositSettings.get("penalty_amount"))||null==n.errors?null:n.errors.pattern)}}function tn(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",115)(1,"small"),e.\u0275\u0275text(2,"Payment interval is required."),e.\u0275\u0275elementEnd()())}function nn(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Amount is required."),e.\u0275\u0275elementEnd())}function rn(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Enter a valid number (e.g. 100, 2500.50)."),e.\u0275\u0275elementEnd())}function ln(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",115),e.\u0275\u0275template(1,nn,2,0,"small",116),e.\u0275\u0275template(2,rn,2,0,"small",116),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);let n,r;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(n=t.editDepositSettings.get("amount"))||null==n.errors?null:n.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(r=t.editDepositSettings.get("amount"))||null==r.errors?null:r.errors.pattern)}}function an(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",114),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(r.editSettings())}),e.\u0275\u0275text(1,"Submit"),e.\u0275\u0275elementEnd()}if(2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("disabled",t.editDepositSettings.invalid)}}function on(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",98)(1,"h5",99),e.\u0275\u0275text(2,"View Settings"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",100),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.dismiss("Cross click"))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"form",12)(5,"div",101)(6,"div",3)(7,"div",117)(8,"div",118)(9,"label",103),e.\u0275\u0275text(10,"Annual Rate (%)"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(11,"input",104),e.\u0275\u0275elementStart(12,"span",54),e.\u0275\u0275text(13,"Enter the yearly interest rate as a percentage"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(14,Zt,3,2,"div",105),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"div",118)(16,"label",103),e.\u0275\u0275text(17,"Penalty Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(18,"input",110),e.\u0275\u0275template(19,en,2,1,"div",105),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"div",118)(21,"label",103),e.\u0275\u0275text(22,"Payment Interval"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"select",107)(24,"option",108),e.\u0275\u0275text(25,"Select Interval"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"option",109),e.\u0275\u0275text(27,"Monthly"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(28,tn,3,0,"div",105),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"div",118)(30,"label",103),e.\u0275\u0275text(31,"Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(32,"input",111),e.\u0275\u0275template(33,ln,3,2,"div",105),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(34,"div",112)(35,"button",113),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.close("Close click"))}),e.\u0275\u0275text(36,"Close"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(37,an,2,1,"button",119),e.\u0275\u0275elementEnd()()}if(2&i){const t=e.\u0275\u0275nextContext();let n,r,o,s;e.\u0275\u0275advance(4),e.\u0275\u0275property("formGroup",t.editDepositSettings),e.\u0275\u0275advance(10),e.\u0275\u0275property("ngIf",(null==(n=t.editDepositSettings.get("annual_rate"))?null:n.touched)&&(null==(n=t.editDepositSettings.get("annual_rate"))?null:n.invalid)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(r=t.editDepositSettings.get("penalty_amount"))?null:r.touched)&&(null==(r=t.editDepositSettings.get("penalty_amount"))?null:r.invalid)),e.\u0275\u0275advance(9),e.\u0275\u0275property("ngIf",(null==(o=t.editDepositSettings.get("interval"))?null:o.touched)&&(null==(o=t.editDepositSettings.get("interval"))?null:o.invalid)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(s=t.editDepositSettings.get("amount"))?null:s.touched)&&(null==(s=t.editDepositSettings.get("amount"))?null:s.invalid)),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",0==(null==t.allDepositLists?null:t.allDepositLists.length))}}function sn(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Required"),e.\u0275\u0275elementEnd())}function dn(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Invalid amount"),e.\u0275\u0275elementEnd())}function mn(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",115),e.\u0275\u0275template(1,sn,2,0,"small",116),e.\u0275\u0275template(2,dn,2,0,"small",116),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);let n,r;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(n=t.depositFormGroup.get("paid_amount"))||null==n.errors?null:n.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(r=t.depositFormGroup.get("paid_amount"))||null==r.errors?null:r.errors.pattern)}}function cn(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",98)(1,"h5",99),e.\u0275\u0275text(2,"Add Deposit"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",100),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.dismiss("Cross click"))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"form",12)(5,"div",101)(6,"div",3)(7,"div",102)(8,"label",120),e.\u0275\u0275text(9,"Paid Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(10,"input",121),e.\u0275\u0275template(11,mn,3,2,"div",105),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",102)(13,"label",122),e.\u0275\u0275text(14,"Payment Method"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(15,"input",123),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"div",102)(17,"label",124),e.\u0275\u0275text(18,"Notes"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(19,"textarea",125),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(20,"div",112)(21,"button",113),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.close("Close click"))}),e.\u0275\u0275text(22,"Close"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"button",126),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.addDeposit())}),e.\u0275\u0275text(24,"Submit"),e.\u0275\u0275elementEnd()()()}if(2&i){const t=e.\u0275\u0275nextContext();let n;e.\u0275\u0275advance(4),e.\u0275\u0275property("formGroup",t.depositFormGroup),e.\u0275\u0275advance(7),e.\u0275\u0275property("ngIf",(null==(n=t.depositFormGroup.get("paid_amount"))?null:n.touched)&&(null==(n=t.depositFormGroup.get("paid_amount"))?null:n.invalid)),e.\u0275\u0275advance(12),e.\u0275\u0275property("disabled",t.depositFormGroup.invalid)}}function pn(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",115)(1,"small"),e.\u0275\u0275text(2,"Required"),e.\u0275\u0275elementEnd()())}function un(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Required"),e.\u0275\u0275elementEnd())}function _n(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Invalid amount"),e.\u0275\u0275elementEnd())}function gn(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",115),e.\u0275\u0275template(1,un,2,0,"small",116),e.\u0275\u0275template(2,_n,2,0,"small",116),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);let n,r;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(n=t.editDepositFormGroup.get("paid_amount"))||null==n.errors?null:n.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(r=t.editDepositFormGroup.get("paid_amount"))||null==r.errors?null:r.errors.pattern)}}function fn(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",115)(1,"small"),e.\u0275\u0275text(2,"Required"),e.\u0275\u0275elementEnd()())}function vn(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",115)(1,"small"),e.\u0275\u0275text(2,"Required"),e.\u0275\u0275elementEnd()())}function hn(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",98)(1,"h5",99),e.\u0275\u0275text(2,"Add Deposit"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",100),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.dismiss("Cross click"))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"form",12)(5,"div",101)(6,"div",3)(7,"div",106)(8,"label",127),e.\u0275\u0275text(9,"Payment Interval"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"select",128)(11,"option",108),e.\u0275\u0275text(12,"Select Interval"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"option",129),e.\u0275\u0275text(14,"Daily"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"option",109),e.\u0275\u0275text(16,"Monthly"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"option",130),e.\u0275\u0275text(18,"Yearly"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(19,pn,3,0,"div",105),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"div",106)(21,"label",120),e.\u0275\u0275text(22,"Paid Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(23,"input",131),e.\u0275\u0275template(24,gn,3,2,"div",105),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"div",106)(26,"label",122),e.\u0275\u0275text(27,"Payment Method"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(28,"select",132)(29,"option",108),e.\u0275\u0275text(30,"Select Method"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(31,"option",24),e.\u0275\u0275text(32,"Bank Transfer"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(33,"option",25),e.\u0275\u0275text(34,"Cash"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(35,"option",26),e.\u0275\u0275text(36,"UPI"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(37,"option",27),e.\u0275\u0275text(38,"Cheque"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(39,fn,3,0,"div",105),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(40,"div",106)(41,"label",133),e.\u0275\u0275text(42,"Transaction ID"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(43,"input",134),e.\u0275\u0275template(44,vn,3,0,"div",105),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(45,"div",102)(46,"label",124),e.\u0275\u0275text(47,"Notes"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(48,"textarea",125),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(49,"div",112)(50,"button",113),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.close("Close click"))}),e.\u0275\u0275text(51,"Close"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(52,"button",126),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.editDeposit())}),e.\u0275\u0275text(53,"Edit"),e.\u0275\u0275elementEnd()()()}if(2&i){const t=e.\u0275\u0275nextContext();let n,r,o,s;e.\u0275\u0275advance(4),e.\u0275\u0275property("formGroup",t.editDepositFormGroup),e.\u0275\u0275advance(15),e.\u0275\u0275property("ngIf",(null==(n=t.editDepositFormGroup.get("payment_interval"))?null:n.touched)&&(null==(n=t.editDepositFormGroup.get("payment_interval"))?null:n.invalid)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(r=t.editDepositFormGroup.get("paid_amount"))?null:r.touched)&&(null==(r=t.editDepositFormGroup.get("paid_amount"))?null:r.invalid)),e.\u0275\u0275advance(15),e.\u0275\u0275property("ngIf",(null==(o=t.editDepositFormGroup.get("payment_method"))?null:o.touched)&&(null==(o=t.editDepositFormGroup.get("payment_method"))?null:o.invalid)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(s=t.editDepositFormGroup.get("transanction_id"))?null:s.touched)&&(null==(s=t.editDepositFormGroup.get("transanction_id"))?null:s.invalid)),e.\u0275\u0275advance(8),e.\u0275\u0275property("disabled",t.editDepositFormGroup.invalid)}}let xn=(()=>{class i{constructor(t,n,r,o,s,d){this.modalService=t,this.route=n,this.depositService=r,this.toast=o,this.router=s,this.userService=d,this.user_id="",this.listAvialble=!1,this.depositAnnualRate=0,this.allDepositLists=[],this.settings={},this.outstandingAmount=null,this.userIsNotActive=!1,this.totalPenalty=0,this.total=0,this.page=1,this.pageSize=10,this.profile={},this.isSettingsAdded=!1,this.user_id=this.route.snapshot.paramMap.get("user")||"",this.getProfile(this.user_id)}outstanding(t){this.depositService.findOutstandingDepositsOfCompulsory(t).subscribe(n=>{if(console.log("Outstanding Deposits Response:",n),n&&"success"===n.status){const r=n.data||[];this.outstandingAmount=r,this.totalPenalty=r.totalPenalty||0,console.log("Outstanding Amount:",this.outstandingAmount),console.log("Total Penalty:",this.totalPenalty),0!==r?(this.depositFormGroup.patchValue({paid_amount:(this.outstandingAmount.outstanding||0)+this.totalPenalty}),this.toast.info(`Outstanding compulsory deposits found: \u20b9${r.outstanding}`)):this.toast.success("No outstanding compulsory deposits found.")}else this.toast.error("Failed to fetch outstanding deposits.")},n=>{this.userIsNotActive=!0})}ngOnInit(){this.breadCrumbItems=[{label:"Member"},{label:"Compulsory Deposit",active:!0}],this.saveDepositSettings=new l.cw({annual_rate:new l.NI("",[l.kI.required,l.kI.pattern("^[0-9]+(\\.[0-9]{1,2})?$")]),interval:new l.NI("Monthly",[l.kI.required]),penalty_amount:new l.NI("",[l.kI.required,l.kI.pattern("^[0-9]+(\\.[0-9]{1,2})?$")]),amount:new l.NI("300",[l.kI.required,l.kI.pattern("^[0-9]+(\\.[0-9]{1,2})?$"),l.kI.min(300)])}),this.editDepositSettings=new l.cw({_id:new l.NI("",[l.kI.required]),annual_rate:new l.NI("",[l.kI.required,l.kI.pattern("^[0-9]+(\\.[0-9]{1,2})?$")]),interval:new l.NI("",[l.kI.required]),penalty_amount:new l.NI("",[l.kI.required,l.kI.pattern("^[0-9]+(\\.[0-9]{1,2})?$")]),amount:new l.NI("",[l.kI.required,l.kI.pattern("^[0-9]+(\\.[0-9]{1,2})?$")])}),this.depositFormGroup=new l.cw({paid_amount:new l.NI({value:"",disabled:!0},[l.kI.required,l.kI.pattern("^[0-9]+(\\.[0-9]{1,2})?$")]),payment_method:new l.NI("Cash",[l.kI.required]),notes:new l.NI("")}),this.searchFormGroup=new l.cw({transanction_id:new l.NI(""),status:new l.NI(""),payment_method:new l.NI(""),transaction_date:new l.NI("")}),this.editDepositFormGroup=new l.cw({_id:new l.NI("",[l.kI.required]),payment_interval:new l.NI("",[l.kI.required]),paid_amount:new l.NI("",[l.kI.required,l.kI.pattern("^[0-9]+(\\.[0-9]{1,2})?$")]),payment_method:new l.NI("",[l.kI.required]),transanction_id:new l.NI("",[l.kI.required]),notes:new l.NI("")}),this.getDepositSettings(),this.outstanding(this.user_id)}reset(){this.searchFormGroup.reset(),this.page=1,this.getDepositSettings()}getProfile(t){this.userService.getBasicUserProfile(t).subscribe(n=>{n&&"success"===n.status?this.profile=n.data.user||{}:this.router.navigate(["/dashboard"])},n=>{console.error("Error fetching user profile:",n),this.router.navigate(["/dashboard"])})}openModal(t){this.modalService.open(t)}addDeposit(){if(this.depositFormGroup.valid){const t=this.depositFormGroup.getRawValue();t.user=this.user_id,t.c_deposit_setting=this.settings._id,t.payment_interval=this.settings.interval,t.payment_method="Cash",this.depositService.createCDeposit(t).subscribe(n=>{n&&"success"===n.status&&(this.toast.success("Deposit created successfully"),this.modalService.dismissAll(),this.depositFormGroup.reset({paid_amount:"",payment_method:"Cash",notes:""}),this.outstanding(this.user_id),this.getDepositSettings())},n=>{console.error("Error creating deposit:",n),this.toast.error("Failed to create deposit")})}else this.depositFormGroup.markAllAsTouched()}generateUniqueId(){return(new Date).getFullYear().toString()+Math.floor(1e4+9e4*Math.random()).toString()}editDepositForm(t,n){this.openModal(t),this.editDepositFormGroup.patchValue(n)}getDepositSettings(){const t=this.searchFormGroup.value,n=[];Object.keys(t).forEach(o=>{null!==t[o]&&""!==t[o]&&n.push(`${o}=${encodeURIComponent(t[o])}`)});const r=n.join("&");this.depositService.getCompulsoryDeposits(this.user_id,r,this.page,this.pageSize).subscribe(o=>{if(o&&"success"===o.status&&o.data){const s=o.data.deposits||null;this.total=o.data.total||0,this.allDepositLists=s,this.settings=o.data.settings||{},this.listAvialble=s.length>0,this.depositAnnualRate=this.settings.annual_rate||0,this.depositFormGroup.patchValue({payment_interval:this.settings.interval,transanction_id:this.generateUniqueId()}),this.listAvialble&&Object.keys(this.editDepositSettings.controls).forEach(d=>{this.editDepositSettings.get(d)?.disable()}),this.settings&&Object.keys(this.settings).length>0?(this.isSettingsAdded=!0,this.editDepositSettings.patchValue(this.settings)):(this.listAvialble=!1,this.isSettingsAdded=!1,this.depositFormGroup.reset(),this.editDepositSettings.reset())}})}setting(){if(this.saveDepositSettings.valid){const t=this.saveDepositSettings.value;t.user=this.user_id,this.depositService.compulsorySettings(t).subscribe(n=>{n&&"success"===n.status&&(this.isSettingsAdded=!0,this.toast.success("Deposit settings saved successfully"),this.saveDepositSettings.reset(),this.modalService.dismissAll(),this.depositFormGroup.patchValue({pay_day_rate:+(this.depositAnnualRate/365).toFixed(2),required_amount:t.amount,payment_interval:t.interval,transanction_id:this.generateUniqueId()}))},n=>{console.error("Error saving deposit settings:",n),this.toast.error("Failed to save deposit settings")})}else this.saveDepositSettings.markAllAsTouched()}editSettings(){this.editDepositSettings.valid?this.depositService.editCDepositSettings(this.editDepositSettings.value).subscribe(n=>{n&&"success"===n.status&&(this.isSettingsAdded=!0,this.toast.success("Deposit settings updated successfully"),this.modalService.dismissAll())},n=>{console.error("Error updating deposit settings:",n),this.toast.error("Failed to update deposit settings")}):this.editDepositSettings.markAllAsTouched()}editDeposit(){this.editDepositFormGroup.valid?this.depositService.editCDeposit(this.editDepositFormGroup.value).subscribe(n=>{n&&"success"===n.status&&(this.toast.success("Deposit updated successfully"),this.modalService.dismissAll(),this.getDepositSettings())},n=>{console.error("Error updating deposit:",n),this.toast.error("Failed to update deposit")}):this.editDepositFormGroup.markAllAsTouched()}findPageShowing(){return Math.min(this.page*this.pageSize,this.total)}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(v.FF),e.\u0275\u0275directiveInject(f.gz),e.\u0275\u0275directiveInject(L.s),e.\u0275\u0275directiveInject(I._W),e.\u0275\u0275directiveInject(f.F0),e.\u0275\u0275directiveInject(S.i))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["app-compulsory-deposit"]],decls:75,vars:14,consts:[[1,"container-fluid"],["title","Compulsory Deposit",3,"breadcrumbItems"],["class","row",4,"ngIf"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body","border-bottom"],[1,"d-flex","align-items-center"],[1,"mb-0","card-title","flex-grow-1"],[1,"flex-shrink-0","d-flex","gap-1"],["href","javascript:void(0);","class","btn btn-primary",3,"click",4,"ngIf"],["href","javascript:void(0);","class","btn btn-light",4,"ngIf"],[3,"formGroup"],[1,"row","g-3"],[1,"col-xxl-4","col-lg-6"],["type","search","id","searchInput","placeholder","Search for Transaction...","formControlName","transanction_id",1,"form-control"],[1,"col-xxl-2","col-lg-6"],["formControlName","status",1,"form-control","select2"],["value",""],["value","Paid"],["value","Interest"],["value","Penality"],[1,"col-xxl-2","col-lg-4"],["formControlName","payment_method",1,"form-control","select2"],["value","Bank Transfer"],["value","Cash"],["value","UPI"],["value","Cheque"],["id","datepicker1"],["type","date","formControlName","transaction_date","placeholder","Select date","data-date-format","dd M, yyyy","data-date-autoclose","true","data-date-container","#datepicker1","data-provide","datepicker",1,"form-control"],[1,"col-lg-1"],["type","button",1,"btn","btn-soft-secondary","w-100",3,"click"],[1,"mdi","mdi-filter-outline","align-middle"],["type","button",1,"btn","btn-light",3,"click"],[1,"mdi","mdi-refresh"],[1,"card-body"],[1,"table"],["class","d-flex flex-column justify-content-center align-items-center","style","min-height: 150px;",4,"ngIf"],["id","basic-datatable","class","table table-bordered dt-responsive nowrap datatables no-footer dtr-inline",4,"ngIf"],[1,"row","justify-content-md-between","align-items-md-center","mt-2"],[1,"col-sm-12","col-md-5"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[1,"text-md-right","float-md-end","pagination-rounded"],[3,"collectionSize","page","pageSize","pageChange"],["role","document"],["settingModal",""],["viewSettingModal",""],["addDepositModal",""],["editDepositModal",""],[1,"col-lg-4"],[1,"d-flex"],[1,"flex-shrink-0","me-3"],["alt","profile-image",1,"avatar-md","rounded-circle","img-thumbnail",3,"src"],[1,"flex-grow-1","align-self-center"],[1,"text-muted"],[1,"mb-2"],[1,"mb-1"],[1,"mb-0"],[1,"col-lg-4","align-self-center"],[1,"text-lg-center","mt-4","mt-lg-0"],[1,"col-4"],[1,"text-muted","text-truncate","mb-2"],[3,"href"],["class","col-lg-4 d-none d-lg-block",4,"ngIf"],[1,"col-lg-4","d-none","d-lg-block"],["class","clearfix mt-4 mt-lg-0",4,"ngIf"],[1,"clearfix","mt-4","mt-lg-0"],[1,"dropdown","float-end",3,"click"],["type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false","dropdowntoggle","",1,"btn","btn-primary","dropdown-toggle"],[1,"bx","bxs-cog","align-middle","me-1"],["type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false","dropdowntoggle","",1,"btn","btn-secondary","dropdown-toggle"],[1,"bx","bxs-pen","align-middle","me-1"],[1,"col-xl-12"],[1,"col-lg-3"],[1,"card","mini-stats-wid"],[1,"d-flex","flex-wrap"],[1,"mr-3"],[1,"text-muted","mb-2"],[1,"avatar-sm","ms-auto"],[1,"avatar-title","bg-light","rounded-circle","text-primary","font-size-20"],[1,"bx","bxs-book-bookmark"],[1,"card","blog-stats-wid"],[1,"me-3"],[1,"bx","bxs-note"],[1,"mb-0","text-danger"],[1,"avatar-title","bg-light","rounded-circle","text-danger","font-size-20"],[1,"bx","bx-error-circle"],[1,"mb-0","text-warning"],[1,"avatar-title","bg-light","rounded-circle","text-warning","font-size-20"],[1,"bx","bxs-message-square-dots"],["href","javascript:void(0);",1,"btn","btn-primary",3,"click"],["href","javascript:void(0);",1,"btn","btn-light"],[1,"d-flex","flex-column","justify-content-center","align-items-center",2,"min-height","150px"],["src","assets/img/not-found.png","width","300px","alt",""],[1,"text-mutes","mt-2"],["id","basic-datatable",1,"table","table-bordered","dt-responsive","nowrap","datatables","no-footer","dtr-inline"],[4,"ngFor","ngForOf"],[1,"badge",3,"ngClass"],[1,"modal-header"],["id","myModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3","col-lg-12"],[1,"col-form-label"],["type","number","placeholder","Settings","formControlName","annual_rate",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"mb-3","col-lg-6"],["formControlName","interval",1,"form-control","select2"],["value","","disabled",""],["value","Monthly"],["type","number","placeholder","Penalty Amount","formControlName","penalty_amount",1,"form-control"],["type","number","placeholder","Amount","formControlName","amount",1,"form-control"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary","waves-effect",3,"click"],["type","button",1,"btn","btn-primary","waves-effect","waves-light",3,"disabled","click"],[1,"text-danger"],[4,"ngIf"],[1,"col-md-12"],[1,"mb-3"],["type","button","class","btn btn-primary waves-effect waves-light",3,"disabled","click",4,"ngIf"],["for","paid-amount",1,"col-form-label"],["type","number","id","paid-amount","formControlName","paid_amount","placeholder","Paid Amount","readonly","",1,"form-control"],["for","payment-method",1,"col-form-label"],["type","text","id","payment-method","value","Cash","readonly","",1,"form-control"],["for","notes",1,"col-form-label"],["id","notes","rows","2","formControlName","notes","placeholder","Notes",1,"form-control"],["type","submit",1,"btn","btn-primary","waves-effect","waves-light",3,"disabled","click"],["for","payment-interval",1,"col-form-label"],["id","payment-interval","formControlName","payment_interval",1,"form-control"],["value","Daily"],["value","Yearly"],["type","number","id","paid-amount","formControlName","paid_amount","placeholder","Paid Amount",1,"form-control"],["id","payment-method","formControlName","payment_method",1,"form-control"],["for","transaction-id",1,"col-form-label"],["type","text","id","transaction-id","formControlName","transanction_id","placeholder","Transaction Id",1,"form-control"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-page-title",1),e.\u0275\u0275template(2,Tt,41,10,"div",2),e.\u0275\u0275template(3,Nt,51,4,"div",2),e.\u0275\u0275elementStart(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"h5",8),e.\u0275\u0275text(10,"Deposit History"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",9),e.\u0275\u0275template(12,Rt,2,0,"a",10),e.\u0275\u0275template(13,Vt,2,0,"a",11),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(14,"div",6)(15,"form",12)(16,"div",13)(17,"div",14),e.\u0275\u0275element(18,"input",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"div",16)(20,"select",17)(21,"option",18),e.\u0275\u0275text(22,"Select Status"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"option",19),e.\u0275\u0275text(24,"Paid"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"option",20),e.\u0275\u0275text(26,"Interest"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(27,"option",21),e.\u0275\u0275text(28,"Penality"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(29,"div",22)(30,"select",23)(31,"option",18),e.\u0275\u0275text(32,"Select Payment Method"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(33,"option",24),e.\u0275\u0275text(34,"Bank Transfer"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(35,"option",25),e.\u0275\u0275text(36,"Cash"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(37,"option",26),e.\u0275\u0275text(38,"UPI"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(39,"option",27),e.\u0275\u0275text(40,"Cheque"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(41,"div",22)(42,"div",28),e.\u0275\u0275element(43,"input",29),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(44,"div",30)(45,"button",31),e.\u0275\u0275listener("click",function(){return n.getDepositSettings()}),e.\u0275\u0275element(46,"i",32),e.\u0275\u0275text(47," Filter"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(48,"div",30)(49,"button",33),e.\u0275\u0275listener("click",function(){return n.reset()}),e.\u0275\u0275element(50,"i",34),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(51,"div",35)(52,"div",3)(53,"div",4)(54,"div",36),e.\u0275\u0275template(55,qt,4,0,"div",37),e.\u0275\u0275template(56,Mt,19,1,"table",38),e.\u0275\u0275elementStart(57,"div",39)(58,"div",40)(59,"div",41),e.\u0275\u0275text(60,"Showing "),e.\u0275\u0275elementStart(61,"b"),e.\u0275\u0275text(62),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(63),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(64,"div",40)(65,"div",42)(66,"ngb-pagination",43),e.\u0275\u0275listener("pageChange",function(o){return n.page=o}),e.\u0275\u0275elementEnd()()()()()()()()()()(),e.\u0275\u0275template(67,Ht,38,6,"ng-template",44,45,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(69,on,38,6,"ng-template",44,46,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(71,cn,25,3,"ng-template",44,47,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(73,hn,54,6,"ng-template",44,48,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("breadcrumbItems",n.breadCrumbItems),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.profile),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.outstandingAmount),e.\u0275\u0275advance(9),e.\u0275\u0275property("ngIf",n.isSettingsAdded&&(null==n.outstandingAmount?null:n.outstandingAmount.outstanding)+n.totalPenalty>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.listAvialble),e.\u0275\u0275advance(2),e.\u0275\u0275property("formGroup",n.searchFormGroup),e.\u0275\u0275advance(40),e.\u0275\u0275property("ngIf",!n.listAvialble),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.listAvialble),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate((n.page-1)*n.pageSize+1),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate2(" to ",n.findPageShowing()," of ",n.total," entries "),e.\u0275\u0275advance(3),e.\u0275\u0275property("collectionSize",n.total)("page",n.page)("pageSize",n.pageSize))},dependencies:[p.NgClass,p.NgForOf,p.NgIf,x.V,l._Y,l.YN,l.Kr,l.Fj,l.wV,l.EJ,l.JJ,l.JL,l.sg,l.u,v.N9,p.DatePipe]}),i})();var j=g(9878);const Sn=["editSettingModal"];function bn(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",60),e.\u0275\u0275text(1,"User has requested to open an RD Account. Please click on edit Setting, and fill required fields. "),e.\u0275\u0275elementEnd())}function Cn(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"span",77),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngClass",t.getStatusClass(t.selectedSetting)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.getDisplayStatus(t.selectedSetting)," ")}}function yn(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",78)(1,"div",79)(2,"div",80),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(2),o=e.\u0275\u0275reference(109);return e.\u0275\u0275resetView(r.openModal(o))}),e.\u0275\u0275elementStart(3,"button",81),e.\u0275\u0275element(4,"i",82),e.\u0275\u0275text(5," Create New RD "),e.\u0275\u0275elementEnd()()()()}}function En(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",5)(1,"div",21)(2,"div",22)(3,"div",8)(4,"div",5)(5,"div",61)(6,"div",62)(7,"div",63),e.\u0275\u0275element(8,"img",64),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"div",65)(10,"div",66)(11,"p",67),e.\u0275\u0275text(12,"Welcome to Recurring Deposit"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"h5",68),e.\u0275\u0275text(14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"p",69),e.\u0275\u0275text(16),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(17,Cn,2,2,"span",70),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(18,"div",71)(19,"div",72)(20,"div",5)(21,"div",73)(22,"div")(23,"p",74),e.\u0275\u0275text(24,"User Id"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"h5",69),e.\u0275\u0275text(26),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(27,"div",73)(28,"div")(29,"p",74),e.\u0275\u0275text(30,"Mobile No"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(31,"h5",69)(32,"a",75),e.\u0275\u0275text(33),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(34,"div",73)(35,"div")(36,"p",74),e.\u0275\u0275text(37,"Approved On "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(38,"h5",69),e.\u0275\u0275text(39),e.\u0275\u0275pipe(40,"date"),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275template(41,yn,6,0,"div",76),e.\u0275\u0275elementEnd()()()()()),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(8),e.\u0275\u0275propertyInterpolate("src",t.profile.profile_image||"assets/images/users/user_placeholder.png",e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(t.profile.name),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.profile.account_number),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.selectedSetting),e.\u0275\u0275advance(9),e.\u0275\u0275textInterpolate(t.profile.user_id),e.\u0275\u0275advance(6),e.\u0275\u0275propertyInterpolate1("href","tel:",t.profile.mobile_number,"",e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.profile.mobile_number),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1(" ",t.profile.approved_date?e.\u0275\u0275pipeBind1(40,9,t.profile.approved_date):"Not Approved"," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.canCreateSettings)}}function In(i,a){1&i&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"Recurring Deposit Account"),e.\u0275\u0275elementEnd())}function wn(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("Recurring Deposit Accounts (",t.depositSettingsList.length,")")}}function Dn(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",105),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(2),o=e.\u0275\u0275reference(109);return e.\u0275\u0275resetView(r.openModal(o))}),e.\u0275\u0275element(1,"i",106),e.\u0275\u0275text(2,"Create New RD Account "),e.\u0275\u0275elementEnd()}}function Fn(i,a){1&i&&e.\u0275\u0275element(0,"i",123)}function kn(i,a){1&i&&e.\u0275\u0275element(0,"i",124)}function An(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",125)(1,"div",126)(2,"div",119),e.\u0275\u0275text(3,"Outstanding"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",127),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()()()),2&i){const t=e.\u0275\u0275nextContext().$implicit,n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" \u20b9",(null==n.rdOutstandingAmounts[t._id]?null:n.rdOutstandingAmounts[t._id].outstanding)||0," ")}}function Tn(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",128)(1,"small",129),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"date"),e.\u0275\u0275elementEnd()()),2&i){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind2(3,1,t.created_date,"MMM yyyy"))}}const Nn=function(i,a){return{"btn-success":i,"btn-outline-primary":a}};function Rn(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",107)(1,"div",108)(2,"div",109)(3,"div",110)(4,"div",24)(5,"h6",111),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"span",112),e.\u0275\u0275text(8),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"button",113),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit,s=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(s.selectRDAccount(o))}),e.\u0275\u0275template(10,Fn,1,0,"i",114),e.\u0275\u0275template(11,kn,1,0,"i",115),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"div",116)(13,"div",117)(14,"div",118)(15,"div",119),e.\u0275\u0275text(16,"Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div",120),e.\u0275\u0275text(18),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(19,"div",117)(20,"div",118)(21,"div",119),e.\u0275\u0275text(22,"Rate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"div",120),e.\u0275\u0275text(24),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(25,"div",117)(26,"div",118)(27,"div",119),e.\u0275\u0275text(28,"Duration"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"div",120),e.\u0275\u0275text(30),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(31,"div",117)(32,"div",118)(33,"div",119),e.\u0275\u0275text(34,"Interval"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(35,"div",120),e.\u0275\u0275text(36),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275template(37,An,6,1,"div",121),e.\u0275\u0275template(38,Tn,4,4,"div",122),e.\u0275\u0275elementEnd()()()}if(2&i){const t=a.$implicit,n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275classProp("border-primary",(null==n.selectedSetting?null:n.selectedSetting._id)===t._id)("border-success","Approved"===t.status&&(null==n.selectedSetting?null:n.selectedSetting._id)!==t._id),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1("RD #",t.id,""),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",n.getStatusClass(t)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",n.getDisplayStatus(t)," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(17,Nn,(null==n.selectedSetting?null:n.selectedSetting._id)===t._id,(null==n.selectedSetting?null:n.selectedSetting._id)!==t._id))("disabled",(null==n.selectedSetting?null:n.selectedSetting._id)===t._id),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==n.selectedSetting?null:n.selectedSetting._id)===t._id),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==n.selectedSetting?null:n.selectedSetting._id)!==t._id),e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate1("\u20b9",t.amount,""),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1("",t.annual_rate,"%"),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1("",t.duration,"m"),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(t.interval),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Approved"===t.status&&n.rdOutstandingAmounts[t._id]),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.created_date)}}function Vn(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",5)(1,"div",21)(2,"div",22)(3,"div",83)(4,"h4",84),e.\u0275\u0275template(5,In,2,0,"span",85),e.\u0275\u0275template(6,wn,2,1,"span",85),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(7,Dn,3,0,"button",86),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"div",8)(9,"div",87)(10,"div",88)(11,"div",89)(12,"div",90)(13,"div",91)(14,"span",92),e.\u0275\u0275element(15,"i",93),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(16,"h6",94),e.\u0275\u0275text(17,"Total Accounts"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"h4",69),e.\u0275\u0275text(19),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(20,"div",88)(21,"div",89)(22,"div",90)(23,"div",91)(24,"span",95),e.\u0275\u0275element(25,"i",96),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(26,"h6",94),e.\u0275\u0275text(27,"Active Accounts"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(28,"h4",97),e.\u0275\u0275text(29),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(30,"div",88)(31,"div",89)(32,"div",90)(33,"div",91)(34,"span",98),e.\u0275\u0275element(35,"i",99),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(36,"h6",94),e.\u0275\u0275text(37,"Completed"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(38,"h4",100),e.\u0275\u0275text(39),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(40,"div",88)(41,"div",89)(42,"div",90)(43,"div",91)(44,"span",101),e.\u0275\u0275element(45,"i",102),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(46,"h6",94),e.\u0275\u0275text(47,"Pending"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(48,"h4",103),e.\u0275\u0275text(49),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(50,"div",5),e.\u0275\u0275template(51,Rn,39,20,"div",104),e.\u0275\u0275elementEnd()()()()()),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",1===t.depositSettingsList.length),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.depositSettingsList.length>1),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.canCreateSettings),e.\u0275\u0275advance(12),e.\u0275\u0275textInterpolate(t.totalRDAccounts),e.\u0275\u0275advance(10),e.\u0275\u0275textInterpolate(t.activeRDAccounts),e.\u0275\u0275advance(10),e.\u0275\u0275textInterpolate(t.completedRDAccounts),e.\u0275\u0275advance(10),e.\u0275\u0275textInterpolate(t.pendingRDAccounts),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.depositSettingsList)("ngForTrackBy",t.trackBySettingId)}}function qn(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"h5",69),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("\u20b9",(null==t.depositSummary?null:t.depositSummary.paid)||0,"")}}function Gn(i,a){1&i&&(e.\u0275\u0275elementStart(0,"h5",130),e.\u0275\u0275text(1,"Loading..."),e.\u0275\u0275elementEnd())}function Pn(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"h5",69),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("\u20b9",(null==t.depositSummary?null:t.depositSummary.interest)||0,"")}}function Mn(i,a){1&i&&(e.\u0275\u0275elementStart(0,"h5",130),e.\u0275\u0275text(1,"Loading..."),e.\u0275\u0275elementEnd())}function Bn(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"h5",69),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("\u20b9",(null==t.depositSummary?null:t.depositSummary.penalty)||0,"")}}function On(i,a){1&i&&(e.\u0275\u0275elementStart(0,"h5",130),e.\u0275\u0275text(1,"Loading..."),e.\u0275\u0275elementEnd())}function zn(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"h5",69),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("\u20b9",(null==t.depositSummary?null:t.depositSummary.total)||0,"")}}function $n(i,a){1&i&&(e.\u0275\u0275elementStart(0,"h5",130),e.\u0275\u0275text(1,"Loading..."),e.\u0275\u0275elementEnd())}function Ln(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",135)(1,"div",136)(2,"div",91)(3,"div",148),e.\u0275\u0275element(4,"i",149),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"p",94),e.\u0275\u0275text(6,"Completed On"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"h6",69),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"small",66),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"date"),e.\u0275\u0275elementEnd()()()),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(8),e.\u0275\u0275textInterpolate(t.selectedSetting.completed_on?e.\u0275\u0275pipeBind2(9,2,t.selectedSetting.completed_on,"mediumDate"):"N/A"),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.selectedSetting.completed_on?e.\u0275\u0275pipeBind2(12,5,t.selectedSetting.completed_on,"shortTime"):"")}}function Un(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",150)(1,"div",146)(2,"div",151)(3,"h6",152),e.\u0275\u0275element(4,"i",153),e.\u0275\u0275text(5," Closure Notes "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"p",69),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd()()()()),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate(t.selectedSetting.closure_notes)}}function jn(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275element(1,"i",154),e.\u0275\u0275elementStart(2,"strong"),e.\u0275\u0275text(3,"Closure Request Pending:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(4," This RD closure request is pending admin approval. The member has requested to close their account. "),e.\u0275\u0275elementEnd())}function Yn(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275element(1,"i",155),e.\u0275\u0275elementStart(2,"strong"),e.\u0275\u0275text(3,"Account Closed:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(4," This RD account has been successfully closed. The final settlement amount has been processed. "),e.\u0275\u0275elementEnd())}const Y=function(i,a){return{"badge-soft-danger":i,"badge-soft-success":a}},Kn=function(i,a){return{"alert-warning":i,"alert-success":a}};function Wn(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",5)(1,"div",4)(2,"div",22)(3,"div",131)(4,"div",24)(5,"h5",132),e.\u0275\u0275element(6,"i",133),e.\u0275\u0275text(7," RD Closure Details "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"span",134),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(10,"div",8)(11,"div",5)(12,"div",135)(13,"div",136)(14,"div",91)(15,"div",137),e.\u0275\u0275element(16,"i",138),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(17,"p",94),e.\u0275\u0275text(18,"Closure Requested"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"h6",69),e.\u0275\u0275text(20),e.\u0275\u0275pipe(21,"date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"small",66),e.\u0275\u0275text(23),e.\u0275\u0275pipe(24,"date"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(25,"div",135)(26,"div",136)(27,"div",91)(28,"div",139),e.\u0275\u0275element(29,"i",140),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(30,"p",94),e.\u0275\u0275text(31,"Penalty Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(32,"h6",103),e.\u0275\u0275text(33),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(34,"small",66),e.\u0275\u0275text(35,"Early closure fee"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(36,"div",135)(37,"div",136)(38,"div",91)(39,"div",141),e.\u0275\u0275element(40,"i",142),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(41,"p",94),e.\u0275\u0275text(42,"Final Settlement"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(43,"h6",97),e.\u0275\u0275text(44),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(45,"small",66),e.\u0275\u0275text(46,"Amount to receive"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(47,Ln,13,8,"div",143),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(48,Un,8,1,"div",144),e.\u0275\u0275elementStart(49,"div",145)(50,"div",146)(51,"div",147),e.\u0275\u0275template(52,jn,5,0,"div",85),e.\u0275\u0275template(53,Yn,5,0,"div",85),e.\u0275\u0275elementEnd()()()()()()()),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(8),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(17,Y,"Close-Requested"===t.selectedSetting.status,"Completed"===t.selectedSetting.status)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ","Close-Requested"===t.selectedSetting.status?"Closure Requested":"Account Closed"," "),e.\u0275\u0275advance(11),e.\u0275\u0275textInterpolate(t.selectedSetting.closure_requested_on?e.\u0275\u0275pipeBind2(21,11,t.selectedSetting.closure_requested_on,"mediumDate"):"N/A"),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.selectedSetting.closure_requested_on?e.\u0275\u0275pipeBind2(24,14,t.selectedSetting.closure_requested_on,"shortTime"):""),e.\u0275\u0275advance(10),e.\u0275\u0275textInterpolate1("\u20b9",t.selectedSetting.penalty_amount||0,""),e.\u0275\u0275advance(11),e.\u0275\u0275textInterpolate1("\u20b9",t.selectedSetting.final_amount||0,""),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf","Completed"===t.selectedSetting.status),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.selectedSetting.closure_notes),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(20,Kn,"Close-Requested"===t.selectedSetting.status,"Completed"===t.selectedSetting.status)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Close-Requested"===t.selectedSetting.status),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Completed"===t.selectedSetting.status)}}function Hn(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"a",156),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(),o=e.\u0275\u0275reference(115);return e.\u0275\u0275resetView(r.openModal(o))}),e.\u0275\u0275text(1,"Add Deposit"),e.\u0275\u0275elementEnd()}}function Jn(i,a){1&i&&(e.\u0275\u0275elementStart(0,"a",157),e.\u0275\u0275element(1,"i",50),e.\u0275\u0275elementEnd())}function Qn(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",158),e.\u0275\u0275element(1,"img",159),e.\u0275\u0275elementStart(2,"p",160),e.\u0275\u0275text(3,"No deposit found in current filter."),e.\u0275\u0275elementEnd()())}const Zn=function(i,a,t){return{"bg-success":i,"bg-warning":a,"bg-danger":t}};function Xn(i,a){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"tr")(2,"td"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"td"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"td"),e.\u0275\u0275text(8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"td"),e.\u0275\u0275text(10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"td"),e.\u0275\u0275text(12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"td"),e.\u0275\u0275text(14),e.\u0275\u0275pipe(15,"titlecase"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"td"),e.\u0275\u0275text(17),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"td"),e.\u0275\u0275text(19),e.\u0275\u0275pipe(20,"number"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"td")(22,"span",134),e.\u0275\u0275text(23),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementContainerEnd()),2&i){const t=a.$implicit,n=a.index;e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(n+1),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,10,t.created_date)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("\u20b9",t.paid_amount,""),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.payment_method),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.transanction_id),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(15,12,t.payment_interval)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("\u20b9",t.penalty_amount||0,""),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("\u20b9",e.\u0275\u0275pipeBind2(20,14,t.paid_amount+(t.penalty_amount||0),"1.2-2"),""),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction3(17,Zn,"Paid"===t.status,"Pending"===t.status,"Closed"===t.status)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.status," ")}}function ei(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",161)(1,"table",162)(2,"thead")(3,"tr")(4,"th"),e.\u0275\u0275text(5,"S.No."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"th"),e.\u0275\u0275text(7,"Paid Date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"th"),e.\u0275\u0275text(9,"Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"th"),e.\u0275\u0275text(11,"Payment Method"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"th"),e.\u0275\u0275text(13,"Transanction"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"th"),e.\u0275\u0275text(15,"Payment Interval"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"th"),e.\u0275\u0275text(17,"Penalty Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"th"),e.\u0275\u0275text(19,"Total Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"th"),e.\u0275\u0275text(21,"Status"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(22,"tbody"),e.\u0275\u0275template(23,Xn,24,21,"ng-container",163),e.\u0275\u0275elementEnd()()()),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(23),e.\u0275\u0275property("ngForOf",t.depositList)}}function ti(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",195)(1,"small"),e.\u0275\u0275text(2,"Payment interval is required."),e.\u0275\u0275elementEnd()())}function ni(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small",66),e.\u0275\u0275text(1," Daily amount must be between \u20b910 and \u20b95000 "),e.\u0275\u0275elementEnd())}function ii(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small",66),e.\u0275\u0275text(1," Monthly amount must be between \u20b9100 and \u20b910000 "),e.\u0275\u0275elementEnd())}function ri(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Amount is required."),e.\u0275\u0275elementEnd())}function li(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Enter a valid number (e.g. 100, 2500.50)."),e.\u0275\u0275elementEnd())}function ai(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1," Daily amount must be at least \u20b910 "),e.\u0275\u0275elementEnd())}function oi(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1," Monthly amount must be at least \u20b9100 "),e.\u0275\u0275elementEnd())}function si(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1," Daily amount cannot exceed \u20b95000 "),e.\u0275\u0275elementEnd())}function di(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1," Monthly amount cannot exceed \u20b910000 "),e.\u0275\u0275elementEnd())}function mi(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",195),e.\u0275\u0275template(1,ri,2,0,"small",85),e.\u0275\u0275template(2,li,2,0,"small",85),e.\u0275\u0275template(3,ai,2,0,"small",85),e.\u0275\u0275template(4,oi,2,0,"small",85),e.\u0275\u0275template(5,si,2,0,"small",85),e.\u0275\u0275template(6,di,2,0,"small",85),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);let n,r,o,s,d,m;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(n=t.saveDepositSettings.get("amount"))||null==n.errors?null:n.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(r=t.saveDepositSettings.get("amount"))||null==r.errors?null:r.errors.pattern),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==(o=t.saveDepositSettings.get("amount"))||null==o.errors?null:o.errors.minAmount)&&"daily"===(null==(o=t.saveDepositSettings.get("interval"))?null:o.value)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==(s=t.saveDepositSettings.get("amount"))||null==s.errors?null:s.errors.minAmount)&&"monthly"===(null==(s=t.saveDepositSettings.get("interval"))?null:s.value)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==(d=t.saveDepositSettings.get("amount"))||null==d.errors?null:d.errors.maxAmount)&&"daily"===(null==(d=t.saveDepositSettings.get("interval"))?null:d.value)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==(m=t.saveDepositSettings.get("amount"))||null==m.errors?null:m.errors.maxAmount)&&"monthly"===(null==(m=t.saveDepositSettings.get("interval"))?null:m.value))}}function ci(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Annual Rate is required."),e.\u0275\u0275elementEnd())}function pi(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Enter a valid number(e.g. 5, 7.25)."),e.\u0275\u0275elementEnd())}function ui(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",195),e.\u0275\u0275template(1,ci,2,0,"small",85),e.\u0275\u0275template(2,pi,2,0,"small",85),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);let n,r;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(n=t.saveDepositSettings.get("annual_rate"))||null==n.errors?null:n.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(r=t.saveDepositSettings.get("annual_rate"))||null==r.errors?null:r.errors.pattern)}}function _i(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",195)(1,"small"),e.\u0275\u0275text(2,"Duration is required."),e.\u0275\u0275elementEnd()())}function gi(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",164)(1,"h5",165),e.\u0275\u0275text(2,"Settings"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",166),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.dismiss("Cross click"))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"form",29)(5,"div",167)(6,"div",5)(7,"div",168)(8,"label",169),e.\u0275\u0275text(9,"Payment Interval"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"select",170)(11,"option",171),e.\u0275\u0275text(12,"Select Interval"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"option",172),e.\u0275\u0275text(14,"Daily"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"option",173),e.\u0275\u0275text(16,"Monthly"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(17,ti,3,0,"div",174),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"div",168)(19,"label",169),e.\u0275\u0275text(20,"Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(21,"input",175),e.\u0275\u0275template(22,ni,2,0,"small",176),e.\u0275\u0275template(23,ii,2,0,"small",176),e.\u0275\u0275template(24,mi,7,6,"div",174),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"div",168)(26,"label",169),e.\u0275\u0275text(27,"Annual Rate (%)"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(28,"input",177),e.\u0275\u0275template(29,ui,3,2,"div",174),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(30,"div",168)(31,"label",169),e.\u0275\u0275text(32,"Duration"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(33,"select",178)(34,"option",171),e.\u0275\u0275text(35,"Select Duration"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(36,"option",179),e.\u0275\u0275text(37,"1 Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(38,"option",180),e.\u0275\u0275text(39,"1.5 Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(40,"option",181),e.\u0275\u0275text(41,"2 Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(42,"option",182),e.\u0275\u0275text(43,"2.5 Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(44,"option",183),e.\u0275\u0275text(45,"3 Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(46,"option",184),e.\u0275\u0275text(47,"3.5 Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(48,"option",185),e.\u0275\u0275text(49,"4 Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(50,"option",186),e.\u0275\u0275text(51,"4.5 Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(52,"option",187),e.\u0275\u0275text(53,"5 Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(54,"option",188),e.\u0275\u0275text(55,"5.5 Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(56,"option",189),e.\u0275\u0275text(57,"6 Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(58,"option",190),e.\u0275\u0275text(59,"6.5 Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(60,"option",191),e.\u0275\u0275text(61,"7 Year"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(62,_i,3,0,"div",174),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(63,"div",192)(64,"button",193),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.close("Close click"))}),e.\u0275\u0275text(65,"Close"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(66,"button",194),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.createSettings())}),e.\u0275\u0275text(67,"Submit"),e.\u0275\u0275elementEnd()()()}if(2&i){const t=e.\u0275\u0275nextContext();let n,r,o,s,d,m;e.\u0275\u0275advance(4),e.\u0275\u0275property("formGroup",t.saveDepositSettings),e.\u0275\u0275advance(13),e.\u0275\u0275property("ngIf",(null==(n=t.saveDepositSettings.get("interval"))?null:n.touched)&&(null==(n=t.saveDepositSettings.get("interval"))?null:n.invalid)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf","daily"===(null==(r=t.saveDepositSettings.get("interval"))?null:r.value)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","monthly"===(null==(o=t.saveDepositSettings.get("interval"))?null:o.value)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==(s=t.saveDepositSettings.get("amount"))?null:s.touched)&&(null==(s=t.saveDepositSettings.get("amount"))?null:s.invalid)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(d=t.saveDepositSettings.get("annual_rate"))?null:d.touched)&&(null==(d=t.saveDepositSettings.get("annual_rate"))?null:d.invalid)),e.\u0275\u0275advance(33),e.\u0275\u0275property("ngIf",(null==(m=t.saveDepositSettings.get("interval"))?null:m.touched)&&(null==(m=t.saveDepositSettings.get("interval"))?null:m.invalid)),e.\u0275\u0275advance(4),e.\u0275\u0275property("disabled",t.saveDepositSettings.invalid)}}function fi(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small",66),e.\u0275\u0275text(1," Daily amount must be between \u20b910 and \u20b95000 "),e.\u0275\u0275elementEnd())}function vi(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small",66),e.\u0275\u0275text(1," Monthly amount must be between \u20b9100 and \u20b910000 "),e.\u0275\u0275elementEnd())}function hi(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Amount is required."),e.\u0275\u0275elementEnd())}function xi(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Enter a valid number (e.g. 100, 2500.50)."),e.\u0275\u0275elementEnd())}function Si(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1," Daily amount must be at least \u20b910 "),e.\u0275\u0275elementEnd())}function bi(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1," Monthly amount must be at least \u20b9100 "),e.\u0275\u0275elementEnd())}function Ci(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1," Daily amount cannot exceed \u20b95000 "),e.\u0275\u0275elementEnd())}function yi(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1," Monthly amount cannot exceed \u20b910000 "),e.\u0275\u0275elementEnd())}function Ei(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",195),e.\u0275\u0275template(1,hi,2,0,"small",85),e.\u0275\u0275template(2,xi,2,0,"small",85),e.\u0275\u0275template(3,Si,2,0,"small",85),e.\u0275\u0275template(4,bi,2,0,"small",85),e.\u0275\u0275template(5,Ci,2,0,"small",85),e.\u0275\u0275template(6,yi,2,0,"small",85),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);let n,r,o,s,d,m;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(n=t.editDepositSettings.get("amount"))||null==n.errors?null:n.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(r=t.editDepositSettings.get("amount"))||null==r.errors?null:r.errors.pattern),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==(o=t.editDepositSettings.get("amount"))||null==o.errors?null:o.errors.minAmount)&&"daily"===(null==(o=t.editDepositSettings.get("interval"))?null:o.value)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==(s=t.editDepositSettings.get("amount"))||null==s.errors?null:s.errors.minAmount)&&"monthly"===(null==(s=t.editDepositSettings.get("interval"))?null:s.value)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==(d=t.editDepositSettings.get("amount"))||null==d.errors?null:d.errors.maxAmount)&&"daily"===(null==(d=t.editDepositSettings.get("interval"))?null:d.value)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==(m=t.editDepositSettings.get("amount"))||null==m.errors?null:m.errors.maxAmount)&&"monthly"===(null==(m=t.editDepositSettings.get("interval"))?null:m.value))}}function Ii(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Annual Rate is required."),e.\u0275\u0275elementEnd())}function wi(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Enter a valid number(e.g. 5, 7.25)."),e.\u0275\u0275elementEnd())}function Di(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",195),e.\u0275\u0275template(1,Ii,2,0,"small",85),e.\u0275\u0275template(2,wi,2,0,"small",85),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);let n,r;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(n=t.editDepositSettings.get("annual_rate"))||null==n.errors?null:n.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(r=t.editDepositSettings.get("annual_rate"))||null==r.errors?null:r.errors.pattern)}}function Fi(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Amount is required."),e.\u0275\u0275elementEnd())}function ki(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Enter a valid number (e.g.100, 2500.50)."),e.\u0275\u0275elementEnd())}function Ai(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",195),e.\u0275\u0275template(1,Fi,2,0,"small",85),e.\u0275\u0275template(2,ki,2,0,"small",85),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);let n,r;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(n=t.editDepositSettings.get("penality_rate"))||null==n.errors?null:n.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(r=t.editDepositSettings.get("penality_rate"))||null==r.errors?null:r.errors.pattern)}}function Ti(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",195)(1,"small"),e.\u0275\u0275text(2,"Duration is required."),e.\u0275\u0275elementEnd()())}function Ni(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",195)(1,"small"),e.\u0275\u0275text(2,"Payment interval is required."),e.\u0275\u0275elementEnd()())}function Ri(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",164)(1,"h5",165),e.\u0275\u0275text(2,"Settings"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",166),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.dismiss("Cross click"))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"form",29)(5,"div",167)(6,"div",5)(7,"div",168)(8,"label",169),e.\u0275\u0275text(9,"Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(10,"input",175),e.\u0275\u0275template(11,fi,2,0,"small",176),e.\u0275\u0275template(12,vi,2,0,"small",176),e.\u0275\u0275template(13,Ei,7,6,"div",174),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"div",168)(15,"label",169),e.\u0275\u0275text(16,"Annual Rate (%)"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(17,"input",177),e.\u0275\u0275template(18,Di,3,2,"div",174),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"div",168)(20,"label",169),e.\u0275\u0275text(21,"Penality Rate(per day)"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(22,"input",196),e.\u0275\u0275template(23,Ai,3,2,"div",174),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"div",168)(25,"label",169),e.\u0275\u0275text(26,"Duration"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(27,"select",178)(28,"option",171),e.\u0275\u0275text(29,"Select Duration"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(30,"option",197),e.\u0275\u0275text(31,"Half Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(32,"option",179),e.\u0275\u0275text(33,"1 Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(34,"option",181),e.\u0275\u0275text(35,"2 Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(36,"option",183),e.\u0275\u0275text(37,"3 Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(38,"option",185),e.\u0275\u0275text(39,"4 Year"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(40,"option",187),e.\u0275\u0275text(41,"5 Year"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(42,Ti,3,0,"div",174),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(43,"div",168)(44,"label",169),e.\u0275\u0275text(45,"Payment Interval"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(46,"select",170)(47,"option",171),e.\u0275\u0275text(48,"Select Interval"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(49,"option",198),e.\u0275\u0275text(50,"Monthly"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(51,Ni,3,0,"div",174),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(52,"div",192)(53,"button",193),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.close("Close click"))}),e.\u0275\u0275text(54,"Close"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(55,"button",194),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.editSettings())}),e.\u0275\u0275text(56,"Submit"),e.\u0275\u0275elementEnd()()()}if(2&i){const t=e.\u0275\u0275nextContext();let n,r,o,s,d,m,c;e.\u0275\u0275advance(4),e.\u0275\u0275property("formGroup",t.editDepositSettings),e.\u0275\u0275advance(7),e.\u0275\u0275property("ngIf","daily"===(null==(n=t.editDepositSettings.get("interval"))?null:n.value)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","monthly"===(null==(r=t.editDepositSettings.get("interval"))?null:r.value)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==(o=t.editDepositSettings.get("amount"))?null:o.touched)&&(null==(o=t.editDepositSettings.get("amount"))?null:o.invalid)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(s=t.editDepositSettings.get("annual_rate"))?null:s.touched)&&(null==(s=t.editDepositSettings.get("annual_rate"))?null:s.invalid)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(d=t.editDepositSettings.get("penality_rate"))?null:d.touched)&&(null==(d=t.editDepositSettings.get("penality_rate"))?null:d.invalid)),e.\u0275\u0275advance(19),e.\u0275\u0275property("ngIf",(null==(m=t.editDepositSettings.get("interval"))?null:m.touched)&&(null==(m=t.editDepositSettings.get("interval"))?null:m.invalid)),e.\u0275\u0275advance(9),e.\u0275\u0275property("ngIf",(null==(c=t.editDepositSettings.get("interval"))?null:c.touched)&&(null==(c=t.editDepositSettings.get("interval"))?null:c.invalid)),e.\u0275\u0275advance(4),e.\u0275\u0275property("disabled",t.editDepositSettings.invalid)}}function Vi(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Total Principal is required."),e.\u0275\u0275elementEnd())}function qi(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Enter a valid amount."),e.\u0275\u0275elementEnd())}function Gi(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",195),e.\u0275\u0275template(1,Vi,2,0,"small",85),e.\u0275\u0275template(2,qi,2,0,"small",85),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);let n,r;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(n=t.rdSettlementFormGroup.get("total_principal"))||null==n.errors?null:n.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(r=t.rdSettlementFormGroup.get("total_principal"))||null==r.errors?null:r.errors.pattern)}}function Pi(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Total Penalty is required."),e.\u0275\u0275elementEnd())}function Mi(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Enter a valid amount."),e.\u0275\u0275elementEnd())}function Bi(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",195),e.\u0275\u0275template(1,Pi,2,0,"small",85),e.\u0275\u0275template(2,Mi,2,0,"small",85),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);let n,r;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(n=t.rdSettlementFormGroup.get("total_penalty"))||null==n.errors?null:n.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(r=t.rdSettlementFormGroup.get("total_penalty"))||null==r.errors?null:r.errors.pattern)}}function Oi(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Total Interest is required."),e.\u0275\u0275elementEnd())}function zi(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Enter a valid amount."),e.\u0275\u0275elementEnd())}function $i(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",195),e.\u0275\u0275template(1,Oi,2,0,"small",85),e.\u0275\u0275template(2,zi,2,0,"small",85),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);let n,r;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(n=t.rdSettlementFormGroup.get("total_interest"))||null==n.errors?null:n.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(r=t.rdSettlementFormGroup.get("total_interest"))||null==r.errors?null:r.errors.pattern)}}function Li(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Total Net is required."),e.\u0275\u0275elementEnd())}function Ui(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Enter a valid amount."),e.\u0275\u0275elementEnd())}function ji(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",195),e.\u0275\u0275template(1,Li,2,0,"small",85),e.\u0275\u0275template(2,Ui,2,0,"small",85),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);let n,r;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(n=t.rdSettlementFormGroup.get("total_net"))||null==n.errors?null:n.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(r=t.rdSettlementFormGroup.get("total_net"))||null==r.errors?null:r.errors.pattern)}}function Yi(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Settlement Date is required."),e.\u0275\u0275elementEnd())}function Ki(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",195),e.\u0275\u0275template(1,Yi,2,0,"small",85),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);let n;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(n=t.rdSettlementFormGroup.get("settlement_date"))||null==n.errors?null:n.errors.required)}}function Wi(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",164)(1,"h5",165),e.\u0275\u0275text(2,"RD Settlement"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",166),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.dismiss("Cross click"))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",60),e.\u0275\u0275text(5,"Note: Settling this RD account will mark it as closed and finalize all calculations."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"form",29)(7,"div",167)(8,"div",5)(9,"div",168)(10,"label",169),e.\u0275\u0275text(11,"Total Principal"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(12,"input",199),e.\u0275\u0275template(13,Gi,3,2,"div",174),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"div",168)(15,"label",169),e.\u0275\u0275text(16,"Total Penalty"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(17,"input",200),e.\u0275\u0275template(18,Bi,3,2,"div",174),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"div",168)(20,"label",169),e.\u0275\u0275text(21,"Total Interest"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(22,"input",201),e.\u0275\u0275template(23,$i,3,2,"div",174),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"div",168)(25,"label",169),e.\u0275\u0275text(26,"Total Net"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(27,"input",202),e.\u0275\u0275template(28,ji,3,2,"div",174),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"div",168)(30,"label",169),e.\u0275\u0275text(31,"Settlement Date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(32,"input",203),e.\u0275\u0275template(33,Ki,2,1,"div",174),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(34,"div",204)(35,"label",169),e.\u0275\u0275text(36,"Notes"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(37,"textarea",205),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(38,"div",192)(39,"button",193),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.close("Close click"))}),e.\u0275\u0275text(40,"Close"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(41,"button",206),e.\u0275\u0275text(42,"Submit"),e.\u0275\u0275elementEnd()()()}if(2&i){const t=e.\u0275\u0275nextContext();let n,r,o,s,d;e.\u0275\u0275advance(6),e.\u0275\u0275property("formGroup",t.rdSettlementFormGroup),e.\u0275\u0275advance(7),e.\u0275\u0275property("ngIf",(null==(n=t.rdSettlementFormGroup.get("total_principal"))?null:n.touched)&&(null==(n=t.rdSettlementFormGroup.get("total_principal"))?null:n.invalid)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(r=t.rdSettlementFormGroup.get("total_penalty"))?null:r.touched)&&(null==(r=t.rdSettlementFormGroup.get("total_penalty"))?null:r.invalid)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(o=t.rdSettlementFormGroup.get("total_interest"))?null:o.touched)&&(null==(o=t.rdSettlementFormGroup.get("total_interest"))?null:o.invalid)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(s=t.rdSettlementFormGroup.get("total_net"))?null:s.touched)&&(null==(s=t.rdSettlementFormGroup.get("total_net"))?null:s.invalid)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(d=t.rdSettlementFormGroup.get("settlement_date"))?null:d.touched)&&(null==(d=t.rdSettlementFormGroup.get("settlement_date"))?null:d.invalid)),e.\u0275\u0275advance(8),e.\u0275\u0275property("disabled",t.rdSettlementFormGroup.invalid)}}function Hi(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Required"),e.\u0275\u0275elementEnd())}function Ji(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Invalid amount"),e.\u0275\u0275elementEnd())}function Qi(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",195),e.\u0275\u0275template(1,Hi,2,0,"small",85),e.\u0275\u0275template(2,Ji,2,0,"small",85),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);let n,r;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(n=t.depositFormGroup.get("paid_amount"))||null==n.errors?null:n.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(r=t.depositFormGroup.get("paid_amount"))||null==r.errors?null:r.errors.pattern)}}function Zi(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",195)(1,"small"),e.\u0275\u0275text(2,"Required"),e.\u0275\u0275elementEnd()())}function Xi(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",164)(1,"h5",165),e.\u0275\u0275text(2,"Add Deposit"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",166),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.dismiss("Cross click"))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"form",29)(5,"div",167)(6,"div",5)(7,"div",168)(8,"label",207),e.\u0275\u0275text(9,"Paid Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(10,"input",208),e.\u0275\u0275template(11,Qi,3,2,"div",174),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",168)(13,"label",209),e.\u0275\u0275text(14,"Payment Method"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"select",210)(16,"option",41),e.\u0275\u0275text(17,"Cash"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(18,Zi,3,0,"div",174),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"div",204)(20,"label",211),e.\u0275\u0275text(21,"Notes"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(22,"textarea",212),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(23,"div",192)(24,"button",193),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.close("Close click"))}),e.\u0275\u0275text(25,"Close"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"button",213),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.addDeposit())}),e.\u0275\u0275text(27,"Submit"),e.\u0275\u0275elementEnd()()()}if(2&i){const t=e.\u0275\u0275nextContext();let n,r;e.\u0275\u0275advance(4),e.\u0275\u0275property("formGroup",t.depositFormGroup),e.\u0275\u0275advance(7),e.\u0275\u0275property("ngIf",(null==(n=t.depositFormGroup.get("paid_amount"))?null:n.touched)&&(null==(n=t.depositFormGroup.get("paid_amount"))?null:n.invalid)),e.\u0275\u0275advance(7),e.\u0275\u0275property("ngIf",(null==(r=t.depositFormGroup.get("payment_method"))?null:r.touched)&&(null==(r=t.depositFormGroup.get("payment_method"))?null:r.invalid)),e.\u0275\u0275advance(8),e.\u0275\u0275property("disabled",t.depositFormGroup.invalid)}}function er(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Required"),e.\u0275\u0275elementEnd())}function tr(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Invalid rate"),e.\u0275\u0275elementEnd())}function nr(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",195),e.\u0275\u0275template(1,er,2,0,"small",85),e.\u0275\u0275template(2,tr,2,0,"small",85),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);let n,r;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(n=t.editDepositFormGroup.get("pay_day_rate"))||null==n.errors?null:n.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(r=t.editDepositFormGroup.get("pay_day_rate"))||null==r.errors?null:r.errors.pattern)}}function ir(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Required"),e.\u0275\u0275elementEnd())}function rr(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Invalid amount"),e.\u0275\u0275elementEnd())}function lr(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",195),e.\u0275\u0275template(1,ir,2,0,"small",85),e.\u0275\u0275template(2,rr,2,0,"small",85),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);let n,r;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(n=t.editDepositFormGroup.get("required_amount"))||null==n.errors?null:n.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(r=t.editDepositFormGroup.get("required_amount"))||null==r.errors?null:r.errors.pattern)}}function ar(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",195)(1,"small"),e.\u0275\u0275text(2,"Required"),e.\u0275\u0275elementEnd()())}function or(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Required"),e.\u0275\u0275elementEnd())}function sr(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Invalid amount"),e.\u0275\u0275elementEnd())}function dr(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",195),e.\u0275\u0275template(1,or,2,0,"small",85),e.\u0275\u0275template(2,sr,2,0,"small",85),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);let n,r;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(n=t.editDepositFormGroup.get("paid_amount"))||null==n.errors?null:n.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(r=t.editDepositFormGroup.get("paid_amount"))||null==r.errors?null:r.errors.pattern)}}function mr(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",195)(1,"small"),e.\u0275\u0275text(2,"Required"),e.\u0275\u0275elementEnd()())}function cr(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",195)(1,"small"),e.\u0275\u0275text(2,"Required"),e.\u0275\u0275elementEnd()())}function pr(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",164)(1,"h5",165),e.\u0275\u0275text(2,"Add Deposit"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",166),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.dismiss("Cross click"))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"form",29)(5,"div",167)(6,"div",5)(7,"div",168)(8,"label",214),e.\u0275\u0275text(9,"Pay Day Rate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(10,"input",215),e.\u0275\u0275template(11,nr,3,2,"div",174),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",168)(13,"label",216),e.\u0275\u0275text(14,"Required Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(15,"input",217),e.\u0275\u0275template(16,lr,3,2,"div",174),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div",168)(18,"label",218),e.\u0275\u0275text(19,"Payment Interval"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"select",219)(21,"option",171),e.\u0275\u0275text(22,"Select Interval"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"option",198),e.\u0275\u0275text(24,"Monthly"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(25,ar,3,0,"div",174),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"div",168)(27,"label",207),e.\u0275\u0275text(28,"Paid Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(29,"input",220),e.\u0275\u0275template(30,dr,3,2,"div",174),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(31,"div",168)(32,"label",209),e.\u0275\u0275text(33,"Payment Method"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(34,"select",221)(35,"option",171),e.\u0275\u0275text(36,"Select Method"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(37,"option",40),e.\u0275\u0275text(38,"Bank Transfer"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(39,"option",41),e.\u0275\u0275text(40,"Cash"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(41,"option",42),e.\u0275\u0275text(42,"UPI"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(43,"option",43),e.\u0275\u0275text(44,"Cheque"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(45,mr,3,0,"div",174),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(46,"div",168)(47,"label",222),e.\u0275\u0275text(48,"Transaction ID"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(49,"input",223),e.\u0275\u0275template(50,cr,3,0,"div",174),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(51,"div",204)(52,"label",211),e.\u0275\u0275text(53,"Notes"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(54,"textarea",212),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(55,"div",192)(56,"button",193),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.close("Close click"))}),e.\u0275\u0275text(57,"Close"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(58,"button",213),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.editDeposit())}),e.\u0275\u0275text(59,"Edit"),e.\u0275\u0275elementEnd()()()}if(2&i){const t=e.\u0275\u0275nextContext();let n,r,o,s,d,m;e.\u0275\u0275advance(4),e.\u0275\u0275property("formGroup",t.editDepositFormGroup),e.\u0275\u0275advance(7),e.\u0275\u0275property("ngIf",(null==(n=t.editDepositFormGroup.get("pay_day_rate"))?null:n.touched)&&(null==(n=t.editDepositFormGroup.get("pay_day_rate"))?null:n.invalid)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(r=t.editDepositFormGroup.get("required_amount"))?null:r.touched)&&(null==(r=t.editDepositFormGroup.get("required_amount"))?null:r.invalid)),e.\u0275\u0275advance(9),e.\u0275\u0275property("ngIf",(null==(o=t.editDepositFormGroup.get("payment_interval"))?null:o.touched)&&(null==(o=t.editDepositFormGroup.get("payment_interval"))?null:o.invalid)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(s=t.editDepositFormGroup.get("paid_amount"))?null:s.touched)&&(null==(s=t.editDepositFormGroup.get("paid_amount"))?null:s.invalid)),e.\u0275\u0275advance(15),e.\u0275\u0275property("ngIf",(null==(d=t.editDepositFormGroup.get("payment_method"))?null:d.touched)&&(null==(d=t.editDepositFormGroup.get("payment_method"))?null:d.invalid)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(m=t.editDepositFormGroup.get("transanction_id"))?null:m.touched)&&(null==(m=t.editDepositFormGroup.get("transanction_id"))?null:m.invalid)),e.\u0275\u0275advance(8),e.\u0275\u0275property("disabled",t.editDepositFormGroup.invalid)}}function ur(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",145)(1,"div",146)(2,"div",253)(3,"strong"),e.\u0275\u0275text(4,"Closure Notes:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()()()),2&i){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",t.selectedUser.closure_notes," ")}}function _r(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",225)(1,"div",250)(2,"div",251)(3,"h6",84),e.\u0275\u0275element(4,"i",133),e.\u0275\u0275text(5," Existing Closure Request Details "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"div",8)(7,"div",5)(8,"div",135)(9,"div",136)(10,"p",94),e.\u0275\u0275text(11,"Requested On"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"h6",69),e.\u0275\u0275text(13),e.\u0275\u0275pipe(14,"date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"small",66),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"date"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(18,"div",135)(19,"div",136)(20,"p",94),e.\u0275\u0275text(21,"Penalty Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"h6",103),e.\u0275\u0275text(23),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(24,"div",135)(25,"div",136)(26,"p",94),e.\u0275\u0275text(27,"Final Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(28,"h6",97),e.\u0275\u0275text(29),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(30,"div",135)(31,"div",136)(32,"p",94),e.\u0275\u0275text(33,"Status"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(34,"span",134),e.\u0275\u0275text(35),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275template(36,ur,6,1,"div",252),e.\u0275\u0275elementEnd()()()),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(13),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind2(14,7,t.selectedUser.closure_requested_on,"mediumDate")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind2(17,10,t.selectedUser.closure_requested_on,"shortTime")),e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate1("\u20b9",t.selectedUser.penalty_amount||0,""),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1("\u20b9",t.selectedUser.final_amount||0,""),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(13,Y,"Close-Requested"===t.selectedUser.status,"Completed"===t.selectedUser.status)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.selectedUser.status," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.selectedUser.closure_notes)}}function gr(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" This RD has an outstanding amount of \u20b9",t.selectedUser.pendingAmount||0,". Consider applying an appropriate penalty for early closure. ")}}function fr(i,a){1&i&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1," This RD has no outstanding amounts. Review the closure request details below. "),e.\u0275\u0275elementEnd())}function vr(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Penalty amount cannot be negative"),e.\u0275\u0275elementEnd())}function hr(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",195),e.\u0275\u0275template(1,vr,2,0,"small",85),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);let n;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(n=t.closeRDFormGroup.get("penalty_amount"))||null==n.errors?null:n.errors.min)}}function xr(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",164)(1,"div",24)(2,"h5",224),e.\u0275\u0275text(3,"Process RD Closure"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"span",134),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"button",166),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.dismiss("Cross click"))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"form",29)(8,"div",167)(9,"div",5)(10,"div",225)(11,"div",89)(12,"div",131)(13,"h6",84),e.\u0275\u0275text(14,"Account Summary"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(15,"div",8)(16,"div",5)(17,"div",226)(18,"div",136)(19,"p",94),e.\u0275\u0275text(20,"Total Paid"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"h5",227),e.\u0275\u0275text(22),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(23,"div",226)(24,"div",136)(25,"p",94),e.\u0275\u0275text(26,"Total Interest"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(27,"h5",228),e.\u0275\u0275text(28),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(29,"div",226)(30,"div",136)(31,"p",94),e.\u0275\u0275text(32,"Net Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(33,"h5",229),e.\u0275\u0275text(34),e.\u0275\u0275elementEnd()()()()()()(),e.\u0275\u0275template(35,_r,37,16,"div",230),e.\u0275\u0275elementStart(36,"div",21)(37,"div",147),e.\u0275\u0275element(38,"i",231),e.\u0275\u0275elementStart(39,"strong"),e.\u0275\u0275text(40,"Closure Processing:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(41,gr,2,1,"span",85),e.\u0275\u0275template(42,fr,2,0,"span",85),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(43,"div",168)(44,"label",232),e.\u0275\u0275text(45,"Penalty Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(46,"input",233),e.\u0275\u0275template(47,hr,2,1,"div",174),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(48,"div",168)(49,"label",234),e.\u0275\u0275text(50,"Final Settlement Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(51,"input",235),e.\u0275\u0275elementStart(52,"small",66),e.\u0275\u0275text(53,"Total Paid + Interest - Penalty"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(54,"div",236)(55,"div",237)(56,"div",238)(57,"h6",84),e.\u0275\u0275element(58,"i",239),e.\u0275\u0275text(59," Settlement Calculation "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(60,"div",8)(61,"div",240)(62,"div",226)(63,"div",241)(64,"p",94),e.\u0275\u0275text(65,"Total Paid"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(66,"h5",227),e.\u0275\u0275text(67),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(68,"div",226)(69,"div",241)(70,"p",94),e.\u0275\u0275text(71,"+ Interest"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(72,"h5",228),e.\u0275\u0275text(73),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(74,"div",226)(75,"div")(76,"p",94),e.\u0275\u0275text(77,"- Penalty"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(78,"h5",242),e.\u0275\u0275text(79),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275element(80,"hr"),e.\u0275\u0275elementStart(81,"div",5)(82,"div",243)(83,"h4",244),e.\u0275\u0275element(84,"i",245),e.\u0275\u0275text(85),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275elementStart(86,"div",204)(87,"label",246),e.\u0275\u0275text(88,"Closure Notes"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(89,"textarea",247),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(90,"div",192)(91,"button",193),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.close("Close click"))}),e.\u0275\u0275text(92,"Cancel"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(93,"button",248),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.submitCloseRDRequest())}),e.\u0275\u0275element(94,"i",249),e.\u0275\u0275text(95,"Submit Closure Request "),e.\u0275\u0275elementEnd()()()}if(2&i){const t=e.\u0275\u0275nextContext();let n,r,o;e.\u0275\u0275advance(4),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(16,Y,"Close-Requested"===t.selectedUser.status,"Completed"===t.selectedUser.status)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.selectedUser.status," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("formGroup",t.closeRDFormGroup),e.\u0275\u0275advance(15),e.\u0275\u0275textInterpolate1("\u20b9",(null==t.depositSummary?null:t.depositSummary.paid)||0,""),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1("\u20b9",(null==t.depositSummary?null:t.depositSummary.interest)||0,""),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1("\u20b9",(null==t.depositSummary?null:t.depositSummary.total)||0,""),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.selectedUser.closure_requested_on),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",(null==t.depositSummary?null:t.depositSummary.paid)<t.selectedUser.amount?"alert-danger":"alert-warning"),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",(null==t.depositSummary?null:t.depositSummary.paid)<t.selectedUser.amount),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==t.depositSummary?null:t.depositSummary.paid)>=t.selectedUser.amount),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(n=t.closeRDFormGroup.get("penalty_amount"))?null:n.touched)&&(null==(n=t.closeRDFormGroup.get("penalty_amount"))?null:n.invalid)),e.\u0275\u0275advance(20),e.\u0275\u0275textInterpolate1("\u20b9",(null==t.depositSummary?null:t.depositSummary.paid)||0,""),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1("\u20b9",(null==t.depositSummary?null:t.depositSummary.interest)||0,""),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1("-\u20b9",(null==(r=t.closeRDFormGroup.get("penalty_amount"))?null:r.value)||0,""),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1(" Final Amount: \u20b9",(null==(o=t.closeRDFormGroup.get("final_amount"))?null:o.value)||0," "),e.\u0275\u0275advance(8),e.\u0275\u0275property("disabled",t.closeRDFormGroup.invalid)}}let Sr=(()=>{class i{constructor(t,n,r,o,s,d,m){this.modalService=t,this.depositService=n,this.toast=r,this.userService=o,this.router=s,this.settingsService=d,this.route=m,this.canCreateSettings=!0,this.rd_rate=0,this.user_id="",this.profile=null,this.depositSettingsList=[],this.depositList=[],this.selectedSetting=null,this.selectedUser=null,this.outstandingAmount=null,this.depositSummary=null,this.isLoadingAccountStatistics=!1,this.rdOutstandingAmounts={},this.isRDOpened=!1,this.canMakeDeposits=!1,this.canRequestClosure=!1,this.totalRDAccounts=0,this.activeRDAccounts=0,this.completedRDAccounts=0,this.pendingRDAccounts=0,this.totalOutstandingAmount=0,this.total=0,this.page=1,this.pageSize=10,this.selectAll=!1,this.selectedUsers=[],this.selectedUserIds=[],this.globalSelections=new Map,this.totalSelectedCount=0,this.previousFilterState="",this.isSendingNotification=!1,this.user_id=this.route.snapshot.paramMap.get("user")||"",this.getProfile(this.user_id),this.getDepositSettings()}amountValidator(t){const n=t.parent;if(!n)return null;const r=n.get("interval")?.value,o=t.value;if(!o||!r)return null;const s=parseFloat(o);if("daily"===r){if(s<10)return{minAmount:{required:10,actual:s}};if(s>5e3)return{maxAmount:{required:5e3,actual:s}}}else if("monthly"===r){if(s<100)return{minAmount:{required:100,actual:s}};if(s>1e4)return{maxAmount:{required:1e4,actual:s}}}return null}outstanding(t,n){this.isLoadingAccountStatistics=!0,this.depositService.findOutstandingDepositsOfRecurring(t,n).subscribe(r=>{r&&"success"===r.status?(this.outstandingAmount=r.data,this.depositSummary=r.data.depositSummary,console.log("Outstanding amount:",this.outstandingAmount),console.log("Deposit summary:",this.depositSummary),this.outstandingAmount&&this.outstandingAmount.outstanding&&this.depositFormGroup.patchValue({paid_amount:this.outstandingAmount.outstanding}),this.isLoadingAccountStatistics=!1):(this.toast.error("Failed to fetch outstanding amount","Error"),this.isLoadingAccountStatistics=!1)},r=>{console.error("Error fetching outstanding amount:",r),this.toast.error("Error fetching outstanding amount","Error"),this.isLoadingAccountStatistics=!1})}selectRDAccount(t){this.selectedSetting=t,this.getDeposits(t._id),this.depositFormGroup.patchValue({payment_interval:t.interval}),"Approved"===t.status?this.outstanding(this.user_id,t._id):(this.outstandingAmount=null,this.depositSummary={interest:0,paid:0,penalty:0,total:0},this.depositFormGroup.patchValue({paid_amount:""}))}loadOutstandingAmountsForAllAccounts(){this.depositSettingsList.forEach(t=>{"Approved"===t.status&&this.depositService.findOutstandingDepositsOfRecurring(this.user_id,t._id).subscribe(n=>{n&&"success"===n.status&&(this.rdOutstandingAmounts[t._id]=n.data,n.data&&n.data.depositSummary&&(this.rdOutstandingAmounts[t._id].depositSummary=n.data.depositSummary))},n=>{console.error("Error loading outstanding amount for account:",t._id,n)})})}refreshStatistics(){this.totalRDAccounts=this.depositSettingsList.length,this.activeRDAccounts=this.depositSettingsList.filter(t=>"Approved"===t.status).length,this.completedRDAccounts=this.depositSettingsList.filter(t=>"Completed"===t.status).length,this.pendingRDAccounts=this.depositSettingsList.filter(t=>"Requested"===t.status).length,this.totalOutstandingAmount=0,Object.values(this.rdOutstandingAmounts).forEach(t=>{t&&t.outstanding&&(this.totalOutstandingAmount+=parseFloat(t.outstanding))})}trackBySettingId(t,n){return n._id}ngOnInit(){this.breadCrumbItems=[{label:"Member"},{label:"Recurring Deposit",active:!0}],this.saveDepositSettings=new l.cw({annual_rate:new l.NI("",[l.kI.required,l.kI.pattern("^[0-9]+(\\.[0-9]{1,2})?$")]),interval:new l.NI("",[l.kI.required]),duration:new l.NI("",[l.kI.required]),amount:new l.NI("",[l.kI.required,l.kI.pattern("^[0-9]+(\\.[0-9]{1,2})?$"),this.amountValidator.bind(this)])}),this.saveDepositSettings.get("interval")?.valueChanges.subscribe(()=>{this.saveDepositSettings.get("amount")?.updateValueAndValidity()}),this.editDepositSettings=new l.cw({_id:new l.NI("",[l.kI.required]),annual_rate:new l.NI("",[l.kI.required,l.kI.pattern("^[0-9]+(\\.[0-9]{1,2})?$")]),interval:new l.NI("",[l.kI.required]),duration:new l.NI("",[l.kI.required]),amount:new l.NI("",[l.kI.required,l.kI.pattern("^[0-9]+(\\.[0-9]{1,2})?$"),this.amountValidator.bind(this)])}),this.editDepositSettings.get("interval")?.valueChanges.subscribe(()=>{this.editDepositSettings.get("amount")?.updateValueAndValidity()}),this.depositFormGroup=new l.cw({payment_interval:new l.NI({value:"",disabled:!0},[l.kI.required]),paid_amount:new l.NI({value:"",disabled:!0},[l.kI.required,l.kI.pattern("^[0-9]+(\\.[0-9]{1,2})?$")]),payment_method:new l.NI({value:"Cash",disabled:!0},[l.kI.required]),notes:new l.NI("")}),this.searchFormGroup=new l.cw({created_date:new l.NI(""),status:new l.NI(""),payment_method:new l.NI(""),transanction_id:new l.NI("")}),this.editDepositFormGroup=new l.cw({_id:new l.NI("",[l.kI.required]),payment_interval:new l.NI("",[l.kI.required]),paid_amount:new l.NI("",[l.kI.required,l.kI.pattern("^[0-9]+(\\.[0-9]{1,2})?$")]),payment_method:new l.NI("",[l.kI.required]),transanction_id:new l.NI("",[l.kI.required]),notes:new l.NI("")}),this.rdSettlementFormGroup=new l.cw({total_principal:new l.NI({value:"",disabled:!0},[l.kI.required,l.kI.pattern("^[0-9]+(\\.[0-9]{1,2})?$")]),total_penalty:new l.NI({value:"",disabled:!0},[l.kI.required,l.kI.pattern("^[0-9]+(\\.[0-9]{1,2})?$")]),total_interest:new l.NI({value:"",disabled:!0},[l.kI.required,l.kI.pattern("^[0-9]+(\\.[0-9]{1,2})?$")]),total_net:new l.NI({value:"",disabled:!0},[l.kI.required,l.kI.pattern("^[0-9]+(\\.[0-9]{1,2})?$")]),settlement_date:new l.NI("",[l.kI.required]),notes:new l.NI("")}),this.closeRDFormGroup=new l.cw({penalty_amount:new l.NI(0,[l.kI.min(0)]),final_amount:new l.NI({value:0,disabled:!0}),notes:new l.NI("")}),this.closeRDFormGroup.get("penalty_amount")?.valueChanges.subscribe(t=>{this.calculateFinalAmount()}),this.notificationForm=new l.cw({title:new l.NI("",[l.kI.required,l.kI.minLength(3)]),body:new l.NI("",[l.kI.required,l.kI.minLength(10)]),sendSMS:new l.NI(!1)}),this.settingsService.getGeneralSettings$().subscribe(t=>{t&&(this.rd_rate=t.recurring_deposit_rate||0,this.saveDepositSettings.patchValue({annual_rate:this.rd_rate}))})}getProfile(t){this.userService.getBasicUserProfile(t).subscribe(n=>{n&&"success"===n.status?this.profile=n.data.user||{}:this.router.navigate(["/dashboard"])},n=>{console.error("Error fetching user profile:",n),this.router.navigate(["/dashboard"])})}openModal(t){this.modalService.open(t,{size:"lg",centered:!0,backdrop:"static",keyboard:!1})}createSettings(){this.saveDepositSettings.valid?(this.saveDepositSettings.value.user=this.user_id,this.depositService.createRDepositSettings(this.saveDepositSettings.value).subscribe(n=>{n&&"success"===n.status&&(this.toast.success("Deposit settings saved successfully"),this.saveDepositSettings.reset(),this.modalService.dismissAll(),this.getDepositSettings())},n=>{console.error("Error creating deposit settings:",n),this.toast.error("Error creating deposit settings","Error")})):this.saveDepositSettings.markAllAsTouched()}getDepositSettings(){this.depositService.getRDepositSettings(this.user_id).subscribe(t=>{if(t&&"success"===t.status)if(this.depositSettingsList=t.data.settings,this.depositSettingsList.sort((n,r)=>"Approved"===n.status&&"Approved"!==r.status?-1:"Approved"!==n.status&&"Approved"===r.status?1:0),console.log("Deposit settings:",this.depositSettingsList),this.isRDOpened=this.depositSettingsList.some(n=>"Approved"===n.status||"Completed"===n.status||"Close-Requested"===n.status),this.canMakeDeposits=this.depositSettingsList.some(n=>"Approved"===n.status),this.canRequestClosure=this.depositSettingsList.some(n=>"Approved"===n.status),this.canCreateSettings=this.depositSettingsList.some(n=>"Requested"!==n.status),this.canCreateSettings||(this.toast.warning("User has requested to open an RD Account. Please click on edit Setting, and fill required fields.","Warning"),this.editDepositSettings.patchValue({annual_rate:this.rd_rate,_id:this.depositSettingsList[0]._id,interval:this.depositSettingsList[0].interval,duration:this.depositSettingsList[0].duration,amount:this.depositSettingsList[0].amount,penality_rate:this.depositSettingsList[0].penality_rate}),this.modalService.open(this.editSettingModal,{size:"lg",centered:!0,backdrop:"static",keyboard:!1})),this.isRDOpened&&this.depositSettingsList.some(n=>"Approved"===n.status)&&this.loadOutstandingAmountsForAllAccounts(),setTimeout(()=>{this.refreshStatistics()},500),this.depositSettingsList.length>0&&this.isRDOpened){const r=this.depositSettingsList.find(o=>"Approved"===o.status)||this.depositSettingsList[0];this.getDeposits(r._id),this.depositFormGroup.patchValue({payment_interval:r.interval}),this.selectedSetting=r,this.selectRDAccount(r)}else this.depositFormGroup.patchValue({payment_interval:""});else this.toast.error("Failed to fetch deposit settings","Error")},t=>{console.error("Error fetching deposit settings:",t),this.toast.error("Error fetching deposit settings","Error")})}reset(){this.searchFormGroup.reset(),this.page=1,this.getDepositSettings()}getDeposits(t){const n=this.searchFormGroup.value,r=[];Object.keys(n).forEach(s=>{null!==n[s]&&""!==n[s]&&r.push(`${s}=${encodeURIComponent(n[s])}`)});const o=r.join("&");this.depositService.getRDeposits(t,this.page,this.pageSize,o).subscribe(s=>{s&&"success"===s.status?(this.depositList=s.data.deposits,this.total=this.depositList.length):this.toast.error("Failed to fetch deposits","Error")},s=>{console.error("Error fetching deposits:",s),this.toast.error("Error fetching deposits","Error")})}settingsChanged(t){const n=this.depositSettingsList.find(r=>r._id===t.target.value);this.selectedSetting=n,n&&(console.log("Selecting RD account:",n._id,"Status:",n.status),this.editDepositSettings.patchValue(n),"Approved"===n.status?this.outstanding(this.user_id,n._id):(this.outstandingAmount=null,this.depositSummary={interest:0,paid:0,penalty:0,total:0}),this.depositFormGroup.patchValue({required_amount:n.amount,payment_interval:n.interval,pay_day_rate:+(this.selectedSetting.annual_rate/365).toFixed(2)}),this.getDeposits(n._id))}generateUniqueId(){return(new Date).getFullYear().toString()+Math.floor(1e4+9e4*Math.random()).toString()}addDeposit(){if(this.depositFormGroup.valid){if("Approved"!==this.selectedSetting?.status)return void this.toast.error("Deposits can only be made to approved RD accounts","Error");const t=this.depositFormGroup.getRawValue();if(t.paid_amount>this.selectedSetting.amount)return void this.toast.error("Paid amount must be lower than or equal to the required amount","Error");t.user=this.user_id,t.r_deposit_settings=this.selectedSetting._id,t.required_amount=this.selectedSetting.amount,t.payment_interval=this.selectedSetting.interval,t.payment_method="Cash",this.depositService.createRDeposit(t).subscribe(n=>{n&&"success"===n.status&&(this.toast.success("Deposit created successfully"),this.modalService.dismissAll(),this.depositFormGroup.reset({payment_interval:this.selectedSetting.interval,paid_amount:"",payment_method:"Cash",notes:""}),this.outstanding(this.user_id,this.selectedSetting._id),this.getDeposits(t.r_deposit_settings))},n=>{console.error("Error creating deposit:",n),this.toast.error("Error creating deposit","Error")})}else this.depositFormGroup.markAllAsTouched()}editDepositForm(t,n){this.openModal(t),this.editDepositFormGroup.patchValue(n)}editDeposit(){if(this.editDepositFormGroup.valid){const t=this.editDepositFormGroup.value;t.user=this.user_id,this.depositService.editRDeposit(t).subscribe(n=>{n&&"success"===n.status&&(this.toast.success("Deposit updated successfully"),this.editDepositFormGroup.reset(),this.modalService.dismissAll(),this.getDeposits(this.selectedSetting._id))},n=>{console.error("Error updating deposit:",n),this.toast.error("Error updating deposit","Error")})}else this.editDepositFormGroup.markAllAsTouched()}editSettings(){if(this.editDepositSettings.valid){const t=this.editDepositSettings.value;t.status="Approved",this.depositService.editRDepositSettings(t).subscribe(n=>{n&&"success"===n.status&&(this.toast.success("Deposit settings updated successfully"),this.editDepositSettings.reset(),this.modalService.dismissAll(),this.getDepositSettings())},n=>{console.error("Error updating deposit settings:",n),this.toast.error("Error updating deposit settings","Error")})}else this.editDepositSettings.markAllAsTouched()}openCloseRDModal(t,n){this.selectedUser=n,this.getDepositSummary(n?.user,this.selectedSetting?._id),this.modalService.open(t,{size:"lg",centered:!0,backdrop:"static",keyboard:!1})}getDepositSummary(t,n){this.depositService.findOutstandingDepositsOfRecurring(t,n).subscribe(r=>{r&&"success"===r.status?(this.depositSummary=r.data.depositSummary,this.calculateFinalAmount()):this.depositSummary=null},r=>{console.error("Error fetching deposit summary:",r),this.depositSummary={paid:0,interest:0,total:0},this.calculateFinalAmount()})}calculateFinalAmount(){const t=this.closeRDFormGroup.get("penalty_amount")?.value||0;this.closeRDFormGroup.patchValue({final_amount:Math.max(0,(this.depositSummary?.paid||0)+(this.depositSummary?.interest||0)-t)})}canSelectedAccountMakeDeposits(){return"Approved"===this.selectedSetting?.status&&this.outstandingAmount?.outstanding>0}canSelectedAccountRequestClosure(){return"Approved"===this.selectedSetting?.status}submitCloseRDRequest(){if("Close-Requested"===this.selectedUser.status)if(this.closeRDFormGroup.valid){const t=this.closeRDFormGroup.value;u().fire({title:"Confirm RD Closure",text:`Are you sure you want to process this RD closure with penalty amount \u20b9${t.penalty_amount}? This will mark the account as completed.`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc3545",cancelButtonColor:"#6c757d",confirmButtonText:"Yes, Process Closure"}).then(n=>{if(n.isConfirmed){const r={_id:this.selectedUser._id,status:"Completed",penalty_amount:t.penalty_amount,final_amount:this.closeRDFormGroup.get("final_amount")?.value,closure_notes:t.notes};this.depositService.editRDepositSettings(r).subscribe(o=>{o&&"success"===o.status?(u().fire({icon:"success",title:"RD Closure Processed",text:"The RD closure has been processed successfully. The final settlement amount has been recorded.",confirmButtonText:"OK"}),this.closeRDFormGroup.reset(),this.modalService.dismissAll(),this.getDepositSettings()):this.toast.error("Failed to process RD closure","Error")},o=>{console.error("Error processing RD closure:",o);let s="Failed to process RD closure. Please try again.";o.error&&o.error.message&&(s=o.error.message),this.toast.error(s,"Error")})}})}else this.closeRDFormGroup.markAllAsTouched();else this.toast.error('This RD must be in "Close-Requested" status to process closure. Please wait for member to request closure first.',"Invalid Status")}onUserSelectionChange(t,n){t.selected=n.target.checked;const r=String(t.user._id);this.globalSelections.set(r,t.selected),this.updateSelectAllState(),this.updateSelectedUsers()}onSelectAllChange(t){this.selectAll=t.target.checked,this.toggleSelectAll()}toggleSelectAll(){this.depositList.forEach(t=>{t.selected=this.selectAll;const n=String(t.user._id);this.globalSelections.set(n,this.selectAll)}),this.updateSelectedUsers()}updateSelectAllState(){this.selectAll=this.depositList.length>0&&this.depositList.every(t=>t.selected)}updateSelectedUsers(){this.selectedUsers=[],this.selectedUserIds=[],this.globalSelections.forEach((t,n)=>{if(t){const r=this.depositList.find(o=>String(o.user._id)===n);r?(this.selectedUsers.push(r),this.selectedUserIds.push(n)):this.selectedUserIds.push(n)}}),this.totalSelectedCount=this.selectedUserIds.length}clearSelection(){this.selectAll=!1,this.globalSelections.clear(),this.depositList.forEach(t=>{t.selected=!1}),this.updateSelectedUsers()}selectAllMatchingFilter(){const t=this.searchFormGroup.value,n=[];Object.keys(t).forEach(o=>{null!==t[o]&&""!==t[o]&&void 0!==t[o]&&n.push(`${o}=${encodeURIComponent(t[o])}`)});const r=n.join("&");this.depositService.getCompulsoryDepositUserIds(r).subscribe(o=>{console.log("User IDs matching filter:",o),o.status&&o.data&&o.data.userIds?(this.clearSelection(),o.data.userIds.forEach(s=>{this.globalSelections.set(s,!0)}),this.depositList.forEach(s=>{const d=String(s.user._id),m=this.globalSelections.has(d);s.selected=m}),this.updateSelectAllState(),this.updateSelectedUsers(),this.toast.success(`Selected ${o.data.userIds.length} users matching current filter`,"Bulk Selection Complete")):this.toast.error("Failed to retrieve user IDs for bulk selection","Error")},o=>{console.error("Error selecting all matching filter:",o),this.toast.error("Failed to select all users matching filter","Error")})}openNotificationModal(t){0!==this.totalSelectedCount?(this.notificationForm.reset({title:"",body:"",sendSMS:!1}),this.modalService.open(t,{size:"lg",centered:!0,backdrop:"static",keyboard:!1})):this.toast.warning("Please select users first","No Selection")}sendNotification(){if(this.notificationForm.invalid)return this.notificationForm.markAllAsTouched(),void this.toast.error("Please fill in all required fields correctly","Validation Error");if(0===this.totalSelectedCount)return void this.toast.warning("No deposits selected","Selection Required");this.isSendingNotification=!0;const t=this.notificationForm.value;console.log("Sending notification:",{title:t.title,body:t.body,sendSMS:t.sendSMS,userId:this.user_id,totalSelectedDeposits:this.totalSelectedCount}),this.depositService.sendBulkNotification({title:t.title,body:t.body,sendSMS:t.sendSMS,userIds:[this.user_id]}).subscribe(r=>{this.isSendingNotification=!1,r.status?(this.modalService.dismissAll(),this.toast.success(`Notification sent successfully to ${this.profile?.name}!`,"Notification Sent",{timeOut:5e3}),this.notificationForm.reset({title:"",body:"",sendSMS:!1})):this.toast.error("Failed to send notification","Error")},r=>{this.isSendingNotification=!1,console.error("Error sending notification:",r),this.toast.error("Failed to send notification","Error")})}getDisplayStatus(t){if("Approved"===t.status){const n=this.rdOutstandingAmounts[t._id];if(n&&n.depositSummary&&0===n.depositSummary.paid||this.selectedSetting&&this.selectedSetting._id===t._id&&this.depositSummary&&0===this.depositSummary.paid)return"In-Hold"}return t.status}getStatusClass(t){return{Requested:"badge-soft-warning",Approved:"badge-soft-success","In-Hold":"badge-soft-info",Completed:"badge-soft-primary","Close-Requested":"badge-soft-danger"}[this.getDisplayStatus(t)]||"badge-soft-secondary"}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(v.FF),e.\u0275\u0275directiveInject(L.s),e.\u0275\u0275directiveInject(I._W),e.\u0275\u0275directiveInject(S.i),e.\u0275\u0275directiveInject(f.F0),e.\u0275\u0275directiveInject(j.g),e.\u0275\u0275directiveInject(f.gz))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["app-recurring-deposit"]],viewQuery:function(t,n){if(1&t&&e.\u0275\u0275viewQuery(Sn,5),2&t){let r;e.\u0275\u0275queryRefresh(r=e.\u0275\u0275loadQuery())&&(n.editSettingModal=r.first)}},decls:120,vars:18,consts:[[1,"container-fluid"],["title","Recurring Deposit",3,"breadcrumbItems"],["role","alert","class","alert alert-warning ng-star-inserted",4,"ngIf"],["class","row",4,"ngIf"],[1,"col-xl-12"],[1,"row"],[1,"col-lg-3"],[1,"card","mini-stats-wid"],[1,"card-body"],[1,"d-flex","flex-wrap"],[1,"mr-3"],[1,"text-muted","mb-2"],["class","mb-0",4,"ngIf"],["class","mb-0 text-muted",4,"ngIf"],[1,"avatar-sm","ms-auto"],[1,"avatar-title","bg-light","rounded-circle","text-primary","font-size-20"],[1,"bx","bxs-book-bookmark"],[1,"card","blog-stats-wid"],[1,"me-3"],[1,"bx","bxs-note"],[1,"bx","bxs-message-square-dots"],[1,"col-lg-12"],[1,"card"],[1,"card-body","border-bottom"],[1,"d-flex","align-items-center"],[1,"mb-0","card-title","flex-grow-1"],[1,"flex-shrink-0","d-flex","gap-1"],["href","javascript:void(0);","class","btn btn-primary",3,"click",4,"ngIf"],["href","javascript:void(0);","class","btn btn-light",4,"ngIf"],[3,"formGroup"],[1,"row","g-3"],[1,"col-xxl-4","col-lg-6"],["type","search","id","searchInput","placeholder","Search for Transaction...","formControlName","transanction_id",1,"form-control"],[1,"col-xxl-2","col-lg-6"],["formControlName","status",1,"form-control","select2"],["value",""],["value","Paid"],["value","Interest"],["value","Penality"],[1,"col-xxl-2","col-lg-4"],["value","Bank Transfer"],["value","Cash"],["value","UPI"],["value","Cheque"],["id","datepicker1"],["type","date","formControlName","created_date","placeholder","Select date","data-date-format","dd M, yyyy","data-date-autoclose","true","data-date-container","#datepicker1","data-provide","datepicker",1,"form-control"],[1,"col-lg-1"],["type","button",1,"btn","btn-soft-secondary","w-100",3,"click"],[1,"mdi","mdi-filter-outline","align-middle"],["type","button",1,"btn","btn-light",3,"click"],[1,"mdi","mdi-refresh"],["class","d-flex flex-column justify-content-center align-items-center","style","min-height: 150px;",4,"ngIf"],["class","table-responsive",4,"ngIf"],["role","document"],["settingModal",""],["editSettingModal",""],["settlementModal",""],["addDepositModal",""],["editDepositModal",""],["closeRDModal",""],["role","alert",1,"alert","alert-warning","ng-star-inserted"],[1,"col-lg-4"],[1,"d-flex"],[1,"flex-shrink-0","me-3"],["alt","profile-image",1,"avatar-md","rounded-circle","img-thumbnail",3,"src"],[1,"flex-grow-1","align-self-center"],[1,"text-muted"],[1,"mb-2"],[1,"mb-1"],[1,"mb-0"],["class","badge badge-pill mt-2",3,"ngClass",4,"ngIf"],[1,"col-lg-4","align-self-center"],[1,"text-lg-center","mt-4","mt-lg-0"],[1,"col-4"],[1,"text-muted","text-truncate","mb-2"],[3,"href"],["class","col-lg-4 d-none d-lg-block",4,"ngIf"],[1,"badge","badge-pill","mt-2",3,"ngClass"],[1,"col-lg-4","d-none","d-lg-block"],[1,"clearfix","mt-4","mt-lg-0"],[1,"dropdown","float-end",3,"click"],["type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false","dropdowntoggle","",1,"btn","btn-primary","dropdown-toggle"],[1,"bx","bxs-cog","align-middle","me-1"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"card-title","mb-0"],[4,"ngIf"],["class","btn btn-sm btn-primary",3,"click",4,"ngIf"],[1,"row","mb-4"],[1,"col-lg-3","col-md-6"],[1,"card","border"],[1,"card-body","text-center"],[1,"avatar-sm","mx-auto","mb-3"],[1,"avatar-title","bg-primary-subtle","text-primary","rounded-circle","fs-24"],[1,"bx","bx-wallet"],[1,"text-muted","mb-1"],[1,"avatar-title","bg-success-subtle","text-success","rounded-circle","fs-24"],[1,"bx","bx-check-circle"],[1,"mb-0","text-success"],[1,"avatar-title","bg-info-subtle","text-info","rounded-circle","fs-24"],[1,"bx","bx-check-double"],[1,"mb-0","text-info"],[1,"avatar-title","bg-warning-subtle","text-warning","rounded-circle","fs-24"],[1,"bx","bx-time"],[1,"mb-0","text-warning"],["class","col-lg-3 col-md-4 col-sm-6 mb-3",4,"ngFor","ngForOf","ngForTrackBy"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"bx","bx-plus","me-1"],[1,"col-lg-3","col-md-4","col-sm-6","mb-3"],[1,"card","rd-card","border"],[1,"card-body","p-2",2,"min-height","140px"],[1,"d-flex","justify-content-between","align-items-center","mb-2"],[1,"mb-0","me-2","fs-14","fw-bold"],[1,"badge","badge-sm",3,"ngClass"],[1,"btn","btn-xs","py-1","px-2",3,"ngClass","disabled","click"],["class","bx bx-check fs-12",4,"ngIf"],["class","bx bx-hand-up fs-12",4,"ngIf"],[1,"row","g-1","rd-info-grid"],[1,"col-6"],[1,"text-center","p-1","bg-light","rounded"],[1,"fs-10","text-muted"],[1,"fs-12","fw-bold"],["class","mt-2 rd-outstanding-section",4,"ngIf"],["class","text-center mt-1",4,"ngIf"],[1,"bx","bx-check","fs-12"],[1,"bx","bx-hand-up","fs-12"],[1,"mt-2","rd-outstanding-section"],[1,"text-center","p-1","bg-warning","bg-opacity-10","rounded","border","border-warning","border-opacity-25"],[1,"fs-12","fw-bold","text-danger"],[1,"text-center","mt-1"],[1,"text-muted","fs-10"],[1,"mb-0","text-muted"],[1,"card-header","bg-light"],[1,"card-title","mb-0","flex-grow-1"],[1,"mdi","mdi-information-outline","me-2"],[1,"badge",3,"ngClass"],[1,"col-md-3"],[1,"text-center"],[1,"avatar-title","bg-primary-subtle","text-primary","rounded-circle","font-size-20"],[1,"mdi","mdi-calendar-clock"],[1,"avatar-title","bg-warning-subtle","text-warning","rounded-circle","font-size-20"],[1,"mdi","mdi-cash-minus"],[1,"avatar-title","bg-success-subtle","text-success","rounded-circle","font-size-20"],[1,"mdi","mdi-cash-check"],["class","col-md-3",4,"ngIf"],["class","row mt-4",4,"ngIf"],[1,"row","mt-3"],[1,"col-12"],["role","alert",1,"alert",3,"ngClass"],[1,"avatar-title","bg-info-subtle","text-info","rounded-circle","font-size-20"],[1,"mdi","mdi-check-circle"],[1,"row","mt-4"],["role","alert",1,"alert","alert-info"],[1,"alert-heading"],[1,"mdi","mdi-note-text-outline","me-2"],[1,"mdi","mdi-clock-outline","me-2"],[1,"mdi","mdi-check-circle","me-2"],["href","javascript:void(0);",1,"btn","btn-primary",3,"click"],["href","javascript:void(0);",1,"btn","btn-light"],[1,"d-flex","flex-column","justify-content-center","align-items-center",2,"min-height","150px"],["src","assets/img/not-found.png","width","300px","alt",""],[1,"text-mutes","mt-2"],[1,"table-responsive"],["id","basic-datatable",1,"table","table-bordered","dt-responsive","nowrap","datatables","no-footer","dtr-inline"],[4,"ngFor","ngForOf"],[1,"modal-header"],["id","myModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3","col-lg-6"],[1,"col-form-label"],["formControlName","interval",1,"form-control","select2"],["value","","disabled",""],["value","daily"],["value","monthly"],["class","text-danger",4,"ngIf"],["type","number","placeholder","Amount","formControlName","amount",1,"form-control"],["class","text-muted",4,"ngIf"],["type","number","placeholder","Settings","formControlName","annual_rate",1,"form-control"],["formControlName","duration",1,"form-control","select2"],["value","1"],["value","1.5"],["value","2"],["value","2.5"],["value","3"],["value","3.5"],["value","4"],["value","4.5"],["value","5"],["value","5.5"],["value","6"],["value","6.5"],["value","7"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary","waves-effect",3,"click"],["type","button",1,"btn","btn-primary","waves-effect","waves-light",3,"disabled","click"],[1,"text-danger"],["type","number","placeholder","Penality Rate","formControlName","penality_rate",1,"form-control"],["value","0.5"],["value","Monthly"],["type","number","placeholder","Total Principal","formControlName","total_principal",1,"form-control"],["type","number","placeholder","Total Penalty","formControlName","total_penalty",1,"form-control"],["type","number","placeholder","Total Interest","formControlName","total_interest",1,"form-control"],["type","number","placeholder","Total Net","formControlName","total_net",1,"form-control"],["type","date","placeholder","Settlement Date","formControlName","settlement_date",1,"form-control"],[1,"mb-3","col-lg-12"],["rows","2","placeholder","Notes","formControlName","notes",1,"form-control"],["type","submit",1,"btn","btn-primary","waves-effect","waves-light",3,"disabled"],["for","paid-amount",1,"col-form-label"],["type","number","id","paid-amount","formControlName","paid_amount","placeholder","Paid Amount","readonly","",1,"form-control"],["for","payment-method",1,"col-form-label"],["id","payment-method","formControlName","payment_method","disabled","",1,"form-control"],["for","notes",1,"col-form-label"],["id","notes","rows","2","formControlName","notes","placeholder","Notes",1,"form-control"],["type","submit",1,"btn","btn-primary","waves-effect","waves-light",3,"disabled","click"],["for","pay-day-rate",1,"col-form-label"],["type","number","id","pay-day-rate","formControlName","pay_day_rate","placeholder","Pay Day Rate",1,"form-control"],["for","required-amount",1,"col-form-label"],["type","number","id","required-amount","formControlName","required_amount","placeholder","Required Amount",1,"form-control"],["for","payment-interval",1,"col-form-label"],["id","payment-interval","formControlName","payment_interval",1,"form-control"],["type","number","id","paid-amount","formControlName","paid_amount","placeholder","Paid Amount",1,"form-control"],["id","payment-method","formControlName","payment_method",1,"form-control"],["for","transaction-id",1,"col-form-label"],["type","text","id","transaction-id","formControlName","transanction_id","placeholder","Transaction Id",1,"form-control"],["id","closeRDModalLabel",1,"modal-title","me-3"],[1,"col-lg-12","mb-4"],[1,"col-md-4"],[1,"text-success"],[1,"text-primary"],[1,"text-info"],["class","col-lg-12 mb-4",4,"ngIf"],[1,"mdi","mdi-alert-circle-outline","me-2"],["for","penalty-amount",1,"col-form-label"],["type","number","id","penalty-amount","formControlName","penalty_amount","placeholder","Enter penalty amount","min","0","step","0.01",1,"form-control"],["for","final-amount",1,"col-form-label"],["type","number","id","final-amount","formControlName","final_amount","placeholder","Final amount","readonly","",1,"form-control"],[1,"col-lg-12","mb-3"],[1,"card","border-info"],[1,"card-header","bg-info-subtle"],[1,"mdi","mdi-calculator","me-2"],[1,"row","text-center"],[1,"border-end"],[1,"text-warning"],[1,"col-12","text-center"],[1,"text-info","mb-0"],[1,"mdi","mdi-equal","me-2"],["for","closure-notes",1,"col-form-label"],["id","closure-notes","rows","3","formControlName","notes","placeholder","Enter any notes for closure request",1,"form-control"],["type","submit",1,"btn","btn-danger","waves-effect","waves-light",3,"disabled","click"],[1,"mdi","mdi-lock-check","me-1"],[1,"card","border-warning"],[1,"card-header","bg-warning-subtle"],["class","row mt-3",4,"ngIf"],[1,"alert","alert-info"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-page-title",1),e.\u0275\u0275template(2,bn,2,0,"div",2),e.\u0275\u0275template(3,En,42,11,"div",3),e.\u0275\u0275template(4,Vn,52,9,"div",3),e.\u0275\u0275elementStart(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"p",11),e.\u0275\u0275text(13,"Total Principal"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(14,qn,2,1,"h5",12),e.\u0275\u0275template(15,Gn,2,0,"h5",13),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"div",14)(17,"div",15),e.\u0275\u0275element(18,"i",16),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275elementStart(19,"div",6)(20,"div",17)(21,"div",8)(22,"div",9)(23,"div",18)(24,"p",11),e.\u0275\u0275text(25,"Total Interest"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(26,Pn,2,1,"h5",12),e.\u0275\u0275template(27,Mn,2,0,"h5",13),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(28,"div",14)(29,"div",15),e.\u0275\u0275element(30,"i",19),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275elementStart(31,"div",6)(32,"div",17)(33,"div",8)(34,"div",9)(35,"div",10)(36,"p",11),e.\u0275\u0275text(37,"Total Penalty"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(38,Bn,2,1,"h5",12),e.\u0275\u0275template(39,On,2,0,"h5",13),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(40,"div",14)(41,"div",15),e.\u0275\u0275element(42,"i",20),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275elementStart(43,"div",6)(44,"div",17)(45,"div",8)(46,"div",9)(47,"div",10)(48,"p",11),e.\u0275\u0275text(49,"Total Net"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(50,zn,2,1,"h5",12),e.\u0275\u0275template(51,$n,2,0,"h5",13),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(52,"div",14)(53,"div",15),e.\u0275\u0275element(54,"i",20),e.\u0275\u0275elementEnd()()()()()()()(),e.\u0275\u0275template(55,Wn,54,23,"div",3),e.\u0275\u0275elementStart(56,"div",5)(57,"div",21)(58,"div",22)(59,"div",23)(60,"div",24)(61,"h5",25),e.\u0275\u0275text(62,"Deposit History"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(63,"div",26),e.\u0275\u0275template(64,Hn,2,0,"a",27),e.\u0275\u0275template(65,Jn,2,0,"a",28),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(66,"div",23)(67,"form",29)(68,"div",30)(69,"div",31),e.\u0275\u0275element(70,"input",32),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(71,"div",33)(72,"select",34)(73,"option",35),e.\u0275\u0275text(74,"Select Status"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(75,"option",36),e.\u0275\u0275text(76,"Paid"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(77,"option",37),e.\u0275\u0275text(78,"Interest"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(79,"option",38),e.\u0275\u0275text(80,"Penality"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(81,"div",39)(82,"select",34)(83,"option",35),e.\u0275\u0275text(84,"Select Payment Method"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(85,"option",40),e.\u0275\u0275text(86,"Bank Transfer"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(87,"option",41),e.\u0275\u0275text(88,"Cash"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(89,"option",42),e.\u0275\u0275text(90,"UPI"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(91,"option",43),e.\u0275\u0275text(92,"Cheque"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(93,"div",39)(94,"div",44),e.\u0275\u0275element(95,"input",45),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(96,"div",46)(97,"button",47),e.\u0275\u0275listener("click",function(){return n.getDeposits(null==n.selectedSetting?null:n.selectedSetting._id)}),e.\u0275\u0275element(98,"i",48),e.\u0275\u0275text(99," Filter"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(100,"div",46)(101,"button",49),e.\u0275\u0275listener("click",function(){return n.reset()}),e.\u0275\u0275element(102,"i",50),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(103,"div",8)(104,"div",5)(105,"div",21),e.\u0275\u0275template(106,Qn,4,0,"div",51),e.\u0275\u0275template(107,ei,24,1,"div",52),e.\u0275\u0275elementEnd()()()()()()(),e.\u0275\u0275template(108,gi,68,8,"ng-template",53,54,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(110,Ri,57,9,"ng-template",53,55,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(112,Wi,43,7,"ng-template",53,56,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(114,Xi,28,4,"ng-template",53,57,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(116,pr,60,8,"ng-template",53,58,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(118,xr,96,19,"ng-template",53,59,e.\u0275\u0275templateRefExtractor)),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("breadcrumbItems",n.breadCrumbItems),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.canCreateSettings),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.profile),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.depositSettingsList.length>=1),e.\u0275\u0275advance(10),e.\u0275\u0275property("ngIf",!n.isLoadingAccountStatistics),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isLoadingAccountStatistics),e.\u0275\u0275advance(11),e.\u0275\u0275property("ngIf",!n.isLoadingAccountStatistics),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isLoadingAccountStatistics),e.\u0275\u0275advance(11),e.\u0275\u0275property("ngIf",!n.isLoadingAccountStatistics),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isLoadingAccountStatistics),e.\u0275\u0275advance(11),e.\u0275\u0275property("ngIf",!n.isLoadingAccountStatistics),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isLoadingAccountStatistics),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",n.selectedSetting&&("Close-Requested"===n.selectedSetting.status||"Completed"===n.selectedSetting.status)),e.\u0275\u0275advance(9),e.\u0275\u0275property("ngIf",n.canSelectedAccountMakeDeposits()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0!==n.depositList.length),e.\u0275\u0275advance(2),e.\u0275\u0275property("formGroup",n.searchFormGroup),e.\u0275\u0275advance(39),e.\u0275\u0275property("ngIf",0===n.depositList.length),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0!==n.depositList.length))},dependencies:[p.NgClass,p.NgForOf,p.NgIf,x.V,l._Y,l.YN,l.Kr,l.Fj,l.wV,l.EJ,l.JJ,l.JL,l.qQ,l.sg,l.u,p.DecimalPipe,p.TitleCasePipe,p.DatePipe]}),i})();const br=["addDepositModal"];function Cr(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",23)(1,"div",9)(2,"div",24)(3,"strong"),e.\u0275\u0275text(4,"User Request:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(5," User has requested for opening a Fixed Deposit Account. "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"span",25),e.\u0275\u0275text(7,"Requested"),e.\u0275\u0275elementEnd()()())}function yr(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"span",48),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngClass",t.getStatusClass(t.selectedSetting)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.getDisplayStatus(t.selectedSetting)," ")}}function Er(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"a",58),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(r.requestCloseFD())}),e.\u0275\u0275element(1,"i",59),e.\u0275\u0275text(2,"Request Closure "),e.\u0275\u0275elementEnd()}}function Ir(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"a",58),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(3),o=e.\u0275\u0275reference(31);return e.\u0275\u0275resetView(r.openCloseFDModal(o))}),e.\u0275\u0275element(1,"i",60),e.\u0275\u0275text(2,"Complete Closure "),e.\u0275\u0275elementEnd()}}function wr(i,a){1&i&&e.\u0275\u0275element(0,"div",61)}function Dr(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",49)(1,"button",50),e.\u0275\u0275element(2,"i",51),e.\u0275\u0275text(3," Actions "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",52),e.\u0275\u0275template(5,Er,3,0,"a",53),e.\u0275\u0275template(6,Ir,3,0,"a",53),e.\u0275\u0275template(7,wr,1,0,"div",54),e.\u0275\u0275elementStart(8,"h6",55),e.\u0275\u0275text(9,"Current Status"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"span",56)(11,"span",57),e.\u0275\u0275text(12),e.\u0275\u0275elementEnd()()()()),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",t.canRequestClosure),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.selectedSetting&&"Close-Requested"===t.selectedSetting.status),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.canRequestClosure||t.selectedSetting&&"Close-Requested"===t.selectedSetting.status),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngClass",t.selectedSetting?t.getStatusClass(t.selectedSetting):"badge-soft-secondary"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.selectedSetting?t.getDisplayStatus(t.selectedSetting):"No Status"," ")}}function Fr(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",5)(1,"div",6)(2,"div",26)(3,"div",15)(4,"div",5)(5,"div",27)(6,"div",28)(7,"div",29),e.\u0275\u0275element(8,"img",30),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"div",31)(10,"div",32)(11,"p",33),e.\u0275\u0275text(12,"Admin Managing Fixed Deposit"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"h5",34),e.\u0275\u0275text(14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"p",35),e.\u0275\u0275text(16),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(17,yr,2,2,"span",36),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(18,"div",37)(19,"div",38)(20,"div",5)(21,"div",39)(22,"div")(23,"p",40),e.\u0275\u0275text(24,"User ID"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"h5",35),e.\u0275\u0275text(26),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(27,"div",39)(28,"div")(29,"p",40),e.\u0275\u0275text(30,"Mobile No"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(31,"h5",35)(32,"a",41),e.\u0275\u0275text(33),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(34,"div",39)(35,"div")(36,"p",40),e.\u0275\u0275text(37,"Approved On"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(38,"h5",35),e.\u0275\u0275text(39),e.\u0275\u0275pipe(40,"date"),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275elementStart(41,"div",42)(42,"div",43),e.\u0275\u0275template(43,Dr,13,5,"div",44),e.\u0275\u0275elementStart(44,"div",45),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(),o=e.\u0275\u0275reference(25);return e.\u0275\u0275resetView(r.openModal(o))}),e.\u0275\u0275elementStart(45,"button",46),e.\u0275\u0275element(46,"i",47),e.\u0275\u0275text(47," Create New FD "),e.\u0275\u0275elementEnd()()()()()()()()()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(8),e.\u0275\u0275propertyInterpolate("src",t.profile.profile_image||"assets/images/users/user_placeholder.png",e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(t.profile.name),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.profile.account_number),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.selectedSetting),e.\u0275\u0275advance(9),e.\u0275\u0275textInterpolate(t.profile.user_id),e.\u0275\u0275advance(6),e.\u0275\u0275propertyInterpolate1("href","tel:",t.profile.mobile_number,"",e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.profile.mobile_number),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1(" ",t.profile.approved_date?e.\u0275\u0275pipeBind1(40,9,t.profile.approved_date):"Not Approved"," "),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",t.depositSettings.length>0)}}function kr(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",8)(4,"div",62),e.\u0275\u0275element(5,"img",63),e.\u0275\u0275elementStart(6,"p",64),e.\u0275\u0275text(7,"No Fixed Deposit Account found."),e.\u0275\u0275element(8,"br"),e.\u0275\u0275text(9,"Create a new account for this user."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"button",65),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(),o=e.\u0275\u0275reference(25);return e.\u0275\u0275resetView(r.openModal(o))}),e.\u0275\u0275text(11,"Create New Fixed Deposit"),e.\u0275\u0275elementEnd()()()()()()}}function Ar(i,a){1&i&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"Fixed Deposit Account"),e.\u0275\u0275elementEnd())}function Tr(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("Fixed Deposit Accounts (",t.depositSettings.length,")")}}function Nr(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"option",77),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=a.$implicit,n=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("selected",t._id===(null==n.selectedSetting?null:n.selectedSetting._id)),e.\u0275\u0275attribute("value",t._id),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate4(" FD #",t.id," - \u20b9",t.amount," / ",t.duration," Years (",t.annual_rate,"%) ")}}function Rr(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"select",75),e.\u0275\u0275listener("change",function(r){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(o.settingsChanged(r))}),e.\u0275\u0275template(1,Nr,2,6,"option",76),e.\u0275\u0275elementEnd()}if(2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.depositSettings)}}function Vr(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"span",82),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.getActiveAccountsCount())}}function qr(i,a){1&i&&(e.\u0275\u0275elementStart(0,"span",86),e.\u0275\u0275text(1,"Loading..."),e.\u0275\u0275elementEnd())}function Gr(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"span",82),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"number"),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("\u20b9",e.\u0275\u0275pipeBind2(2,1,t.getTotalPrincipal(),"1.2-2"),"")}}function Pr(i,a){1&i&&(e.\u0275\u0275elementStart(0,"span",86),e.\u0275\u0275text(1,"Loading..."),e.\u0275\u0275elementEnd())}function Mr(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"span",87),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"number"),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("\u20b9",e.\u0275\u0275pipeBind2(2,1,t.getTotalOutstanding(),"1.2-2"),"")}}function Br(i,a){1&i&&(e.\u0275\u0275elementStart(0,"span",86),e.\u0275\u0275text(1,"Loading..."),e.\u0275\u0275elementEnd())}function Or(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",78)(1,"div",6)(2,"div",79)(3,"div",80)(4,"div",81)(5,"h6",34),e.\u0275\u0275text(6,"Total Accounts"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"span",82),e.\u0275\u0275text(8),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"div",81)(10,"h6",34),e.\u0275\u0275text(11,"Active Accounts"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(12,Vr,2,1,"span",83),e.\u0275\u0275template(13,qr,2,0,"span",84),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"div",81)(15,"h6",34),e.\u0275\u0275text(16,"Total Principal"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(17,Gr,3,4,"span",83),e.\u0275\u0275template(18,Pr,2,0,"span",84),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"div",81)(20,"h6",34),e.\u0275\u0275text(21,"Total Outstanding"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(22,Mr,3,4,"span",85),e.\u0275\u0275template(23,Br,2,0,"span",84),e.\u0275\u0275elementEnd()()()()()),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(8),e.\u0275\u0275textInterpolate(t.depositSettings.length),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",!t.isLoadingStatistics),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isLoadingStatistics),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",!t.isLoadingStatistics),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isLoadingStatistics),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",!t.isLoadingStatistics),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isLoadingStatistics)}}function zr(i,a){1&i&&e.\u0275\u0275element(0,"i",104)}function $r(i,a){1&i&&e.\u0275\u0275element(0,"i",105)}function Lr(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",109)(1,"small",110),e.\u0275\u0275element(2,"i",111),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"number"),e.\u0275\u0275elementEnd()()),2&i){const t=e.\u0275\u0275nextContext(2).$implicit,n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" Outstanding: \u20b9",e.\u0275\u0275pipeBind2(4,1,n.fdOutstandingAmounts[t._id].outstanding,"1.0-0")," ")}}function Ur(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",112)(1,"small",110),e.\u0275\u0275element(2,"i",113),e.\u0275\u0275text(3," Account Up to Date "),e.\u0275\u0275elementEnd()())}function jr(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",106),e.\u0275\u0275template(1,Lr,5,4,"div",107),e.\u0275\u0275template(2,Ur,4,0,"div",108),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext().$implicit,n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.fdOutstandingAmounts[t._id].outstanding>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.fdOutstandingAmounts[t._id].outstanding<=0)}}function Yr(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",114)(1,"button",115),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext().$implicit,o=e.\u0275\u0275nextContext(2);return o.selectFDAccount(r),e.\u0275\u0275resetView(o.openAddDepositModal())}),e.\u0275\u0275element(2,"i",116),e.\u0275\u0275text(3," Deposit "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"button",117),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext().$implicit,o=e.\u0275\u0275nextContext(2);return o.selectFDAccount(r),e.\u0275\u0275resetView(o.requestCloseFD())}),e.\u0275\u0275element(5,"i",118),e.\u0275\u0275text(6," Close "),e.\u0275\u0275elementEnd()()}if(2&i){const t=e.\u0275\u0275nextContext().$implicit,n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",!n.canSelectedAccountMakeDeposits()||t._id!==(null==n.selectedSetting?null:n.selectedSetting._id)),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",t._id!==(null==n.selectedSetting?null:n.selectedSetting._id))}}function Kr(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",122),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(2).$implicit,o=e.\u0275\u0275nextContext(2),s=e.\u0275\u0275reference(31);return o.selectFDAccount(r),e.\u0275\u0275resetView(o.openCloseFDModal(s))}),e.\u0275\u0275element(1,"i",123),e.\u0275\u0275text(2," Process Closure "),e.\u0275\u0275elementEnd()}}function Wr(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",106)(1,"div",119)(2,"small",110),e.\u0275\u0275element(3,"i",120),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(5,Kr,3,0,"button",121),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass","Completed"===t.status?"alert-success":"alert-warning"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass","Completed"===t.status?"bx-check-circle":"bx-time-five"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ","Completed"===t.status?"Account Closed":"Closure Pending"," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Close-Requested"===t.status)}}const Hr=function(i,a){return{"btn-success":i,"btn-outline-primary":a}};function Jr(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",88)(1,"div",89)(2,"div",90)(3,"div",91)(4,"div",9)(5,"h6",92),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"span",93),e.\u0275\u0275text(8),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"button",94),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit,s=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(s.selectFDAccount(o))}),e.\u0275\u0275template(10,zr,1,0,"i",95),e.\u0275\u0275template(11,$r,1,0,"i",96),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"div",97)(13,"div",98)(14,"div",99)(15,"div",100),e.\u0275\u0275text(16,"Principal"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div",101),e.\u0275\u0275text(18),e.\u0275\u0275pipe(19,"number"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(20,"div",98)(21,"div",99)(22,"div",100),e.\u0275\u0275text(23,"Rate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"div",101),e.\u0275\u0275text(25),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(26,"div",98)(27,"div",99)(28,"div",100),e.\u0275\u0275text(29,"Duration"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(30,"div",101),e.\u0275\u0275text(31),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(32,"div",98)(33,"div",99)(34,"div",100),e.\u0275\u0275text(35,"Maturity"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(36,"div",101),e.\u0275\u0275text(37),e.\u0275\u0275pipe(38,"number"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275template(39,jr,3,2,"div",102),e.\u0275\u0275template(40,Yr,7,2,"div",103),e.\u0275\u0275template(41,Wr,6,4,"div",102),e.\u0275\u0275elementEnd()()()}if(2&i){const t=a.$implicit,n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275classProp("border-primary",(null==n.selectedSetting?null:n.selectedSetting._id)===t._id)("border-success","Approved"===t.status&&(null==n.selectedSetting?null:n.selectedSetting._id)!==t._id),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1("FD #",t.id,""),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",n.getStatusClass(t)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",n.getDisplayStatus(t)," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(24,Hr,(null==n.selectedSetting?null:n.selectedSetting._id)===t._id,(null==n.selectedSetting?null:n.selectedSetting._id)!==t._id))("disabled",(null==n.selectedSetting?null:n.selectedSetting._id)===t._id),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==n.selectedSetting?null:n.selectedSetting._id)===t._id),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==n.selectedSetting?null:n.selectedSetting._id)!==t._id),e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate1("\u20b9",e.\u0275\u0275pipeBind2(19,18,t.amount,"1.0-0"),""),e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate1("",t.annual_rate,"%"),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1("",t.duration,"Y"),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1("\u20b9",e.\u0275\u0275pipeBind2(38,21,t.maturity_amount,"1.0-0"),""),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","Approved"===t.status&&n.fdOutstandingAmounts[t._id]),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Approved"===t.status),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Close-Requested"===t.status||"Completed"===t.status)}}function Qr(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",66)(4,"h4",67),e.\u0275\u0275template(5,Ar,2,0,"span",68),e.\u0275\u0275template(6,Tr,2,1,"span",68),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",69),e.\u0275\u0275template(8,Rr,2,1,"select",70),e.\u0275\u0275elementStart(9,"button",71),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(),o=e.\u0275\u0275reference(25);return e.\u0275\u0275resetView(r.openModal(o))}),e.\u0275\u0275element(10,"i",72),e.\u0275\u0275text(11,"New FD Account "),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(12,"div",15),e.\u0275\u0275template(13,Or,24,7,"div",73),e.\u0275\u0275elementStart(14,"div",5),e.\u0275\u0275template(15,Jr,42,27,"div",74),e.\u0275\u0275elementEnd()()()()()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",1===t.depositSettings.length),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.depositSettings.length>1),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.depositSettings.length>1),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",t.depositSettings.length>1),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.depositSettings)("ngForTrackBy",t.trackBySettingId)}}function Zr(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",143)(1,"button",144),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(r.openAddDepositModal())}),e.\u0275\u0275element(2,"i",72),e.\u0275\u0275text(3,"Add Deposit "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"button",145),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(r.refreshAllData())}),e.\u0275\u0275element(5,"i",146),e.\u0275\u0275text(6,"Refresh "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"button",147),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(r.requestCloseFD())}),e.\u0275\u0275element(8,"i",148),e.\u0275\u0275text(9,"Close Account "),e.\u0275\u0275elementEnd()()}if(2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",!t.canSelectedAccountMakeDeposits())}}function Xr(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"button",145),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(2),o=e.\u0275\u0275reference(31);return e.\u0275\u0275resetView(r.openCloseFDModal(o))}),e.\u0275\u0275element(2,"i",113),e.\u0275\u0275text(3,"Process Closure "),e.\u0275\u0275elementEnd()()}}function el(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"p",35),e.\u0275\u0275text(1," Outstanding Amount: "),e.\u0275\u0275elementStart(2,"strong"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"number"),e.\u0275\u0275elementEnd()()),2&i){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("\u20b9",e.\u0275\u0275pipeBind2(4,1,t.fdOutstandingAmounts[t.selectedSetting._id].outstanding,"1.2-2"),"")}}function tl(i,a){1&i&&(e.\u0275\u0275elementStart(0,"p",35),e.\u0275\u0275text(1," The account is up to date. No outstanding payments required. "),e.\u0275\u0275elementEnd())}function nl(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",149)(1,"div",6)(2,"div",150)(3,"div",151)(4,"div")(5,"h6",152),e.\u0275\u0275element(6,"i",120),e.\u0275\u0275text(7," Account Status "),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(8,el,5,4,"p",153),e.\u0275\u0275template(9,tl,2,0,"p",153),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"button",154),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(r.refreshStatistics())}),e.\u0275\u0275element(11,"i",155),e.\u0275\u0275elementEnd()()()()()}if(2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",t.fdOutstandingAmounts[t.selectedSetting._id].outstanding>0?"alert-warning":"alert-success"),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngClass",t.fdOutstandingAmounts[t.selectedSetting._id].outstanding>0?"bx-info-circle":"bx-check-circle"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.fdOutstandingAmounts[t.selectedSetting._id].outstanding>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.fdOutstandingAmounts[t.selectedSetting._id].outstanding<=0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",t.fdOutstandingAmounts[t.selectedSetting._id].outstanding>0?"btn-warning":"btn-success")("disabled",t.isLoadingAccountStatistics),e.\u0275\u0275advance(1),e.\u0275\u0275classProp("bx-spin",t.isLoadingAccountStatistics)}}const il=function(i,a,t,n){return{"badge-soft-warning":i,"badge-soft-success":a,"badge-soft-primary":t,"badge-soft-danger":n}};function rl(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",124)(1,"div",6)(2,"div",7)(3,"div",66)(4,"h4",67),e.\u0275\u0275element(5,"i",125),e.\u0275\u0275text(6),e.\u0275\u0275elementStart(7,"span",126),e.\u0275\u0275text(8),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"div",127),e.\u0275\u0275template(10,Zr,10,1,"div",128),e.\u0275\u0275template(11,Xr,4,0,"div",68),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"div",15)(13,"div",78)(14,"div",129)(15,"div",130)(16,"div",131)(17,"div",132)(18,"div",133),e.\u0275\u0275element(19,"i",134),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(20,"h6",135),e.\u0275\u0275text(21,"Principal Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"h4",35),e.\u0275\u0275text(23),e.\u0275\u0275pipe(24,"number"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(25,"div",129)(26,"div",130)(27,"div",131)(28,"div",132)(29,"div",136),e.\u0275\u0275element(30,"i",137),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(31,"h6",135),e.\u0275\u0275text(32,"Interest Rate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(33,"h4",35),e.\u0275\u0275text(34),e.\u0275\u0275elementStart(35,"small",32),e.\u0275\u0275text(36,"p.a."),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(37,"div",129)(38,"div",130)(39,"div",131)(40,"div",132)(41,"div",138),e.\u0275\u0275element(42,"i",139),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(43,"h6",135),e.\u0275\u0275text(44,"Duration"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(45,"h4",35),e.\u0275\u0275text(46),e.\u0275\u0275elementStart(47,"small",32),e.\u0275\u0275text(48,"Years"),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(49,"div",129)(50,"div",130)(51,"div",131)(52,"div",132)(53,"div",140),e.\u0275\u0275element(54,"i",141),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(55,"h6",135),e.\u0275\u0275text(56,"Maturity Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(57,"h4",35),e.\u0275\u0275text(58),e.\u0275\u0275pipe(59,"number"),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275template(60,nl,12,8,"div",142),e.\u0275\u0275elementEnd()()()()),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1(" Fixed Deposit Account #",t.selectedSetting.id," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction4(16,il,"Requested"===t.selectedSetting.status,"Approved"===t.selectedSetting.status,"Completed"===t.selectedSetting.status,"Close-Requested"===t.selectedSetting.status)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.selectedSetting.status," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","Approved"===t.selectedSetting.status),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Close-Requested"===t.selectedSetting.status),e.\u0275\u0275advance(12),e.\u0275\u0275textInterpolate1("\u20b9",e.\u0275\u0275pipeBind2(24,10,t.selectedSetting.amount,"1.2-2"),""),e.\u0275\u0275advance(11),e.\u0275\u0275textInterpolate1("",t.selectedSetting.annual_rate,"% "),e.\u0275\u0275advance(12),e.\u0275\u0275textInterpolate1("",t.selectedSetting.duration," "),e.\u0275\u0275advance(12),e.\u0275\u0275textInterpolate1("\u20b9",e.\u0275\u0275pipeBind2(59,13,t.selectedSetting.maturity_amount,"1.2-2"),""),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","Approved"===t.selectedSetting.status&&t.fdOutstandingAmounts[t.selectedSetting._id])}}function ll(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",81)(1,"div",160)(2,"div",161)(3,"div",175),e.\u0275\u0275element(4,"i",176),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"p",135),e.\u0275\u0275text(6,"Completed On"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"h6",35),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"small",32),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"date"),e.\u0275\u0275elementEnd()()()),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(8),e.\u0275\u0275textInterpolate(t.selectedSetting.completed_on?e.\u0275\u0275pipeBind2(9,2,t.selectedSetting.completed_on,"mediumDate"):"N/A"),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.selectedSetting.completed_on?e.\u0275\u0275pipeBind2(12,5,t.selectedSetting.completed_on,"shortTime"):"")}}function al(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",177)(1,"div",173)(2,"div",178)(3,"h6",179),e.\u0275\u0275element(4,"i",180),e.\u0275\u0275text(5," Closure Notes "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"p",35),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd()()()()),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate(t.selectedSetting.closure_notes)}}function ol(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275element(1,"i",181),e.\u0275\u0275elementStart(2,"strong"),e.\u0275\u0275text(3,"Closure Request Pending:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(4," The FD closure request has been submitted and is pending admin approval. The final settlement amount will be processed once approved. "),e.\u0275\u0275elementEnd())}function sl(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275element(1,"i",60),e.\u0275\u0275elementStart(2,"strong"),e.\u0275\u0275text(3,"Account Closed:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(4," The FD account has been successfully closed. The final settlement amount has been processed. "),e.\u0275\u0275elementEnd())}const dl=function(i,a){return{"badge-soft-danger":i,"badge-soft-success":a}},ml=function(i,a){return{"alert-warning":i,"alert-success":a}};function cl(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",5)(1,"div",156)(2,"div",7)(3,"div",157)(4,"div",9)(5,"h5",158),e.\u0275\u0275element(6,"i",159),e.\u0275\u0275text(7," FD Closure Details "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"span",57),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(10,"div",15)(11,"div",5)(12,"div",81)(13,"div",160)(14,"div",161)(15,"div",162),e.\u0275\u0275element(16,"i",163),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(17,"p",135),e.\u0275\u0275text(18,"Closure Requested"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"h6",35),e.\u0275\u0275text(20),e.\u0275\u0275pipe(21,"date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"small",32),e.\u0275\u0275text(23),e.\u0275\u0275pipe(24,"date"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(25,"div",81)(26,"div",160)(27,"div",161)(28,"div",164),e.\u0275\u0275element(29,"i",165),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(30,"p",135),e.\u0275\u0275text(31,"Penalty Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(32,"h6",166),e.\u0275\u0275text(33),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(34,"small",32),e.\u0275\u0275text(35,"Early closure fee"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(36,"div",81)(37,"div",160)(38,"div",161)(39,"div",167),e.\u0275\u0275element(40,"i",168),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(41,"p",135),e.\u0275\u0275text(42,"Final Settlement"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(43,"h6",169),e.\u0275\u0275text(44),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(45,"small",32),e.\u0275\u0275text(46,"Amount to receive"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(47,ll,13,8,"div",170),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(48,al,8,1,"div",171),e.\u0275\u0275elementStart(49,"div",172)(50,"div",173)(51,"div",174),e.\u0275\u0275template(52,ol,5,0,"div",68),e.\u0275\u0275template(53,sl,5,0,"div",68),e.\u0275\u0275elementEnd()()()()()()()),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(8),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(17,dl,"Close-Requested"===t.selectedSetting.status,"Completed"===t.selectedSetting.status)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ","Close-Requested"===t.selectedSetting.status?"Closure Requested":"Account Closed"," "),e.\u0275\u0275advance(11),e.\u0275\u0275textInterpolate(t.selectedSetting.closure_requested_on?e.\u0275\u0275pipeBind2(21,11,t.selectedSetting.closure_requested_on,"mediumDate"):"N/A"),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.selectedSetting.closure_requested_on?e.\u0275\u0275pipeBind2(24,14,t.selectedSetting.closure_requested_on,"shortTime"):""),e.\u0275\u0275advance(10),e.\u0275\u0275textInterpolate1("\u20b9",t.selectedSetting.penalty_amount||0,""),e.\u0275\u0275advance(11),e.\u0275\u0275textInterpolate1("\u20b9",t.selectedSetting.final_amount||0,""),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf","Completed"===t.selectedSetting.status),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.selectedSetting.closure_notes),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(20,ml,"Close-Requested"===t.selectedSetting.status,"Completed"===t.selectedSetting.status)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Close-Requested"===t.selectedSetting.status),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Completed"===t.selectedSetting.status)}}function pl(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"a",182),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(),o=e.\u0275\u0275reference(27);return e.\u0275\u0275resetView(r.openModal(o))}),e.\u0275\u0275text(1,"Add Deposit"),e.\u0275\u0275elementEnd()}}function ul(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"a",183),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.requestCloseFD())}),e.\u0275\u0275element(1,"i",184),e.\u0275\u0275text(2," Request FD Closure "),e.\u0275\u0275elementEnd()}}function _l(i,a){1&i&&(e.\u0275\u0275elementStart(0,"a",185),e.\u0275\u0275element(1,"i",186),e.\u0275\u0275elementEnd())}function gl(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",62),e.\u0275\u0275element(1,"img",187),e.\u0275\u0275elementStart(2,"p",188),e.\u0275\u0275text(3,"No deposit found."),e.\u0275\u0275elementEnd()())}function fl(i,a){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"tr")(2,"td"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"td"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"td"),e.\u0275\u0275text(8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"td"),e.\u0275\u0275text(10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"td"),e.\u0275\u0275text(12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"td")(14,"span"),e.\u0275\u0275text(15),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementContainerEnd()),2&i){const t=a.$implicit,n=a.index;e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(n+1),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind2(6,9,t.created_date,"yyyy-MM-dd")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("\u20b9",t.tot_paid_amt,""),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.payment_method),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.transaction_id),e.\u0275\u0275advance(2),e.\u0275\u0275classMapInterpolate1("badge bg-","Paid"===t.status?"success":"Interest"===t.status?"warning":"danger",""),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.status)}}function vl(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",189)(1,"table",190)(2,"thead")(3,"tr")(4,"th"),e.\u0275\u0275text(5,"S.No."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"th"),e.\u0275\u0275text(7,"Date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"th"),e.\u0275\u0275text(9,"Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"th"),e.\u0275\u0275text(11,"Payment Method"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"th"),e.\u0275\u0275text(13,"Transanction"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"th"),e.\u0275\u0275text(15,"Status"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(16,"tbody"),e.\u0275\u0275template(17,fl,16,12,"ng-container",191),e.\u0275\u0275elementEnd()()()),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(17),e.\u0275\u0275property("ngForOf",t.depositList)}}function hl(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Amount is required."),e.\u0275\u0275elementEnd())}function xl(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Enter a valid number (up to 2 decimal places)."),e.\u0275\u0275elementEnd())}function Sl(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",221),e.\u0275\u0275template(1,hl,2,0,"small",68),e.\u0275\u0275template(2,xl,2,0,"small",68),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);let n,r;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(n=t.settingFormGroup.get("amount"))||null==n.errors?null:n.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(r=t.settingFormGroup.get("amount"))||null==r.errors?null:r.errors.pattern)}}function bl(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"option",222),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=a.$implicit;e.\u0275\u0275property("value",t.value),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.label)}}function Cl(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Duration is required."),e.\u0275\u0275elementEnd())}function yl(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",221),e.\u0275\u0275template(1,Cl,2,0,"small",68),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);let n;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(n=t.settingFormGroup.get("duration"))||null==n.errors?null:n.errors.required)}}function El(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Annual rate is required."),e.\u0275\u0275elementEnd())}function Il(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Rate cannot be negative."),e.\u0275\u0275elementEnd())}function wl(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Rate cannot exceed 100%."),e.\u0275\u0275elementEnd())}function Dl(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",221),e.\u0275\u0275template(1,El,2,0,"small",68),e.\u0275\u0275template(2,Il,2,0,"small",68),e.\u0275\u0275template(3,wl,2,0,"small",68),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);let n,r,o;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(n=t.settingFormGroup.get("annual_rate"))||null==n.errors?null:n.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(r=t.settingFormGroup.get("annual_rate"))||null==r.errors?null:r.errors.min),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(o=t.settingFormGroup.get("annual_rate"))||null==o.errors?null:o.errors.max)}}function Fl(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Maturity amount is required."),e.\u0275\u0275elementEnd())}function kl(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Enter a valid number (up to 2 decimal places)."),e.\u0275\u0275elementEnd())}function Al(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",221),e.\u0275\u0275template(1,Fl,2,0,"small",68),e.\u0275\u0275template(2,kl,2,0,"small",68),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);let n,r;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(n=t.settingFormGroup.get("maturity_amount"))||null==n.errors?null:n.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(r=t.settingFormGroup.get("maturity_amount"))||null==r.errors?null:r.errors.pattern)}}function Tl(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Indirect referral % is required."),e.\u0275\u0275elementEnd())}function Nl(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Must be at least 0%."),e.\u0275\u0275elementEnd())}function Rl(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Must be 100% or less."),e.\u0275\u0275elementEnd())}function Vl(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",221),e.\u0275\u0275template(1,Tl,2,0,"small",68),e.\u0275\u0275template(2,Nl,2,0,"small",68),e.\u0275\u0275template(3,Rl,2,0,"small",68),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);let n,r,o;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(n=t.settingFormGroup.get("indirect_refer_per"))||null==n.errors?null:n.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(r=t.settingFormGroup.get("indirect_refer_per"))||null==r.errors?null:r.errors.min),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(o=t.settingFormGroup.get("indirect_refer_per"))||null==o.errors?null:o.errors.max)}}function ql(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Direct referral % is required."),e.\u0275\u0275elementEnd())}function Gl(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Must be at least 0%."),e.\u0275\u0275elementEnd())}function Pl(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Must be 100% or less."),e.\u0275\u0275elementEnd())}function Ml(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",221),e.\u0275\u0275template(1,ql,2,0,"small",68),e.\u0275\u0275template(2,Gl,2,0,"small",68),e.\u0275\u0275template(3,Pl,2,0,"small",68),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);let n,r,o;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(n=t.settingFormGroup.get("direct_refer_per"))||null==n.errors?null:n.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(r=t.settingFormGroup.get("direct_refer_per"))||null==r.errors?null:r.errors.min),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(o=t.settingFormGroup.get("direct_refer_per"))||null==o.errors?null:o.errors.max)}}function Bl(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",192)(1,"h5",193),e.\u0275\u0275text(2,"Settings"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",194),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.dismiss("Cross click"))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"form",195)(5,"div",196)(6,"div",5)(7,"div",197)(8,"label",198),e.\u0275\u0275text(9,"Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"input",199),e.\u0275\u0275listener("blur",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.calculateMaturityAmount())}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(11,Sl,3,2,"div",200),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",197)(13,"label",201),e.\u0275\u0275text(14,"Duration"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"select",202),e.\u0275\u0275listener("blur",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.calculateMaturityAmount())}),e.\u0275\u0275elementStart(16,"option",203),e.\u0275\u0275text(17,"Select duration"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(18,bl,2,2,"option",204),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(19,yl,2,1,"div",200),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"div",197)(21,"label",205),e.\u0275\u0275text(22,"Annual Rate (%)"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"input",206),e.\u0275\u0275listener("blur",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.calculateMaturityAmount())}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(24,Dl,4,3,"div",200),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"div",197)(26,"label",207),e.\u0275\u0275text(27,"Maturity Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(28,"input",208),e.\u0275\u0275template(29,Al,3,2,"div",200),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(30,"div",197)(31,"label",209),e.\u0275\u0275text(32,"Indirect Referral Percentage"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(33,"input",210),e.\u0275\u0275template(34,Vl,4,3,"div",200),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(35,"div",197)(36,"label",211),e.\u0275\u0275text(37,"Direct Referral Percentage"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(38,"input",212),e.\u0275\u0275template(39,Ml,4,3,"div",200),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(40,"div",5)(41,"div",213)(42,"div",214)(43,"input",215),e.\u0275\u0275listener("change",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.onMISChange())}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(44,"label",216)(45,"strong"),e.\u0275\u0275text(46,"MIS (Monthly Income Scheme)"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(47,"small",217),e.\u0275\u0275text(48," When MIS is selected, duration will be limited to 1 year, 1.5 years, and 2 years. "),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(49,"div",218)(50,"button",219),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.close("Close click"))}),e.\u0275\u0275text(51,"Close"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(52,"button",220),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.saveSetting())}),e.\u0275\u0275text(53,"Submit"),e.\u0275\u0275elementEnd()()()}if(2&i){const t=e.\u0275\u0275nextContext();let n,r,o,s,d,m;e.\u0275\u0275advance(4),e.\u0275\u0275property("formGroup",t.settingFormGroup),e.\u0275\u0275advance(7),e.\u0275\u0275property("ngIf",(null==(n=t.settingFormGroup.get("amount"))?null:n.touched)&&(null==(n=t.settingFormGroup.get("amount"))?null:n.invalid)),e.\u0275\u0275advance(7),e.\u0275\u0275property("ngForOf",t.durationOptions),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==(r=t.settingFormGroup.get("duration"))?null:r.touched)&&(null==(r=t.settingFormGroup.get("duration"))?null:r.invalid)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(o=t.settingFormGroup.get("annual_rate"))?null:o.touched)&&(null==(o=t.settingFormGroup.get("annual_rate"))?null:o.invalid)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(s=t.settingFormGroup.get("maturity_amount"))?null:s.touched)&&(null==(s=t.settingFormGroup.get("maturity_amount"))?null:s.invalid)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(d=t.settingFormGroup.get("indirect_refer_per"))?null:d.touched)&&(null==(d=t.settingFormGroup.get("indirect_refer_per"))?null:d.invalid)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(m=t.settingFormGroup.get("direct_refer_per"))?null:m.touched)&&(null==(m=t.settingFormGroup.get("direct_refer_per"))?null:m.invalid)),e.\u0275\u0275advance(13),e.\u0275\u0275property("disabled",t.settingFormGroup.invalid)}}function Ol(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",221),e.\u0275\u0275text(1," Required. Up to 2 decimal places allowed. "),e.\u0275\u0275elementEnd())}function zl(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",221),e.\u0275\u0275text(1," Required. "),e.\u0275\u0275elementEnd())}function $l(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",192)(1,"h5",193),e.\u0275\u0275text(2,"Add Deposit"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",194),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.dismiss("Cross click"))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"form",195)(5,"div",196)(6,"div",5)(7,"div",197)(8,"label",223),e.\u0275\u0275text(9,"Paid Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(10,"input",224),e.\u0275\u0275template(11,Ol,2,0,"div",200),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",197)(13,"label",223),e.\u0275\u0275text(14,"Payment Method"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"select",225)(16,"option",226),e.\u0275\u0275text(17,"Select payment method"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"option",227),e.\u0275\u0275text(19,"Bank Transfer"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"option",228),e.\u0275\u0275text(21,"Cash"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"option",229),e.\u0275\u0275text(23,"UPI"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"option",230),e.\u0275\u0275text(25,"Cheque"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(26,zl,2,0,"div",200),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(27,"div",231)(28,"label",223),e.\u0275\u0275text(29,"Notes"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(30,"textarea",232),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(31,"div",218)(32,"button",219),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.close("Close click"))}),e.\u0275\u0275text(33,"Close"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(34,"button",220),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.addDeposit())}),e.\u0275\u0275text(35,"Add Deposit"),e.\u0275\u0275elementEnd()()()}if(2&i){const t=e.\u0275\u0275nextContext();let n,r;e.\u0275\u0275advance(4),e.\u0275\u0275property("formGroup",t.addDepositFormGroup),e.\u0275\u0275advance(7),e.\u0275\u0275property("ngIf",(null==(n=t.addDepositFormGroup.get("tot_paid_amt"))?null:n.invalid)&&(null==(n=t.addDepositFormGroup.get("tot_paid_amt"))?null:n.touched)),e.\u0275\u0275advance(15),e.\u0275\u0275property("ngIf",(null==(r=t.addDepositFormGroup.get("payment_method"))?null:r.invalid)&&(null==(r=t.addDepositFormGroup.get("payment_method"))?null:r.touched)),e.\u0275\u0275advance(8),e.\u0275\u0275property("disabled",t.addDepositFormGroup.invalid)}}function Ll(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",221),e.\u0275\u0275text(1," Invalid or required. Up to 4 decimal places allowed. "),e.\u0275\u0275elementEnd())}function Ul(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",221),e.\u0275\u0275text(1," Required. Up to 2 decimal places allowed. "),e.\u0275\u0275elementEnd())}function jl(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",221),e.\u0275\u0275text(1," Required. Up to 2 decimal places allowed. "),e.\u0275\u0275elementEnd())}function Yl(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",221),e.\u0275\u0275text(1," Required. "),e.\u0275\u0275elementEnd())}function Kl(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",221),e.\u0275\u0275text(1," Required. "),e.\u0275\u0275elementEnd())}function Wl(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",221),e.\u0275\u0275text(1," Required. "),e.\u0275\u0275elementEnd())}function Hl(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",192)(1,"h5",193),e.\u0275\u0275text(2,"Edit Deposit"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",194),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.dismiss("Cross click"))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"form",195)(5,"div",196)(6,"div",5)(7,"div",197)(8,"label",223),e.\u0275\u0275text(9,"Per Day Rate (%)"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(10,"input",233),e.\u0275\u0275template(11,Ll,2,0,"div",200),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",197)(13,"label",223),e.\u0275\u0275text(14,"Required Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(15,"input",234),e.\u0275\u0275template(16,Ul,2,0,"div",200),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div",197)(18,"label",223),e.\u0275\u0275text(19,"Total Paid Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(20,"input",224),e.\u0275\u0275template(21,jl,2,0,"div",200),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"div",197)(23,"label",223),e.\u0275\u0275text(24,"Payment Method"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"select",225)(26,"option",226),e.\u0275\u0275text(27,"Select payment method"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(28,"option",227),e.\u0275\u0275text(29,"Bank Transfer"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(30,"option",228),e.\u0275\u0275text(31,"Cash"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(32,"option",229),e.\u0275\u0275text(33,"UPI"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(34,"option",230),e.\u0275\u0275text(35,"Cheque"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(36,Yl,2,0,"div",200),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(37,"div",197)(38,"label",223),e.\u0275\u0275text(39,"Transaction ID"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(40,"input",235),e.\u0275\u0275template(41,Kl,2,0,"div",200),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(42,"div",197)(43,"label",223),e.\u0275\u0275text(44,"Status"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(45,"select",236)(46,"option",226),e.\u0275\u0275text(47,"Select status"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(48,"option",237),e.\u0275\u0275text(49,"Active"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(50,"option",238),e.\u0275\u0275text(51,"Pending"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(52,"option",239),e.\u0275\u0275text(53,"Closed"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(54,Wl,2,0,"div",200),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(55,"div",231)(56,"label",223),e.\u0275\u0275text(57,"Notes"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(58,"textarea",232),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(59,"div",218)(60,"button",219),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.close("Close click"))}),e.\u0275\u0275text(61,"Close"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(62,"button",220),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.editDeposit())}),e.\u0275\u0275text(63,"Edit"),e.\u0275\u0275elementEnd()()()}if(2&i){const t=e.\u0275\u0275nextContext();let n,r,o,s,d,m;e.\u0275\u0275advance(4),e.\u0275\u0275property("formGroup",t.editAddDepositFormGroup),e.\u0275\u0275advance(7),e.\u0275\u0275property("ngIf",(null==(n=t.editAddDepositFormGroup.get("per_day_rate"))?null:n.invalid)&&(null==(n=t.editAddDepositFormGroup.get("per_day_rate"))?null:n.touched)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(r=t.editAddDepositFormGroup.get("required_amt"))?null:r.invalid)&&(null==(r=t.editAddDepositFormGroup.get("required_amt"))?null:r.touched)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(o=t.editAddDepositFormGroup.get("tot_paid_amt"))?null:o.invalid)&&(null==(o=t.editAddDepositFormGroup.get("tot_paid_amt"))?null:o.touched)),e.\u0275\u0275advance(15),e.\u0275\u0275property("ngIf",(null==(s=t.editAddDepositFormGroup.get("payment_method"))?null:s.invalid)&&(null==(s=t.editAddDepositFormGroup.get("payment_method"))?null:s.touched)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(d=t.editAddDepositFormGroup.get("transaction_id"))?null:d.invalid)&&(null==(d=t.editAddDepositFormGroup.get("transaction_id"))?null:d.touched)),e.\u0275\u0275advance(13),e.\u0275\u0275property("ngIf",(null==(m=t.editAddDepositFormGroup.get("status"))?null:m.invalid)&&(null==(m=t.editAddDepositFormGroup.get("status"))?null:m.touched)),e.\u0275\u0275advance(8),e.\u0275\u0275property("disabled",t.editAddDepositFormGroup.invalid)}}function Jl(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",192)(1,"h5",240),e.\u0275\u0275text(2,"Complete FD Closure"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",194),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.dismiss("Cross click"))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"form",241),e.\u0275\u0275listener("ngSubmit",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.submitCloseFDRequest())}),e.\u0275\u0275elementStart(5,"div",196)(6,"div",5)(7,"div",173)(8,"div",79)(9,"h6"),e.\u0275\u0275element(10,"i",159),e.\u0275\u0275text(11,"Closure Summary"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",5)(13,"div",242)(14,"strong"),e.\u0275\u0275text(15,"Principal Amount:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(16,"br"),e.\u0275\u0275text(17),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"div",242)(19,"strong"),e.\u0275\u0275text(20,"Maturity Amount:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(21,"br"),e.\u0275\u0275text(22),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"div",242)(24,"strong"),e.\u0275\u0275text(25,"Interest Earned:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(26,"br"),e.\u0275\u0275text(27),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(28,"div",5)(29,"div",243)(30,"div",244)(31,"label",223),e.\u0275\u0275text(32,"Penalty Amount (\u20b9)"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(33,"input",245),e.\u0275\u0275elementStart(34,"small",32),e.\u0275\u0275text(35,"Early closure penalty (if applicable)"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(36,"div",243)(37,"div",244)(38,"label",223),e.\u0275\u0275text(39,"Final Settlement Amount (\u20b9)"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(40,"input",246),e.\u0275\u0275elementStart(41,"small",32),e.\u0275\u0275text(42,"Amount to be paid to member"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(43,"div",5)(44,"div",173)(45,"div",244)(46,"label",223),e.\u0275\u0275text(47,"Closure Notes"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(48,"textarea",247),e.\u0275\u0275elementStart(49,"small",32),e.\u0275\u0275text(50,"Optional notes about the closure"),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(51,"div",218)(52,"button",219),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.close("Close click"))}),e.\u0275\u0275text(53,"Cancel"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(54,"button",248),e.\u0275\u0275element(55,"i",249),e.\u0275\u0275text(56," Complete Closure "),e.\u0275\u0275elementEnd()()()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275property("formGroup",t.closeFDFormGroup),e.\u0275\u0275advance(13),e.\u0275\u0275textInterpolate1(" \u20b9",(null==t.selectedSetting?null:t.selectedSetting.amount)||0," "),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" \u20b9",(null==t.selectedSetting?null:t.selectedSetting.maturity_amount)||0," "),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" \u20b9",((null==t.selectedSetting?null:t.selectedSetting.maturity_amount)||0)-((null==t.selectedSetting?null:t.selectedSetting.amount)||0)," "),e.\u0275\u0275advance(27),e.\u0275\u0275property("disabled",t.closeFDFormGroup.invalid)}}let Ql=(()=>{class i{constructor(t,n,r,o,s,d,m,c){this.modalService=t,this.depositService=n,this.toast=r,this.userService=o,this.settingsService=s,this.router=d,this.route=m,this.cdr=c,this.depositSettings=[],this.depositList=[],this.selectedSetting=null,this.profile=null,this.isFDOpen=!1,this.canMakeDeposits=!1,this.canRequestClosure=!1,this.depositSummary={},this.page=1,this.pageSize=10,this.total=0,this.outstandingAmount=null,this.fdOutstandingAmounts={},this.isLoadingStatistics=!1,this.isLoadingAccountStatistics=!1,this.isUserRequested=!1,this.fd_rate=0,this.durationOptions=[{value:"1",label:"1 Year"},{value:"1.5",label:"1.5 Years"},{value:"2",label:"2 Years"},{value:"2.5",label:"2.5 Years"},{value:"3",label:"3 Years"},{value:"3.5",label:"3.5 Years"},{value:"4",label:"4 Years"},{value:"4.5",label:"4.5 Years"},{value:"5",label:"5 Years"},{value:"5.5",label:"5.5 Years"},{value:"6",label:"6 Years"},{value:"6.5",label:"6.5 Years"},{value:"7",label:"7 Years"},{value:"7.5",label:"7.5 Years"},{value:"8",label:"8 Years"},{value:"8.5",label:"8.5 Years"},{value:"9",label:"9 Years"},{value:"9.5",label:"9.5 Years"},{value:"10",label:"10 Years"}],this.user_id=this.route.snapshot.paramMap.get("user")||"",this.getProfile(this.user_id),this.getDepositSettings()}ngOnInit(){this.breadCrumbItems=[{label:"Admin"},{label:"Fixed Deposit",active:!0}],this.getDepositSettings(),this.settingFormGroup=new l.cw({amount:new l.NI("",[l.kI.required,l.kI.pattern("^[0-9]+(\\.[0-9]{1,2})?$"),l.kI.min(1e4),l.kI.max(2e5)]),duration:new l.NI("",[l.kI.required]),compounding_frequency:new l.NI("1",[l.kI.required]),isMIS:new l.NI(!1),annual_rate:new l.NI("",[l.kI.required,l.kI.min(0),l.kI.max(100)]),indirect_refer_per:new l.NI(null,{nonNullable:!0,validators:[l.kI.required,l.kI.min(0),l.kI.max(100)]}),direct_refer_per:new l.NI(null,{nonNullable:!0,validators:[l.kI.required,l.kI.min(0),l.kI.max(100)]}),franchise_refer_per:new l.NI(null,{nonNullable:!0,validators:[l.kI.required,l.kI.min(0),l.kI.max(100)]}),notes:new l.NI("")}),this.addDepositFormGroup=new l.cw({tot_paid_amt:new l.NI({value:"",disabled:!0},[l.kI.required,l.kI.pattern("^[0-9]+(\\.[0-9]{1,2})?$")]),payment_method:new l.NI({value:"Cash",disabled:!0},[l.kI.required]),notes:new l.NI("")}),this.editSettingFormGroup=new l.cw({_id:new l.NI("",[l.kI.required]),amount:new l.NI("",[l.kI.required,l.kI.pattern("^[0-9]+(\\.[0-9]{1,2})?$"),l.kI.min(1e4),l.kI.max(2e5)]),duration:new l.NI("",[l.kI.required]),maturity_amount:new l.NI({value:"",disabled:!0},[l.kI.required,l.kI.pattern("^[0-9]+(\\.[0-9]{1,2})?$")]),annual_rate:new l.NI("",[l.kI.required,l.kI.min(0),l.kI.max(100)]),compounding_frequency:new l.NI("1",[l.kI.required]),user:new l.NI("",[l.kI.required]),isMIS:new l.NI(!1),indirect_refer_per:new l.NI(null,{nonNullable:!0,validators:[l.kI.required,l.kI.min(0),l.kI.max(100)]}),direct_refer_per:new l.NI(null,{nonNullable:!0,validators:[l.kI.required,l.kI.min(0),l.kI.max(100)]}),franchise_refer_per:new l.NI(null,{nonNullable:!0,validators:[l.kI.required,l.kI.min(0),l.kI.max(100)]})}),this.editAddDepositFormGroup=new l.cw({per_day_rate:new l.NI({value:"",disabled:!0},[l.kI.required,l.kI.pattern("^[0-9]+(\\.[0-9]{1,4})?$")]),required_amt:new l.NI({value:"",disabled:!0},[l.kI.required,l.kI.pattern("^[0-9]+(\\.[0-9]{1,2})?$")]),tot_paid_amt:new l.NI({value:"",disabled:!0},[l.kI.required,l.kI.pattern("^[0-9]+(\\.[0-9]{1,2})?$")]),payment_method:new l.NI({value:"",disabled:!0},[l.kI.required]),transaction_id:new l.NI({value:"",disabled:!0},[l.kI.required]),_id:new l.NI("",[l.kI.required]),status:new l.NI({value:"",disabled:!0},[l.kI.required]),notes:new l.NI("")}),this.closeFDFormGroup=new l.cw({penalty_amount:new l.NI(0,[l.kI.min(0)]),final_amount:new l.NI({value:0,disabled:!0}),notes:new l.NI("")}),this.closeFDFormGroup.get("penalty_amount")?.valueChanges.subscribe(t=>{this.calculateFinalAmount()}),this.settingFormGroup.get("isMIS")?.valueChanges.subscribe(t=>{if(t){const n=this.settingFormGroup.get("duration")?.value;n&&parseFloat(n)>2&&this.settingFormGroup.get("duration")?.setValue("2"),this.updateDurationOptions()}else this.updateDurationOptions()}),this.editSettingFormGroup.get("isMIS")?.valueChanges.subscribe(t=>{if(t){const n=this.editSettingFormGroup.get("duration")?.value,r=parseFloat(n);n&&r>2&&this.editSettingFormGroup.get("duration")?.setValue("2")}}),this.settingsService.getGeneralSettings$().subscribe(t=>{t&&(this.fd_rate=t.recurring_deposit_rate||0,this.editSettingFormGroup.patchValue({annual_rate:this.fd_rate}),this.settingFormGroup.patchValue({annual_rate:this.fd_rate}))})}updateDurationOptions(){if(this.settingFormGroup.get("isMIS")?.value){this.durationOptions=[{value:"1",label:"1 Year"},{value:"1.5",label:"1.5 Years"},{value:"2",label:"2 Years"}];const n=this.settingFormGroup.get("duration")?.value;n&&!["1","1.5","2"].includes(n)&&this.settingFormGroup.patchValue({duration:""})}else this.durationOptions=[{value:"1",label:"1 Year"},{value:"1.5",label:"1.5 Years"},{value:"2",label:"2 Years"},{value:"2.5",label:"2.5 Years"},{value:"3",label:"3 Years"},{value:"3.5",label:"3.5 Years"},{value:"4",label:"4 Years"},{value:"4.5",label:"4.5 Years"},{value:"5",label:"5 Years"},{value:"5.5",label:"5.5 Years"},{value:"6",label:"6 Years"},{value:"6.5",label:"6.5 Years"},{value:"7",label:"7 Years"},{value:"7.5",label:"7.5 Years"},{value:"8",label:"8 Years"},{value:"8.5",label:"8.5 Years"},{value:"9",label:"9 Years"},{value:"9.5",label:"9.5 Years"},{value:"10",label:"10 Years"}]}onMISChange(){this.settingFormGroup.get("isMIS"),this.updateDurationOptions()}calculateMaturityAmount(){const t=this.editSettingFormGroup.get("amount")?.value,n=this.editSettingFormGroup.get("duration")?.value,r=this.editSettingFormGroup.get("annual_rate")?.value,o=this.editSettingFormGroup.get("compounding_frequency")?.value;if(console.log("Calculating maturity amount with:",{amount:t,duration:n,annualRate:r,compoundingFrequency:o}),t&&n&&r&&o){const s=parseFloat(t),d=parseFloat(r)/100,m=parseFloat(n),c=parseInt(o),_=s*Math.pow(1+d/c,c*m);this.editSettingFormGroup.patchValue({maturity_amount:_.toFixed(2)})}else this.editSettingFormGroup.patchValue({maturity_amount:""})}getProfile(t){this.userService.getBasicUserProfile(t).subscribe(n=>{n&&"success"===n.status?this.profile=n.data.user||{}:this.router.navigate(["/dashboard"])},n=>{console.error("Error fetching user profile:",n),this.router.navigate(["/dashboard"])})}openModal(t){this.modalService.open(t,{size:"lg",centered:!0,backdrop:"static",keyboard:!1})}openFixedDepositForm(t){u().fire({title:"Are you sure?",text:"You want to open an Fixed Deposit Account!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, request it!"}).then(n=>{n.isConfirmed&&this.modalService.open(t,{size:"lg",backdrop:"static"})})}openNewFDAccount(t){u().fire({title:"Are you sure?",text:"You want to open a Fixed Deposit Account!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, request it!"}).then(n=>{n.isConfirmed&&this.modalService.open(t,{size:"lg",backdrop:"static"})})}openAddDepositModal(){this.addDepositModalRef&&this.modalService.open(this.addDepositModalRef,{size:"lg",backdrop:"static"})}getDepositSettings(){this.depositService.getFDepositSettings(this.user_id).subscribe({next:t=>{this.depositSettings=t.data.settings||[],this.depositSettings.length>0?(this.selectedSetting=this.depositSettings[0],this.isUserRequested="Requested"===this.selectedSetting.status,this.isFDOpen=this.depositSettings.some(n=>"Approved"===n.status||"Completed"===n.status||"Close-Requested"===n.status),this.canMakeDeposits=this.depositSettings.some(n=>"Approved"===n.status),this.canRequestClosure=this.depositSettings.some(n=>"Approved"===n.status),this.isFDOpen&&this.depositSettings.some(n=>"Approved"===n.status)&&this.loadOutstandingAmountsForAllAccounts(),setTimeout(()=>{this.refreshStatistics()},500),this.isUserRequested&&this.editSettingFormGroup.patchValue({annual_rate:this.fd_rate}),this.editSettingFormGroup.patchValue(this.selectedSetting),this.addDepositFormGroup.patchValue({tot_paid_amt:this.selectedSetting.amount}),this.getDeposits(this.selectedSetting._id)):(this.selectedSetting=null,this.editSettingFormGroup.reset()),this.settingFormGroup.reset()},error:t=>{this.toast.error(t.error.message||"Failed to fetch deposit settings")}})}saveSetting(){if(this.settingFormGroup.valid){const t={...this.settingFormGroup.value};t.user=this.user_id;const n=t.amount,r=t.annual_rate/100,o=Number(t.duration),s=parseInt(t.compounding_frequency);t.maturity_amount=parseFloat((n*Math.pow(1+r/s,s*o)).toFixed(2)),this.depositService.createFDepositSettings(t).subscribe({next:d=>{this.toast.success("Deposit setting created successfully"),this.modalService.dismissAll(),this.getDepositSettings(),this.settingFormGroup.reset({amount:"",duration:"",compounding_frequency:"1",notes:"",isMIS:!1,annual_rate:this.fd_rate})},error:d=>{this.toast.error(d.error.message||"Failed to create deposit setting")}})}else this.toast.error("Please fill all required fields correctly")}editSetting(){if(this.editSettingFormGroup.valid){const t=this.editSettingFormGroup.value,n=parseFloat(t.duration),r=t.amount,o=t.annual_rate/100,s=n,d=parseInt(t.compounding_frequency);t.maturity_amount=(r*Math.pow(1+o/d,d*s)).toFixed(2),t.status="Approved",console.log("Payload for editing deposit setting:",t),this.depositService.editFDepositSettings(t).subscribe({next:m=>{this.toast.success("Deposit setting updated successfully"),this.modalService.dismissAll(),this.getDepositSettings()},error:m=>{this.toast.error(m.error.message||"Failed to update deposit setting")}})}else this.toast.error("Please fill all required fields correctly")}addDeposit(){if(this.addDepositFormGroup.valid){if("Approved"!==this.selectedSetting?.status)return void this.toast.error("Deposits can only be made to approved FD accounts","Error");const t={...this.addDepositFormGroup.getRawValue(),f_deposit_setting:this.selectedSetting._id,user:this.user_id,tot_paid_amt:this.selectedSetting.amount,per_day_rate:+(this.selectedSetting.annual_rate/365).toFixed(2),payment_method:"Cash"};this.depositService.createFDeposit(t).subscribe({next:n=>{this.toast.success("Fixed deposit created successfully"),this.modalService.dismissAll(),this.addDepositFormGroup.reset(),this.outstanding(this.user_id,this.selectedSetting._id),this.getDeposits(this.selectedSetting._id),setTimeout(()=>{const r=this.fdOutstandingAmounts[this.selectedSetting._id];(!r||r.outstanding<=0)&&(this.depositList=this.depositList.filter(o=>"Due"!==o.status))},500)},error:n=>{this.toast.error(n.error.message||"Failed to create fixed deposit")}})}else this.toast.error("Please fill all required fields correctly")}editDeposit(){if(this.editAddDepositFormGroup.valid){const t={...this.editAddDepositFormGroup.value};this.depositService.editFDeposit(t).subscribe({next:n=>{this.toast.success("Fixed deposit updated successfully"),this.modalService.dismissAll(),this.editAddDepositFormGroup.reset(),this.getDeposits(this.selectedSetting._id)},error:n=>{this.toast.error(n.error.message||"Failed to update fixed deposit")}})}else this.toast.error("Please fill all required fields correctly")}settingsChanged(t){const n=this.depositSettings.find(r=>r._id===t.target.value);n&&this.selectFDAccount(n)}trackBySettingId(t,n){return n._id}selectFDAccount(t){console.log("Selecting FD account:",t._id,"Status:",t.status),this.selectedSetting=t,this.addDepositFormGroup.patchValue({tot_paid_amt:t.amount}),this.getDeposits(t._id),"Approved"===t.status?(this.outstanding(this.user_id,t._id),this.loadOutstandingAmountsForAllAccounts()):(this.outstandingAmount=null,this.depositSummary={interest:0,paid:0,penalty:0,total:0},this.addDepositFormGroup.patchValue({tot_paid_amt:""}),this.cdr.detectChanges()),setTimeout(()=>{const n=document.getElementById("fd-details-section");n&&n.scrollIntoView({behavior:"smooth"}),this.refreshStatistics()},100)}generateUniqueId(){return(new Date).getFullYear().toString()+Math.floor(1e4+9e4*Math.random()).toString()}getDeposits(t){this.depositService.getFDeposits(t).subscribe({next:n=>{this.depositList=n.data.deposits||[],this.addDueTransactionForFD(t)},error:n=>{this.toast.error(n.error.message||"Failed to fetch deposits")}})}editDepositForm(t,n){this.openModal(t),this.editAddDepositFormGroup.patchValue(n)}loadOutstandingAmountsForAllAccounts(){const t=this.depositSettings.filter(n=>"Approved"===n.status);0!==t.length&&(this.isLoadingStatistics=!0,this.depositService.findOutstandingDepositsOfFixed(this.user_id,t[0]._id).subscribe(n=>{n&&"success"===n.status&&(this.fdOutstandingAmounts=n.data,console.log("FD outstanding amounts loaded:",this.fdOutstandingAmounts),this.isLoadingStatistics=!1,this.selectedSetting&&this.addDueTransactionForFD(this.selectedSetting._id),setTimeout(()=>{this.refreshStatistics()},100))},n=>{console.error("Error fetching outstanding for FD accounts:",n),this.isLoadingStatistics=!1}))}outstanding(t,n){console.log("Loading outstanding for FD:",n),this.isLoadingAccountStatistics=!0,this.depositService.findOutstandingDepositsOfFixed(t,n).subscribe(r=>{if(r&&"success"===r.status){const o=r.data||[];this.outstandingAmount=o,this.depositSummary=r.data.depositSummary,console.log("FD outstanding data loaded:",{fd_id:n,outstanding:this.outstandingAmount,summary:this.depositSummary}),0!==o&&this.addDepositFormGroup.patchValue({tot_paid_amt:this.outstandingAmount.outstanding}),this.isLoadingAccountStatistics=!1,n&&this.addDueTransactionForFD(n),this.cdr.detectChanges()}else this.toast.error("Failed to fetch outstanding amount","Error"),this.isLoadingAccountStatistics=!1},r=>{console.error("Error fetching outstanding amount:",r),this.isLoadingAccountStatistics=!1})}getActiveAccountsCount(){return this.depositSettings?this.depositSettings.filter(t=>"Approved"===t.status).length:0}getTotalPrincipal(){return this.depositSettings?this.depositSettings.filter(t=>"Approved"===t.status).reduce((t,n)=>t+(Number(n.amount)||0),0):0}getTotalMaturityValue(){return this.depositSettings?this.depositSettings.filter(t=>"Approved"===t.status).reduce((t,n)=>t+(Number(n.maturity_amount)||0),0):0}getTotalOutstanding(){return this.fdOutstandingAmounts&&0!==Object.keys(this.fdOutstandingAmounts).length?Object.values(this.fdOutstandingAmounts).reduce((n,r)=>n+(Number(r?.outstanding||0)||0),0):0}refreshStatistics(){const t=this.getActiveAccountsCount(),n=this.getTotalPrincipal(),r=this.getTotalOutstanding();console.log("FD statistics refreshed:",{activeAccounts:t,totalPrincipal:n,totalOutstanding:r,outstandingAmounts:this.fdOutstandingAmounts})}refreshAllData(){console.log("Refreshing all FD data..."),this.getDepositSettings()}canSelectedAccountMakeDeposits(){return"Approved"===this.selectedSetting?.status&&this.outstandingAmount?.outstanding>0}canSelectedAccountRequestClosure(){return"Approved"===this.selectedSetting?.status}addDueTransactionForFD(t){if(this.depositList=this.depositList.filter(r=>"Due"!==r.status),this.outstandingAmount>0){const r={created_date:"",tot_paid_amt:this.fdOutstandingAmounts[t].outstanding,payment_method:"Pending",transaction_id:"FD-DUE-"+this.generateUniqueId(),status:"Due"};this.depositList.unshift(r)}}requestCloseFD(){const t=this.selectedSetting.amount>0;let n="You want to close this Fixed Deposit Account!";t&&(n+=`\n\nNote: This account has an outstanding principal amount of \u20b9${this.selectedSetting.amount}. Early closure may incur penalties.`),n+="\n\nType 'CLOSE' to confirm.",u().fire({title:"Request FD Closure",text:n,icon:t?"warning":"question",input:"text",inputPlaceholder:"Type CLOSE to confirm",inputValidator:r=>{if("CLOSE"!==r)return"You need to type 'CLOSE' to confirm!"},showCancelButton:!0,confirmButtonColor:t?"#ff6b35":"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, request closure!"}).then(r=>{r.isConfirmed&&this.depositService.editFDepositSettings({_id:this.selectedSetting._id,status:"Close-Requested",penalty_amount:0,final_amount:this.selectedSetting.maturity_amount,closure_notes:t?`Admin requested closure with outstanding principal: \u20b9${this.selectedSetting.amount}`:"Admin requested closure"}).subscribe(s=>{s&&"success"===s.status?(u().fire({icon:"success",title:"FD Closure Requested",text:"The FD closure request has been submitted successfully.",confirmButtonText:"OK"}),this.getDepositSettings()):this.toast.error("Failed to request FD closure","Error")},s=>{console.error("Error requesting FD closure:",s);let d="Failed to request FD closure. Please try again.";s.error&&s.error.message&&(d=s.error.message),this.toast.error(d,"Error")})})}calculateFinalAmount(){const t=this.closeFDFormGroup.get("penalty_amount")?.value||0;this.closeFDFormGroup.patchValue({final_amount:Math.max(0,(this.selectedSetting?.maturity_amount||0)-t)})}openCloseFDModal(t){this.calculateFinalAmount(),this.modalService.open(t,{size:"lg",centered:!0,backdrop:"static",keyboard:!1})}submitCloseFDRequest(){if(this.closeFDFormGroup.valid){const t=this.closeFDFormGroup.value;u().fire({title:"Confirm FD Closure",text:`Are you sure you want to process this FD closure with penalty amount \u20b9${t.penalty_amount}? This will mark the account as completed.`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc3545",cancelButtonColor:"#6c757d",confirmButtonText:"Yes, Process Closure"}).then(n=>{if(n.isConfirmed){const r={_id:this.selectedSetting._id,status:"Completed",penalty_amount:t.penalty_amount,final_amount:this.closeFDFormGroup.get("final_amount")?.value,closure_notes:t.notes};this.depositService.editFDepositSettings(r).subscribe(o=>{o&&"success"===o.status?(u().fire({icon:"success",title:"FD Closure Processed",text:"The FD closure has been processed successfully. The final settlement amount has been recorded.",confirmButtonText:"OK"}),this.closeFDFormGroup.reset(),this.modalService.dismissAll(),this.getDepositSettings()):u().fire({icon:"error",title:"Error",text:"Failed to process FD closure"})},o=>{console.error("Error processing FD closure:",o);let s="Failed to process FD closure. Please try again.";o.error&&o.error.message&&(s=o.error.message),u().fire({icon:"error",title:"Error",text:s})})}})}else this.closeFDFormGroup.markAllAsTouched()}getDisplayStatus(t){if("Approved"===t.status){const n=this.fdOutstandingAmounts[t._id];if(n&&0===n.totalPaidAmount||this.depositSummary&&0===this.depositSummary.totalPaidAmount)return"In-Hold"}return t.status}getStatusClass(t){return{Requested:"badge-soft-warning",Approved:"badge-soft-success","In-Hold":"badge-soft-info",Completed:"badge-soft-primary","Close-Requested":"badge-soft-danger"}[this.getDisplayStatus(t)]||"badge-soft-secondary"}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(v.FF),e.\u0275\u0275directiveInject(L.s),e.\u0275\u0275directiveInject(I._W),e.\u0275\u0275directiveInject(S.i),e.\u0275\u0275directiveInject(j.g),e.\u0275\u0275directiveInject(f.F0),e.\u0275\u0275directiveInject(f.gz),e.\u0275\u0275directiveInject(e.ChangeDetectorRef))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["app-fixed-deposit"]],viewQuery:function(t,n){if(1&t&&e.\u0275\u0275viewQuery(br,5),2&t){let r;e.\u0275\u0275queryRefresh(r=e.\u0275\u0275loadQuery())&&(n.addDepositModalRef=r.first)}},decls:32,vars:12,consts:[[1,"container-fluid"],["title","Fixed Deposit",3,"breadcrumbItems"],["role","alert","class","alert alert-warning ng-star-inserted",4,"ngIf"],["class","row",4,"ngIf"],["class","row","id","fd-details-section",4,"ngIf"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body","border-bottom"],[1,"d-flex","align-items-center"],[1,"mb-0","card-title","flex-grow-1"],[1,"flex-shrink-0","d-flex","gap-1"],["href","javascript:void(0);","class","btn btn-primary",3,"click",4,"ngIf"],["href","javascript:void(0);","class","btn btn-warning",3,"click",4,"ngIf"],["href","javascript:void(0);","class","btn btn-light",4,"ngIf"],[1,"card-body"],["class","d-flex flex-column justify-content-center align-items-center","style","min-height: 150px;",4,"ngIf"],["class","table-responsive",4,"ngIf"],["role","document"],["settingModal",""],["addDepositModal",""],["editDepositModal",""],["closeFDModal",""],["role","alert",1,"alert","alert-warning","ng-star-inserted"],[1,"flex-grow-1"],[1,"badge","badge-soft-warning","ms-2"],[1,"card","user-profile-section"],[1,"col-lg-4"],[1,"d-flex"],[1,"flex-shrink-0","me-3"],["alt","profile-image",1,"avatar-md","rounded-circle","img-thumbnail",3,"src"],[1,"flex-grow-1","align-self-center"],[1,"text-muted"],[1,"mb-2"],[1,"mb-1"],[1,"mb-0"],["class","badge badge-pill mt-2",3,"ngClass",4,"ngIf"],[1,"col-lg-4","align-self-center"],[1,"text-lg-center","mt-4","mt-lg-0"],[1,"col-4"],[1,"text-muted","text-truncate","mb-2"],[3,"href"],[1,"col-lg-4","d-none","d-lg-block"],[1,"clearfix","mt-4","mt-lg-0"],["class","dropdown float-end ms-2",4,"ngIf"],[1,"dropdown","float-end",3,"click"],["type","button",1,"btn","btn-primary","dropdown-toggle"],[1,"bx","bxs-cog","align-middle","me-1"],[1,"badge","badge-pill","mt-2",3,"ngClass"],[1,"dropdown","float-end","ms-2"],["type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false","dropdowntoggle","",1,"btn","btn-secondary","dropdown-toggle"],[1,"mdi","mdi-account-cash-outline","align-middle","me-1"],[1,"dropdown-menu","dropdown-menu-end"],["class","dropdown-item","href","javascript:void(0);",3,"click",4,"ngIf"],["class","dropdown-divider",4,"ngIf"],[1,"dropdown-header"],[1,"dropdown-item-text"],[1,"badge",3,"ngClass"],["href","javascript:void(0);",1,"dropdown-item",3,"click"],[1,"mdi","mdi-lock-check","me-2"],[1,"mdi","mdi-check-circle","me-2"],[1,"dropdown-divider"],[1,"d-flex","flex-column","justify-content-center","align-items-center",2,"min-height","150px"],["src","assets/images/open_account.png","width","300px","alt",""],[1,"text-mutes","mt-2","text-center"],[1,"btn","btn-primary","mt-3","mb-3",3,"click"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"card-title","mb-0"],[4,"ngIf"],[1,"d-flex","gap-2"],["class","form-control w-auto",3,"change",4,"ngIf"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"bx","bx-plus","me-1"],["class","row mb-4",4,"ngIf"],["class","col-lg-3 col-md-4 col-sm-6 mb-3",4,"ngFor","ngForOf","ngForTrackBy"],[1,"form-control","w-auto",3,"change"],[3,"selected",4,"ngFor","ngForOf"],[3,"selected"],[1,"row","mb-4"],[1,"alert","alert-info"],[1,"row","text-center"],[1,"col-md-3"],[1,"fw-bold"],["class","fw-bold",4,"ngIf"],["class","fw-bold text-muted",4,"ngIf"],["class","fw-bold text-danger",4,"ngIf"],[1,"fw-bold","text-muted"],[1,"fw-bold","text-danger"],[1,"col-lg-3","col-md-4","col-sm-6","mb-3"],[1,"card","fd-card","border"],[1,"card-body","p-2",2,"min-height","140px"],[1,"d-flex","justify-content-between","align-items-center","mb-2"],[1,"mb-0","me-2","fs-14","fw-bold"],[1,"badge","badge-sm",3,"ngClass"],[1,"btn","btn-xs","py-1","px-2",3,"ngClass","disabled","click"],["class","bx bx-check fs-12",4,"ngIf"],["class","bx bx-hand-up fs-12",4,"ngIf"],[1,"row","g-1","fd-info-grid"],[1,"col-6"],[1,"text-center","p-1","bg-light","rounded"],[1,"fs-10","text-muted"],[1,"fs-12","fw-bold"],["class","mt-2",4,"ngIf"],["class","mt-2 d-flex gap-1",4,"ngIf"],[1,"bx","bx-check","fs-12"],[1,"bx","bx-hand-up","fs-12"],[1,"mt-2"],["class","alert alert-warning py-1",4,"ngIf"],["class","alert alert-success py-1",4,"ngIf"],[1,"alert","alert-warning","py-1"],[1,"fs-10"],[1,"bx","bx-info-circle","me-1"],[1,"alert","alert-success","py-1"],[1,"bx","bx-check-circle","me-1"],[1,"mt-2","d-flex","gap-1"],[1,"btn","btn-xs","btn-success","flex-fill","py-1",2,"font-size","10px",3,"disabled","click"],[1,"bx","bx-plus","fs-10"],[1,"btn","btn-xs","btn-danger","flex-fill","py-1",2,"font-size","10px",3,"disabled","click"],[1,"bx","bx-x","fs-10"],[1,"alert","py-1",3,"ngClass"],[1,"bx",3,"ngClass"],["class","btn btn-xs btn-warning w-100 py-1","style","font-size: 10px;",3,"click",4,"ngIf"],[1,"btn","btn-xs","btn-warning","w-100","py-1",2,"font-size","10px",3,"click"],[1,"bx","bx-check-circle","fs-10"],["id","fd-details-section",1,"row"],[1,"bx","bx-bookmark","me-2"],[1,"badge","ms-2",3,"ngClass"],[1,"d-flex","gap-2","align-items-center"],["class","btn-group","role","group",4,"ngIf"],[1,"col-lg-3","col-md-6","mb-3"],[1,"card","border","bg-light"],[1,"card-body","text-center","py-3"],[1,"avatar-sm","mx-auto","mb-2"],[1,"avatar-title","bg-primary","rounded-circle"],[1,"bx","bx-money","text-white"],[1,"text-muted","mb-1"],[1,"avatar-title","bg-success","rounded-circle"],[1,"bx","bx-trending-up","text-white"],[1,"avatar-title","bg-info","rounded-circle"],[1,"bx","bx-time","text-white"],[1,"avatar-title","bg-warning","rounded-circle"],[1,"bx","bx-gift","text-white"],["class","row mb-3",4,"ngIf"],["role","group",1,"btn-group"],[1,"btn","btn-success","btn-sm",3,"disabled","click"],[1,"btn","btn-warning","btn-sm",3,"click"],[1,"bx","bx-refresh","me-1"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"bx","bx-x","me-1"],[1,"row","mb-3"],[1,"alert",3,"ngClass"],[1,"d-flex","justify-content-between","align-items-center"],[1,"alert-heading","mb-1"],["class","mb-0",4,"ngIf"],[1,"btn","btn-sm",3,"ngClass","disabled","click"],[1,"bx","bx-refresh"],[1,"col-xl-12"],[1,"card-header","bg-light"],[1,"card-title","mb-0","flex-grow-1"],[1,"mdi","mdi-information-outline","me-2"],[1,"text-center"],[1,"avatar-sm","mx-auto","mb-3"],[1,"avatar-title","bg-primary-subtle","text-primary","rounded-circle","font-size-20"],[1,"mdi","mdi-calendar-clock"],[1,"avatar-title","bg-warning-subtle","text-warning","rounded-circle","font-size-20"],[1,"mdi","mdi-cash-minus"],[1,"mb-0","text-warning"],[1,"avatar-title","bg-success-subtle","text-success","rounded-circle","font-size-20"],[1,"mdi","mdi-cash-check"],[1,"mb-0","text-success"],["class","col-md-3",4,"ngIf"],["class","row mt-4",4,"ngIf"],[1,"row","mt-3"],[1,"col-12"],["role","alert",1,"alert",3,"ngClass"],[1,"avatar-title","bg-info-subtle","text-info","rounded-circle","font-size-20"],[1,"mdi","mdi-check-circle"],[1,"row","mt-4"],["role","alert",1,"alert","alert-info"],[1,"alert-heading"],[1,"mdi","mdi-note-text-outline","me-2"],[1,"mdi","mdi-clock-outline","me-2"],["href","javascript:void(0);",1,"btn","btn-primary",3,"click"],["href","javascript:void(0);",1,"btn","btn-warning",3,"click"],[1,"mdi","mdi-lock-check","me-1"],["href","javascript:void(0);",1,"btn","btn-light"],[1,"mdi","mdi-refresh"],["src","assets/img/not-found.png","width","300px","alt",""],[1,"text-mutes","mt-2"],[1,"table-responsive"],["id","basic-datatable",1,"table","table-bordered","dt-responsive","nowrap","datatables","no-footer","dtr-inline"],[4,"ngFor","ngForOf"],[1,"modal-header"],["id","myModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[3,"formGroup"],[1,"modal-body"],[1,"col-md-6","mb-3"],["for","amount",1,"form-label"],["type","number","id","amount","formControlName","amount","placeholder","Enter amount",1,"form-control",3,"blur"],["class","text-danger",4,"ngIf"],["for","duration",1,"form-label"],["type","text","id","duration","formControlName","duration",1,"form-control",3,"blur"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","annualRate",1,"form-label"],["type","number","id","annualRate","formControlName","annual_rate","placeholder","Enter annual rate",1,"form-control",3,"blur"],["for","maturityAmount",1,"form-label"],["type","number","id","maturityAmount","formControlName","maturity_amount","placeholder","Enter maturity amount",1,"form-control"],["for","indirectReferral",1,"form-label"],["type","number","id","indirectReferral","formControlName","indirect_refer_per","placeholder","Enter indirect referral %",1,"form-control"],["for","directReferral",1,"form-label"],["type","number","id","directReferral","formControlName","direct_refer_per","placeholder","Enter direct referral %",1,"form-control"],[1,"col-12","mb-3"],[1,"form-check"],["type","checkbox","id","isMIS","formControlName","isMIS",1,"form-check-input",3,"change"],["for","isMIS",1,"form-check-label"],[1,"form-text","text-muted","d-block"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary","waves-effect",3,"click"],["type","submit",1,"btn","btn-primary","waves-effect","waves-light",3,"disabled","click"],[1,"text-danger"],[3,"value"],[1,"form-label"],["type","number","formControlName","tot_paid_amt","placeholder","Enter total paid amount",1,"form-control"],["formControlName","payment_method",1,"form-control"],["value","","disabled",""],["value","Bank Transfer"],["value","Cash"],["value","UPI"],["value","Cheque"],[1,"col-md-12","mb-3"],["rows","2","placeholder","Enter notes","formControlName","notes",1,"form-control"],["type","number","formControlName","per_day_rate","placeholder","Enter per day rate",1,"form-control"],["type","number","formControlName","required_amt","placeholder","Enter required amount",1,"form-control"],["type","text","formControlName","transaction_id","placeholder","Enter transaction ID",1,"form-control"],["formControlName","status",1,"form-control"],["value","Active"],["value","Pending"],["value","Closed"],[1,"modal-title"],[3,"formGroup","ngSubmit"],[1,"col-md-4"],[1,"col-md-6"],[1,"mb-3"],["type","number","placeholder","Enter penalty amount","formControlName","penalty_amount","min","0",1,"form-control"],["type","number","placeholder","Final amount","formControlName","final_amount","readonly","",1,"form-control"],["rows","3","placeholder","Enter closure notes","formControlName","notes",1,"form-control"],["type","submit",1,"btn","btn-success","waves-effect","waves-light",3,"disabled"],[1,"mdi","mdi-check-circle","me-1"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-page-title",1),e.\u0275\u0275template(2,Cr,8,0,"div",2),e.\u0275\u0275template(3,Fr,48,11,"div",3),e.\u0275\u0275template(4,kr,12,0,"div",3),e.\u0275\u0275template(5,Qr,16,6,"div",3),e.\u0275\u0275template(6,rl,61,21,"div",4),e.\u0275\u0275template(7,cl,54,23,"div",3),e.\u0275\u0275elementStart(8,"div",5)(9,"div",6)(10,"div",7)(11,"div",8)(12,"div",9)(13,"h5",10),e.\u0275\u0275text(14,"Deposit History"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"div",11),e.\u0275\u0275template(16,pl,2,0,"a",12),e.\u0275\u0275template(17,ul,3,0,"a",13),e.\u0275\u0275template(18,_l,2,0,"a",14),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(19,"div",15)(20,"div",5)(21,"div",6),e.\u0275\u0275template(22,gl,4,0,"div",16),e.\u0275\u0275template(23,vl,18,1,"div",17),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275template(24,Bl,54,9,"ng-template",18,19,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(26,$l,36,4,"ng-template",18,20,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(28,Hl,64,8,"ng-template",18,21,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(30,Jl,57,5,"ng-template",null,22,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("breadcrumbItems",n.breadCrumbItems),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isUserRequested),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.profile),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0===n.depositSettings.length),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.depositSettings.length>=1),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.selectedSetting&&n.depositSettings.length>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.depositSettings.length>0&&n.selectedSetting&&("Close-Requested"===n.selectedSetting.status||"Completed"===n.selectedSetting.status)),e.\u0275\u0275advance(9),e.\u0275\u0275property("ngIf",n.depositSettings.length>0&&0==n.depositList.length),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.canRequestClosure),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0!==n.depositList.length),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",0===n.depositList.length),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0!==n.depositList.length))},dependencies:[p.NgClass,p.NgForOf,p.NgIf,x.V,l._Y,l.YN,l.Kr,l.Fj,l.wV,l.Wl,l.EJ,l.JJ,l.JL,l.qQ,l.sg,l.u,p.DecimalPipe,p.DatePipe],styles:[".fd-card[_ngcontent-%COMP%]{transition:all .2s ease;cursor:pointer;border-radius:8px}.fd-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0000001a}.fd-card.border-primary[_ngcontent-%COMP%]{box-shadow:0 2px 8px #0d6efd33}.fd-card.border-success[_ngcontent-%COMP%]{box-shadow:0 2px 8px #1987541a}.fd-info-grid[_ngcontent-%COMP%]   .col-6[_ngcontent-%COMP%]{margin-bottom:4px}.fs-10[_ngcontent-%COMP%]{font-size:.65rem!important}.fs-12[_ngcontent-%COMP%]{font-size:.75rem!important}.fs-14[_ngcontent-%COMP%]{font-size:.875rem!important}.badge-soft-warning[_ngcontent-%COMP%]{color:#f1b44c;background-color:#f1b44c2e}.badge-soft-success[_ngcontent-%COMP%]{color:#34c38f;background-color:#34c38f2e}.badge-soft-primary[_ngcontent-%COMP%]{color:#556ee6;background-color:#556ee62e}.badge-soft-danger[_ngcontent-%COMP%]{color:#f46a6a;background-color:#f46a6a2e}.btn-xs[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.75rem;line-height:1.2;border-radius:.2rem}.card[_ngcontent-%COMP%]:hover{transition:all .3s ease}.bx-spin[_ngcontent-%COMP%]{-webkit-animation:bx-spin 1s linear infinite;animation:bx-spin 1s linear infinite}@-webkit-keyframes bx-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes bx-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.card.border.bg-light[_ngcontent-%COMP%]{background-color:#f8f9fa!important;border-color:#dee2e6!important}.card.border.bg-light[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1rem}.card.border.bg-light[_ngcontent-%COMP%]   .avatar-sm[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem}.card.border.bg-light[_ngcontent-%COMP%]   .avatar-sm[_ngcontent-%COMP%]   .avatar-title[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;font-size:1rem}.alert[_ngcontent-%COMP%]{border-radius:6px}.alert.alert-warning[_ngcontent-%COMP%]{background-color:#f1b44c1a;border-color:#f1b44c33;color:#856404}.alert.alert-success[_ngcontent-%COMP%]{background-color:#34c38f1a;border-color:#34c38f33;color:#155724}.alert.alert-info[_ngcontent-%COMP%]{background-color:#0d6efd1a;border-color:#0d6efd33;color:#0c5460}.dropdown-menu[_ngcontent-%COMP%]{box-shadow:0 4px 12px #00000026;border:1px solid rgba(0,0,0,.05);border-radius:6px}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{padding:.5rem 1rem}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-item.active[_ngcontent-%COMP%]{background-color:#556ee6;color:#fff}.admin-fd-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;padding:1rem;border-radius:8px 8px 0 0}.user-profile-section[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:1.5rem;border-radius:8px;margin-bottom:1rem}@media (max-width: 768px){.fd-card[_ngcontent-%COMP%]{margin-bottom:1rem}.col-lg-3.col-md-4.col-sm-6[_ngcontent-%COMP%]{flex:0 0 100%;max-width:100%}}@media (max-width: 576px){.fd-info-grid[_ngcontent-%COMP%]   .col-6[_ngcontent-%COMP%]{flex:0 0 50%;max-width:50%;padding:0 2px}.btn-xs[_ngcontent-%COMP%]{font-size:.65rem;padding:.15rem .3rem}}"]}),i})();var Zl=g(4410),Xl=g(9200);function ea(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"option",26),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=a.$implicit;e.\u0275\u0275property("value",t),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t)}}function ta(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",27),e.\u0275\u0275element(1,"img",28),e.\u0275\u0275elementStart(2,"p",29),e.\u0275\u0275text(3,"No Request found in current filter."),e.\u0275\u0275elementEnd()())}function na(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275element(2,"br"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",null==t||null==t.parent_details[0]?null:t.parent_details[0].name," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",null==t||null==t.parent_details[0]?null:t.parent_details[0].user_id," ")}}function ia(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li",45),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext().$implicit,o=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(o.openImage(null==r?null:r.aadhar_front))}),e.\u0275\u0275elementStart(1,"a",46),e.\u0275\u0275element(2,"i",47),e.\u0275\u0275elementEnd()()}}function ra(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li",45),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext().$implicit,o=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(o.openImage(null==r?null:r.aadhar_back))}),e.\u0275\u0275elementStart(1,"a",46),e.\u0275\u0275element(2,"i",48),e.\u0275\u0275elementEnd()()}}function la(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"a",49),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.status," ")}}function aa(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"a",50),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.status," ")}}function oa(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"a",51),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.status," ")}}function sa(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"li",52)(1,"a",53),e.\u0275\u0275element(2,"i",54),e.\u0275\u0275elementEnd()()),2&i){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate1("routerLink","/members/profile/form/",t.user_details._id,"")}}function da(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li",52)(1,"a",55),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext().$implicit,o=e.\u0275\u0275nextContext(2),s=e.\u0275\u0275reference(28);return e.\u0275\u0275resetView(o.openCDSettingFn(s,r))}),e.\u0275\u0275element(2,"i",56),e.\u0275\u0275elementEnd()()}}function ma(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"tr")(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td"),e.\u0275\u0275text(4),e.\u0275\u0275element(5,"br"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"td"),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"td"),e.\u0275\u0275template(9,na,4,2,"span",38),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"td"),e.\u0275\u0275text(11),e.\u0275\u0275elementStart(12,"ul",39),e.\u0275\u0275template(13,ia,3,0,"li",40),e.\u0275\u0275template(14,ra,3,0,"li",40),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(15,"td"),e.\u0275\u0275template(16,la,2,1,"a",41),e.\u0275\u0275template(17,aa,2,1,"a",42),e.\u0275\u0275template(18,oa,2,1,"a",43),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"td"),e.\u0275\u0275text(20),e.\u0275\u0275pipe(21,"date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"td")(23,"ul",39),e.\u0275\u0275template(24,sa,3,1,"li",44),e.\u0275\u0275template(25,da,3,0,"li",44),e.\u0275\u0275elementEnd()()()),2&i){const t=a.$implicit,n=a.index,r=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate((r.page-1)*r.pageSize+n+1),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",null==t||null==t.user_details?null:t.user_details.name,""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(null==t||null==t.user_details?null:t.user_details.user_id),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",(null==t?null:t.parent_details)&&(null==t?null:t.parent_details.length)>0),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.aadhar," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",null==t?null:t.aadhar_front),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==t?null:t.aadhar_back),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","Requested"===t.status),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Completed"===t.status),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Approved"===t.status),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind2(21,13,t.created_date,"medium")," "),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf","Approved"!==t.status),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",("Completed"===t.status||"Approved"===t.status)&&0===t.c_deposit_settings.length)}}function ca(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",30)(1,"table",31)(2,"thead")(3,"tr")(4,"th"),e.\u0275\u0275text(5,"Sr No"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"th"),e.\u0275\u0275text(7,"Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"th"),e.\u0275\u0275text(9,"UserId"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"th"),e.\u0275\u0275text(11,"Refer ID"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"th"),e.\u0275\u0275text(13,"Aadhar Number"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"th"),e.\u0275\u0275text(15,"Status"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"th"),e.\u0275\u0275text(17,"Date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"th"),e.\u0275\u0275text(19,"Action"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(20,"tbody"),e.\u0275\u0275template(21,ma,26,16,"tr",32),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(22,"div",33)(23,"div",34)(24,"div",35),e.\u0275\u0275text(25,"Showing "),e.\u0275\u0275elementStart(26,"b"),e.\u0275\u0275text(27),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(28),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(29,"div",34)(30,"div",36)(31,"ngb-pagination",37),e.\u0275\u0275listener("pageChange",function(r){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.page=r)})("pageChange",function(r){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.pageChange(r))}),e.\u0275\u0275elementEnd()()()()()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(21),e.\u0275\u0275property("ngForOf",t.kycList),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate((t.page-1)*t.pageSize+1),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate2(" to ",t.findPageShowing()," of ",t.total," entries "),e.\u0275\u0275advance(3),e.\u0275\u0275property("collectionSize",t.total)("page",t.page)("pageSize",t.pageSize)}}function pa(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Annual Rate is required."),e.\u0275\u0275elementEnd())}function ua(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Enter a valid number (e.g. 5, 7.25)."),e.\u0275\u0275elementEnd())}function _a(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",82),e.\u0275\u0275template(1,pa,2,0,"small",38),e.\u0275\u0275template(2,ua,2,0,"small",38),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);let n,r;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(n=t.saveDepositSettings.get("annual_rate"))||null==n.errors?null:n.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(r=t.saveDepositSettings.get("annual_rate"))||null==r.errors?null:r.errors.pattern)}}function ga(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",82)(1,"small"),e.\u0275\u0275text(2,"Payment interval is required."),e.\u0275\u0275elementEnd()())}function fa(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Enter a valid number (e.g. 100, 2500.50)."),e.\u0275\u0275elementEnd())}function va(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",82),e.\u0275\u0275template(1,fa,2,0,"small",38),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);let n;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(n=t.saveDepositSettings.get("penalty_amount"))||null==n.errors?null:n.errors.pattern)}}function ha(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Amount is required."),e.\u0275\u0275elementEnd())}function xa(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Enter a valid number (e.g. 100, 2500.50)."),e.\u0275\u0275elementEnd())}function Sa(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Amount must be at least \u20b9300."),e.\u0275\u0275elementEnd())}function ba(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",82),e.\u0275\u0275template(1,ha,2,0,"small",38),e.\u0275\u0275template(2,xa,2,0,"small",38),e.\u0275\u0275template(3,Sa,2,0,"small",38),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);let n,r,o;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(n=t.saveDepositSettings.get("amount"))||null==n.errors?null:n.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(r=t.saveDepositSettings.get("amount"))||null==r.errors?null:r.errors.pattern),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(o=t.saveDepositSettings.get("amount"))||null==o.errors?null:o.errors.min)}}function Ca(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Indirect referral amount is required."),e.\u0275\u0275elementEnd())}function ya(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Must be at least 0."),e.\u0275\u0275elementEnd())}function Ea(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",82),e.\u0275\u0275template(1,Ca,2,0,"small",38),e.\u0275\u0275template(2,ya,2,0,"small",38),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);let n,r;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(n=t.saveDepositSettings.get("franchise_refer_per"))||null==n.errors?null:n.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(r=t.saveDepositSettings.get("franchise_refer_per"))||null==r.errors?null:r.errors.min)}}function Ia(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Indirect referral amount is required."),e.\u0275\u0275elementEnd())}function wa(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Must be at least 0."),e.\u0275\u0275elementEnd())}function Da(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",82),e.\u0275\u0275template(1,Ia,2,0,"small",38),e.\u0275\u0275template(2,wa,2,0,"small",38),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);let n,r;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(n=t.saveDepositSettings.get("indirect_refer_per"))||null==n.errors?null:n.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(r=t.saveDepositSettings.get("indirect_refer_per"))||null==r.errors?null:r.errors.min)}}function Fa(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Direct referral % is required."),e.\u0275\u0275elementEnd())}function ka(i,a){1&i&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1,"Must be at least 0."),e.\u0275\u0275elementEnd())}function Aa(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",82),e.\u0275\u0275template(1,Fa,2,0,"small",38),e.\u0275\u0275template(2,ka,2,0,"small",38),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);let n,r;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(n=t.saveDepositSettings.get("direct_refer_per"))||null==n.errors?null:n.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(r=t.saveDepositSettings.get("direct_refer_per"))||null==r.errors?null:r.errors.min)}}function Ta(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",57)(1,"h5",58),e.\u0275\u0275text(2,"CD Settings"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",59),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.dismiss("Cross click"))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"form",8)(5,"div",60)(6,"div",3)(7,"div",61)(8,"label",62),e.\u0275\u0275text(9,"Annual Rate (%)"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(10,"input",63),e.\u0275\u0275elementStart(11,"span",64),e.\u0275\u0275text(12,"Enter the yearly interest rate as a percentage"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(13,_a,3,2,"div",65),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"div",61)(15,"label",62),e.\u0275\u0275text(16,"Payment Interval"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"select",66)(18,"option",67),e.\u0275\u0275text(19,"Select Interval"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"option",68),e.\u0275\u0275text(21,"Monthly"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(22,ga,3,0,"div",65),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"div",61)(24,"label",62),e.\u0275\u0275text(25,"Penalty Amount (In Rupees)"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(26,"input",69),e.\u0275\u0275template(27,va,2,1,"div",65),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(28,"div",61)(29,"label",62),e.\u0275\u0275text(30,"Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(31,"input",70),e.\u0275\u0275template(32,ba,4,3,"div",65),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(33,"div",61)(34,"label",62),e.\u0275\u0275text(35,"Shared Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(36,"input",71),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(37,"div",72)(38,"label",73),e.\u0275\u0275text(39,"Franchise Referral Rupees"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(40,"input",74),e.\u0275\u0275template(41,Ea,3,2,"div",65),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(42,"div",72)(43,"label",75),e.\u0275\u0275text(44,"Indirect Referral Rupees"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(45,"input",76),e.\u0275\u0275template(46,Da,3,2,"div",65),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(47,"div",72)(48,"label",77),e.\u0275\u0275text(49,"Direct Referral Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(50,"input",78),e.\u0275\u0275template(51,Aa,3,2,"div",65),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(52,"div",79)(53,"button",80),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.close("Close click"))}),e.\u0275\u0275text(54,"Close"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(55,"button",81),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.setting())}),e.\u0275\u0275text(56,"Submit"),e.\u0275\u0275elementEnd()()()}if(2&i){const t=e.\u0275\u0275nextContext();let n,r,o,s,d,m,c;e.\u0275\u0275advance(4),e.\u0275\u0275property("formGroup",t.saveDepositSettings),e.\u0275\u0275advance(9),e.\u0275\u0275property("ngIf",(null==(n=t.saveDepositSettings.get("annual_rate"))?null:n.touched)&&(null==(n=t.saveDepositSettings.get("annual_rate"))?null:n.invalid)),e.\u0275\u0275advance(9),e.\u0275\u0275property("ngIf",(null==(r=t.saveDepositSettings.get("interval"))?null:r.touched)&&(null==(r=t.saveDepositSettings.get("interval"))?null:r.invalid)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(o=t.saveDepositSettings.get("penalty_amount"))?null:o.touched)&&(null==(o=t.saveDepositSettings.get("penalty_amount"))?null:o.invalid)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(s=t.saveDepositSettings.get("amount"))?null:s.touched)&&(null==(s=t.saveDepositSettings.get("amount"))?null:s.invalid)),e.\u0275\u0275advance(9),e.\u0275\u0275property("ngIf",(null==(d=t.saveDepositSettings.get("franchise_refer_per"))?null:d.touched)&&(null==(d=t.saveDepositSettings.get("franchise_refer_per"))?null:d.invalid)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(m=t.saveDepositSettings.get("indirect_refer_per"))?null:m.touched)&&(null==(m=t.saveDepositSettings.get("indirect_refer_per"))?null:m.invalid)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(c=t.saveDepositSettings.get("direct_refer_per"))?null:c.touched)&&(null==(c=t.saveDepositSettings.get("direct_refer_per"))?null:c.invalid)),e.\u0275\u0275advance(4),e.\u0275\u0275property("disabled",t.saveDepositSettings.invalid)}}function Na(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"option",89),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=a.$implicit;e.\u0275\u0275property("ngValue",t),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t)}}function Ra(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",57)(1,"h5",58),e.\u0275\u0275text(2,"KYC Status"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",59),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.dismiss("Cross click"))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",60)(5,"div",3)(6,"div",83)(7,"div",84)(8,"label",85),e.\u0275\u0275text(9,"Change Status:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"select",86),e.\u0275\u0275listener("ngModelChange",function(r){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.currKYCStatus=r)}),e.\u0275\u0275template(11,Na,2,2,"option",87),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(12,"div",79)(13,"button",80),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.close("Close click"))}),e.\u0275\u0275text(14,"Close"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"button",88),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.changeKYCStatusAccount())}),e.\u0275\u0275text(16,"Submit"),e.\u0275\u0275elementEnd()()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(10),e.\u0275\u0275property("ngModel",t.currKYCStatus),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.kycStatusList)}}let Va=(()=>{class i{constructor(t,n,r,o,s){this.userService=t,this.toast=n,this.settingsService=r,this.depositService=o,this.modalService=s,this.kycList=[],this.total=0,this.kycStatusList=["Requested","Completed"],this.page=1,this.pageSize=10,this.currUserId="",this.cd_rate=0,this.currKYCStatus="Requested"}ngOnInit(){this.breadCrumbItems=[{label:"Members"},{label:"KYC Requested",active:!0}],this.searchFormGroup=new l.cw({user_id:new l.NI(""),status:new l.NI("Completed")}),this.saveDepositSettings=new l.cw({annual_rate:new l.NI("",[l.kI.required,l.kI.pattern("^[0-9]+(\\.[0-9]{1,2})?$")]),interval:new l.NI("Monthly",[l.kI.required]),penalty_amount:new l.NI("",[l.kI.required,l.kI.pattern("^[0-9]+(\\.[0-9]{1,2})?$")]),amount:new l.NI("300",[l.kI.required,l.kI.pattern("^[0-9]+(\\.[0-9]{1,2})?$"),l.kI.min(300)]),shared_amount:new l.NI({value:"500",disabled:!0},[l.kI.required,l.kI.pattern("^[0-9]+(\\.[0-9]{1,2})?$")]),indirect_refer_per:new l.NI(null,{nonNullable:!0,validators:[l.kI.required,l.kI.min(0),l.kI.max(100)]}),direct_refer_per:new l.NI(null,{nonNullable:!0,validators:[l.kI.required,l.kI.min(0),l.kI.max(100)]}),franchise_refer_per:new l.NI(null,{nonNullable:!0,validators:[l.kI.required,l.kI.min(0),l.kI.max(100)]})}),this.settingsService.getGeneralSettings$().subscribe(t=>{t&&(this.cd_rate=t.compulsory_deposit_rate||0,this.saveDepositSettings.patchValue({penalty_amount:t.compulsory_penalty,annual_rate:this.cd_rate,indirect_refer_per:t.compulsory_indirect_rs||0,direct_refer_per:t.compulsory_direct_rs||0,franchise_refer_per:t.compulsory_francise_rs||0}))}),this.getKycRequests()}getKycRequests(){const t=this.searchFormGroup.value,n=[];Object.keys(t).forEach(o=>{null!==t[o]&&""!==t[o]&&n.push(`${o}=${encodeURIComponent(t[o])}`)});const r=n.join("&");this.userService.getKycRequests(this.page,this.pageSize,r).subscribe({next:o=>{console.log("KYC Requests Response:",o),o&&o.data&&(this.kycList=o.data.kyc||[],this.total=o.data.total||0)}})}search(){this.page=1,this.getKycRequests()}reset(){this.searchFormGroup.reset(),this.page=1,this.getKycRequests()}findPageShowing(){return Math.min(this.page*this.pageSize,this.total)}pageChange(t){this.page=t,this.getKycRequests()}openImage(t){u().fire({imageUrl:t,imageWidth:600,imageHeight:600,showConfirmButton:!1,customClass:{popup:"swal2-no-padding"},padding:0,backdrop:!0})}openKYCModal(t,n){this.modalService.open(t),this.currKYCStatus=n?.status,this.currUserId=n?.user_details._id}changeKYCStatusAccount(){u().fire({title:"Are you sure?",text:`You want to ${this.currKYCStatus} this account?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:`Yes, ${this.currKYCStatus} it!`}).then(t=>{t.isConfirmed&&this.userService.upsertKyc({status:this.currKYCStatus,user:this.currUserId}).subscribe(n=>{this.modalService.dismissAll(),this.toast.show(`KYC ${this.currKYCStatus} Successfully`,{classname:"bg-success text-light",delay:5e3}),this.getKycRequests(),this.settingsService.getGeneralSettings$().subscribe(r=>{r&&(this.cd_rate=r.compulsory_deposit_rate||0,this.saveDepositSettings.patchValue({penalty_amount:r.compulsory_penalty,annual_rate:this.cd_rate,indirect_refer_per:r.compulsory_indirect_rs||0,direct_refer_per:r.compulsory_direct_rs||0,franchise_refer_per:r.compulsory_francise_rs||0}))})},n=>{console.error("Error changing user status:",n),this.modalService.dismissAll(),this.toast.show(`Failed to ${this.currKYCStatus} account`,{classname:"bg-danger text-light",position:"top-center",delay:5e3})})})}openCDSettingFn(t,n){this.modalService.open(t,{size:"lg",centered:!0}),this.currUserId=n.user}setting(){if(this.saveDepositSettings.valid){const t=this.saveDepositSettings.value;t.user=this.currUserId,this.depositService.compulsorySettings(t).subscribe(n=>{n&&"success"===n.status&&(u().fire({icon:"success",title:"Success",text:"Deposit settings saved successfully.",confirmButtonText:"OK"}),this.getKycRequests(),this.saveDepositSettings.reset(),this.settingsService.getGeneralSettings$().subscribe(r=>{r&&(this.cd_rate=r.compulsory_deposit_rate||0,this.saveDepositSettings.patchValue({penalty_amount:r.compulsory_penalty,annual_rate:this.cd_rate,indirect_refer_per:r.compulsory_indirect_rs||0,direct_refer_per:r.compulsory_direct_rs||0,franchise_refer_per:r.compulsory_francise_rs||0}))}),this.saveDepositSettings.patchValue({annual_rate:this.cd_rate}),this.modalService.dismissAll())},n=>{console.error("Error saving deposit settings:",n),u().fire({icon:"error",title:"Error",text:"Failed to save deposit settings. Please try again later.",confirmButtonText:"OK"})})}else this.saveDepositSettings.markAllAsTouched()}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(S.i),e.\u0275\u0275directiveInject(Zl.k),e.\u0275\u0275directiveInject(j.g),e.\u0275\u0275directiveInject(L.s),e.\u0275\u0275directiveInject(v.FF))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["app-kyc-request"]],decls:31,vars:5,consts:[[1,"container-fluid"],["title","KYC Requests",3,"breadcrumbItems"],["aria-live","polite","aria-atomic","true"],[1,"row"],[1,"col-xl-12"],[1,"card"],[1,"card-body"],[1,"card-body","border-bottom"],[3,"formGroup"],[1,"col-lg-5"],["type","search","id","searchInput","formControlName","user_id","placeholder","Search for User ID/Name...",1,"form-control"],[1,"col-lg-4"],["formControlName","status","id","statusSelect",1,"form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-lg-2"],["type","button",1,"btn","btn-soft-secondary","w-100",3,"click"],[1,"mdi","mdi-filter-outline","align-middle"],[1,"col-lg-1"],["type","button",1,"btn","btn-light",3,"click"],[1,"mdi","mdi-refresh"],["class","d-flex flex-column justify-content-center align-items-center","style","min-height: 150px;",4,"ngIf"],["class","table-responsive",4,"ngIf"],["role","document"],["settingModal",""],["changeKYCStatusModal",""],[3,"value"],[1,"d-flex","flex-column","justify-content-center","align-items-center",2,"min-height","150px"],["src","assets/img/not-found.png","width","300px","alt",""],[1,"text-mutes","mt-2"],[1,"table-responsive"],["id","basic-datatable",1,"table","table-bordered","dt-responsive","nowrap","datatables","no-footer","dtr-inline"],[4,"ngFor","ngForOf"],[1,"row","justify-content-md-between","align-items-md-center","mt-2"],[1,"col-sm-12","col-md-5"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[1,"text-md-right","float-md-end","pagination-rounded"],[3,"collectionSize","page","pageSize","pageChange"],[4,"ngIf"],[1,"list-inline","font-size-20","contact-links","mb-0"],["data-bs-toggle","modal","data-bs-target","#myModal","class","list-inline-item px-2",3,"click",4,"ngIf"],["href","javascript: void(0);","class","badge font-size-11 m-1 badge-soft-warning",4,"ngIf"],["href","javascript: void(0);","class","badge font-size-11 m-1 badge-soft-primary",4,"ngIf"],["href","javascript: void(0);","class","badge font-size-11 m-1 badge-soft-success",4,"ngIf"],["class","list-inline-item px-2",4,"ngIf"],["data-bs-toggle","modal","data-bs-target","#myModal",1,"list-inline-item","px-2",3,"click"],["href","javascript:void(0);","tooltip","Message"],[1,"bx","bx-id-card"],[1,"bx","bx-id-card",2,"transform","scaleX(-1)"],["href","javascript: void(0);",1,"badge","font-size-11","m-1","badge-soft-warning"],["href","javascript: void(0);",1,"badge","font-size-11","m-1","badge-soft-primary"],["href","javascript: void(0);",1,"badge","font-size-11","m-1","badge-soft-success"],[1,"list-inline-item","px-2"],["tooltip","Profile",3,"routerLink"],[1,"bx","bx-user-circle"],["tooltip","Profile",1,"cursor-pointer",3,"click"],[1,"bx","bx-cog","bx-spin"],[1,"modal-header"],["id","myModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3","col-lg-6"],[1,"col-form-label"],["type","number","placeholder","Settings","formControlName","annual_rate",1,"form-control"],[1,"text-muted"],["class","text-danger",4,"ngIf"],["formControlName","interval",1,"form-control","select2"],["value","","disabled",""],["value","Monthly"],["type","number","placeholder","Penalty Amount","formControlName","penalty_amount",1,"form-control"],["type","number","placeholder","Amount","formControlName","amount",1,"form-control"],["type","number","placeholder","Amount","formControlName","shared_amount",1,"form-control"],[1,"col-md-6","mb-3"],["for","franchiseReferral",1,"form-label"],["type","number","id","franchiseReferral","formControlName","franchise_refer_per","placeholder","Enter indirect referral",1,"form-control"],["for","indirectReferral",1,"form-label"],["type","number","id","indirectReferral","formControlName","indirect_refer_per","placeholder","Enter indirect referral",1,"form-control"],["for","directReferral",1,"form-label"],["type","number","id","directReferral","formControlName","direct_refer_per","placeholder","Enter direct referral",1,"form-control"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary","waves-effect",3,"click"],["type","button",1,"btn","btn-primary","waves-effect","waves-light",3,"disabled","click"],[1,"text-danger"],[1,"col-md-12"],[1,"mb-3"],["for","recipient-name",1,"col-form-label"],["type","number",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary","waves-effect","waves-light",3,"click"],[3,"ngValue"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-page-title",1)(2,"app-toast",2),e.\u0275\u0275elementStart(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"form",8)(9,"div",3)(10,"div",9),e.\u0275\u0275element(11,"input",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",11)(13,"select",12)(14,"option",13),e.\u0275\u0275text(15,"All Statuses"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(16,ea,2,2,"option",14),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(17,"div",15)(18,"button",16),e.\u0275\u0275listener("click",function(){return n.search()}),e.\u0275\u0275element(19,"i",17),e.\u0275\u0275text(20," Filter"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(21,"div",18)(22,"button",19),e.\u0275\u0275listener("click",function(){return n.reset()}),e.\u0275\u0275element(23,"i",20),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(24,"div",3),e.\u0275\u0275template(25,ta,4,0,"div",21),e.\u0275\u0275template(26,ca,32,7,"div",22),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275template(27,Ta,57,9,"ng-template",23,24,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(29,Ra,17,2,"ng-template",23,25,e.\u0275\u0275templateRefExtractor)),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("breadcrumbItems",n.breadCrumbItems),e.\u0275\u0275advance(7),e.\u0275\u0275property("formGroup",n.searchFormGroup),e.\u0275\u0275advance(8),e.\u0275\u0275property("ngForOf",n.kycStatusList),e.\u0275\u0275advance(9),e.\u0275\u0275property("ngIf",!n.kycList||0===n.kycList.length),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0!=n.kycList.length))},dependencies:[p.NgForOf,p.NgIf,x.V,Xl.y,f.yS,l._Y,l.YN,l.Kr,l.Fj,l.wV,l.EJ,l.JJ,l.JL,l.On,l.sg,l.u,v.N9,p.DatePipe]}),i})();var qa=g(5933),Ga=g(263),Z=g(150);const Pa=["aadharFrontInput"],Ma=["aadharBackInput"],Ba=["panImageInput"],Oa=["disabilityImageInput"];function za(i,a){1&i&&(e.\u0275\u0275elementStart(0,"span",136),e.\u0275\u0275text(1,"SELF PHOTO (Upload your Photo)"),e.\u0275\u0275elementEnd())}function $a(i,a){if(1&i&&e.\u0275\u0275element(0,"img",137),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275propertyInterpolate("src",t.selected_photo,e.\u0275\u0275sanitizeUrl)}}function La(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",138),e.\u0275\u0275text(1," Name must be at least 2 characters. "),e.\u0275\u0275elementEnd())}function Ua(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",138),e.\u0275\u0275text(1," Name must be at least 2 characters. "),e.\u0275\u0275elementEnd())}function ja(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"option",139),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=a.$implicit;e.\u0275\u0275propertyInterpolate("value",t),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t)}}function Ya(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",138),e.\u0275\u0275text(1," Relationship is required. "),e.\u0275\u0275elementEnd())}function Ka(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",138),e.\u0275\u0275text(1," Name must be at least 2 characters. "),e.\u0275\u0275elementEnd())}function Wa(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",138),e.\u0275\u0275text(1," Name must be at least 2 characters. "),e.\u0275\u0275elementEnd())}function Ha(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",29)(1,"label",140),e.\u0275\u0275text(2,"Wife/Husband Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",31)(4,"input",141),e.\u0275\u0275listener("input",function(r){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();let s;return e.\u0275\u0275resetView(null==(s=o.profileFormGroup.get("spouse_name"))?null:s.setValue(r.target.value.toUpperCase()))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(5,Wa,2,0,"div",33),e.\u0275\u0275elementEnd()()}if(2&i){const t=e.\u0275\u0275nextContext();let n;e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(n=t.profileFormGroup.get("spouse_name"))?null:n.invalid)&&(null==(n=t.profileFormGroup.get("spouse_name"))?null:n.touched))}}function Ja(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",138),e.\u0275\u0275text(1," Enter valid 12 digit Aadhar number. "),e.\u0275\u0275elementEnd())}function Qa(i,a){1&i&&(e.\u0275\u0275elementStart(0,"label",142),e.\u0275\u0275text(1,"Aadhar Front"),e.\u0275\u0275elementEnd())}function Za(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",31)(1,"input",143),e.\u0275\u0275listener("change",function(r){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.onFileSelected(r,"aadhar_front"))}),e.\u0275\u0275elementEnd()()}}function Xa(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",144)(1,"button",145),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(),o=e.\u0275\u0275reference(309);let s;return e.\u0275\u0275resetView(r.viewImage(null==(s=r.profileFormGroup.get("aadhar_front"))?null:s.value,o))}),e.\u0275\u0275element(2,"i",146),e.\u0275\u0275text(3," View Aadhar Front "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"button",147),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.changeImage("aadhar_front"))}),e.\u0275\u0275element(5,"i",148),e.\u0275\u0275text(6," Change "),e.\u0275\u0275elementEnd()()}}function eo(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",144)(1,"button",145),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(),o=e.\u0275\u0275reference(309);let s;return e.\u0275\u0275resetView(r.viewImage(null==(s=r.profileFormGroup.get("aadhar_back"))?null:s.value,o))}),e.\u0275\u0275element(2,"i",146),e.\u0275\u0275text(3," View Aadhar Back "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"button",147),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.changeImage("aadhar_back"))}),e.\u0275\u0275element(5,"i",148),e.\u0275\u0275text(6," Change "),e.\u0275\u0275elementEnd()()}}function to(i,a){1&i&&(e.\u0275\u0275elementStart(0,"label",142),e.\u0275\u0275text(1,"Aadhar Back"),e.\u0275\u0275elementEnd())}function no(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",31)(1,"input",149),e.\u0275\u0275listener("change",function(r){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.onFileSelected(r,"aadhar_back"))}),e.\u0275\u0275elementEnd()()}}function io(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",138),e.\u0275\u0275text(1," Enter valid PAN number. "),e.\u0275\u0275elementEnd())}function ro(i,a){1&i&&(e.\u0275\u0275elementStart(0,"label",142),e.\u0275\u0275text(1,"PAN Image"),e.\u0275\u0275elementEnd())}function lo(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",31)(1,"input",150),e.\u0275\u0275listener("change",function(r){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.onFileSelected(r,"pan_image"))}),e.\u0275\u0275elementEnd()()}}function ao(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",144)(1,"button",145),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(),o=e.\u0275\u0275reference(309);let s;return e.\u0275\u0275resetView(r.viewImage(null==(s=r.profileFormGroup.get("pan_image"))?null:s.value,o))}),e.\u0275\u0275element(2,"i",146),e.\u0275\u0275text(3," View PAN Image "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"button",147),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.changeImage("pan_image"))}),e.\u0275\u0275element(5,"i",148),e.\u0275\u0275text(6," Change "),e.\u0275\u0275elementEnd()()}}function oo(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",138),e.\u0275\u0275text(1," Enter valid 10 digit mobile number. "),e.\u0275\u0275elementEnd())}function so(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",138),e.\u0275\u0275text(1," Enter valid 10 digit mobile number. "),e.\u0275\u0275elementEnd())}function mo(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",138),e.\u0275\u0275text(1," Enter valid Present Address. "),e.\u0275\u0275elementEnd())}function co(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",138),e.\u0275\u0275text(1," Enter valid State. "),e.\u0275\u0275elementEnd())}function po(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",138),e.\u0275\u0275text(1," Enter valid District. "),e.\u0275\u0275elementEnd())}function uo(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",138),e.\u0275\u0275text(1," Enter valid Pincode. "),e.\u0275\u0275elementEnd())}function _o(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",162),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext().index,o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.removePresentAddress(r))}),e.\u0275\u0275element(1,"i",163),e.\u0275\u0275elementEnd()}}function go(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",151)(1,"div",152)(2,"label",75),e.\u0275\u0275text(3,"Address"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"input",153),e.\u0275\u0275listener("input",function(r){const s=e.\u0275\u0275restoreView(t).$implicit;let d;return e.\u0275\u0275resetView(null==(d=s.get("address"))?null:d.setValue(r.target.value.toUpperCase()))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(5,mo,2,0,"div",33),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",154)(7,"label",75),e.\u0275\u0275text(8,"State"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"input",155),e.\u0275\u0275listener("input",function(r){const s=e.\u0275\u0275restoreView(t).$implicit;let d;return e.\u0275\u0275resetView(null==(d=s.get("state"))?null:d.setValue(r.target.value.toUpperCase()))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(10,co,2,0,"div",33),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",37)(12,"label",75),e.\u0275\u0275text(13,"District"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(14,"input",156),e.\u0275\u0275template(15,po,2,0,"div",33),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"div",37)(17,"label",75),e.\u0275\u0275text(18,"Pincode"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"input",157),e.\u0275\u0275listener("input",function(r){const s=e.\u0275\u0275restoreView(t).$implicit;let d;return e.\u0275\u0275resetView(null==(d=s.get("pincode"))?null:d.setValue(r.target.value.toUpperCase()))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(20,uo,2,0,"div",33),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"div",158)(22,"div",52),e.\u0275\u0275element(23,"input",159),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(24,"div",160),e.\u0275\u0275template(25,_o,2,0,"button",161),e.\u0275\u0275elementEnd()()}if(2&i){const t=a.$implicit,n=a.index,r=e.\u0275\u0275nextContext();let o,s,d,m;e.\u0275\u0275property("formGroupName",n),e.\u0275\u0275advance(4),e.\u0275\u0275propertyInterpolate1("id","present_addr_",n,""),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==(o=t.get("address"))?null:o.invalid)&&(null==(o=t.get("address"))?null:o.touched)),e.\u0275\u0275advance(4),e.\u0275\u0275propertyInterpolate1("id","present_state_",n,""),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==(s=t.get("state"))?null:s.invalid)&&(null==(s=t.get("state"))?null:s.touched)),e.\u0275\u0275advance(4),e.\u0275\u0275propertyInterpolate1("id","present_district_",n,""),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==(d=t.get("district"))?null:d.invalid)&&(null==(d=t.get("district"))?null:d.touched)),e.\u0275\u0275advance(4),e.\u0275\u0275propertyInterpolate1("id","present_pincode_",n,""),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==(m=t.get("pincode"))?null:m.invalid)&&(null==(m=t.get("pincode"))?null:m.touched)),e.\u0275\u0275advance(3),e.\u0275\u0275property("formControlName","status"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",r.profileFormGroup.get("present_addresses").controls.length>1)}}function fo(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",138),e.\u0275\u0275text(1," Enter valid Permanent Address "),e.\u0275\u0275elementEnd())}function vo(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",138),e.\u0275\u0275text(1," Enter valid State. "),e.\u0275\u0275elementEnd())}function ho(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",138),e.\u0275\u0275text(1," Enter valid District. "),e.\u0275\u0275elementEnd())}function xo(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",138),e.\u0275\u0275text(1," Enter valid Pincode. "),e.\u0275\u0275elementEnd())}function So(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",162),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext().index,o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.removePermanentAddress(r))}),e.\u0275\u0275element(1,"i",163),e.\u0275\u0275elementEnd()}}function bo(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",151)(1,"div",152)(2,"label",75),e.\u0275\u0275text(3,"Address"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"input",164),e.\u0275\u0275listener("input",function(r){const s=e.\u0275\u0275restoreView(t).$implicit;let d;return e.\u0275\u0275resetView(null==(d=s.get("address"))?null:d.setValue(r.target.value.toUpperCase()))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(5,fo,2,0,"div",33),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",37)(7,"label",75),e.\u0275\u0275text(8,"State"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"input",155),e.\u0275\u0275listener("input",function(r){const s=e.\u0275\u0275restoreView(t).$implicit;let d;return e.\u0275\u0275resetView(null==(d=s.get("state"))?null:d.setValue(r.target.value.toUpperCase()))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(10,vo,2,0,"div",33),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",154)(12,"label",75),e.\u0275\u0275text(13,"District"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"input",165),e.\u0275\u0275listener("input",function(r){const s=e.\u0275\u0275restoreView(t).$implicit;let d;return e.\u0275\u0275resetView(null==(d=s.get("district"))?null:d.setValue(r.target.value.toUpperCase()))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(15,ho,2,0,"div",33),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"div",37)(17,"label",75),e.\u0275\u0275text(18,"Pincode"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"input",157),e.\u0275\u0275listener("input",function(r){const s=e.\u0275\u0275restoreView(t).$implicit;let d;return e.\u0275\u0275resetView(null==(d=s.get("pincode"))?null:d.setValue(r.target.value.toUpperCase()))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(20,xo,2,0,"div",33),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"div",158)(22,"div",52),e.\u0275\u0275element(23,"input",159),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(24,"div",160),e.\u0275\u0275template(25,So,2,0,"button",161),e.\u0275\u0275elementEnd()()}if(2&i){const t=a.$implicit,n=a.index,r=e.\u0275\u0275nextContext();let o,s,d,m;e.\u0275\u0275property("formGroupName",n),e.\u0275\u0275advance(4),e.\u0275\u0275propertyInterpolate1("id","permanent_addr_",n,""),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==(o=t.get("address"))?null:o.invalid)&&(null==(o=t.get("address"))?null:o.touched)),e.\u0275\u0275advance(4),e.\u0275\u0275propertyInterpolate1("id","permanent_state_",n,""),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==(s=t.get("state"))?null:s.invalid)&&(null==(s=t.get("state"))?null:s.touched)),e.\u0275\u0275advance(4),e.\u0275\u0275propertyInterpolate1("id","permanent_district_",n,""),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==(d=t.get("district"))?null:d.invalid)&&(null==(d=t.get("district"))?null:d.touched)),e.\u0275\u0275advance(4),e.\u0275\u0275propertyInterpolate1("id","permanent_pincode_",n,""),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==(m=t.get("pincode"))?null:m.invalid)&&(null==(m=t.get("pincode"))?null:m.touched)),e.\u0275\u0275advance(3),e.\u0275\u0275property("formControlName","status"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",r.profileFormGroup.get("permanent_addresses").controls.length>1)}}function Co(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",138),e.\u0275\u0275text(1," Enter valid email address. "),e.\u0275\u0275elementEnd())}function yo(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",138),e.\u0275\u0275text(1," Enter valid 10 digit WhatsApp number. "),e.\u0275\u0275elementEnd())}function Eo(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",138),e.\u0275\u0275text(1," Enter valid Office Address. "),e.\u0275\u0275elementEnd())}function Io(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",138),e.\u0275\u0275text(1," Enter valid State. "),e.\u0275\u0275elementEnd())}function wo(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",138),e.\u0275\u0275text(1," Enter valid District. "),e.\u0275\u0275elementEnd())}function Do(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",138),e.\u0275\u0275text(1," Enter valid Pincode. "),e.\u0275\u0275elementEnd())}function Fo(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",162),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext().index,o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.removeOfficeAddress(r))}),e.\u0275\u0275element(1,"i",163),e.\u0275\u0275elementEnd()}}function ko(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",151)(1,"div",152)(2,"label",75),e.\u0275\u0275text(3,"Address"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"input",166),e.\u0275\u0275listener("input",function(r){const s=e.\u0275\u0275restoreView(t).$implicit;let d;return e.\u0275\u0275resetView(null==(d=s.get("address"))?null:d.setValue(r.target.value.toUpperCase()))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(5,Eo,2,0,"div",33),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",154)(7,"label",75),e.\u0275\u0275text(8,"State"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"input",155),e.\u0275\u0275listener("input",function(r){const s=e.\u0275\u0275restoreView(t).$implicit;let d;return e.\u0275\u0275resetView(null==(d=s.get("state"))?null:d.setValue(r.target.value.toUpperCase()))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(10,Io,2,0,"div",33),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",154)(12,"label",75),e.\u0275\u0275text(13,"District"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"input",165),e.\u0275\u0275listener("input",function(r){const s=e.\u0275\u0275restoreView(t).$implicit;let d;return e.\u0275\u0275resetView(null==(d=s.get("district"))?null:d.setValue(r.target.value.toUpperCase()))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(15,wo,2,0,"div",33),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"div",37)(17,"label",75),e.\u0275\u0275text(18,"Pincode"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"input",157),e.\u0275\u0275listener("input",function(r){const s=e.\u0275\u0275restoreView(t).$implicit;let d;return e.\u0275\u0275resetView(null==(d=s.get("pincode"))?null:d.setValue(r.target.value.toUpperCase()))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(20,Do,2,0,"div",33),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"div",160),e.\u0275\u0275template(22,Fo,2,0,"button",161),e.\u0275\u0275elementEnd()()}if(2&i){const t=a.$implicit,n=a.index,r=e.\u0275\u0275nextContext();let o,s,d,m;e.\u0275\u0275property("formGroupName",n),e.\u0275\u0275advance(4),e.\u0275\u0275propertyInterpolate1("id","office_addr_",n,""),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==(o=t.get("address"))?null:o.invalid)&&(null==(o=t.get("address"))?null:o.touched)),e.\u0275\u0275advance(4),e.\u0275\u0275propertyInterpolate1("id","office_state_",n,""),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==(s=t.get("state"))?null:s.invalid)&&(null==(s=t.get("state"))?null:s.touched)),e.\u0275\u0275advance(4),e.\u0275\u0275propertyInterpolate1("id","office_district_",n,""),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==(d=t.get("district"))?null:d.invalid)&&(null==(d=t.get("district"))?null:d.touched)),e.\u0275\u0275advance(4),e.\u0275\u0275propertyInterpolate1("id","office_pincode_",n,""),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==(m=t.get("pincode"))?null:m.invalid)&&(null==(m=t.get("pincode"))?null:m.touched)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",r.profileFormGroup.get("office_addresses").controls.length>1)}}function Ao(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",138),e.\u0275\u0275text(1," Enter valid account number. "),e.\u0275\u0275elementEnd())}function To(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",138),e.\u0275\u0275text(1," Enter valid IFSC code. "),e.\u0275\u0275elementEnd())}function No(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",162),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext().index,o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.removeBank(r))}),e.\u0275\u0275element(1,"i",163),e.\u0275\u0275elementEnd()}}function Ro(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",167)(1,"div",168)(2,"label",75),e.\u0275\u0275text(3,"Bank Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"input",169),e.\u0275\u0275listener("input",function(r){const s=e.\u0275\u0275restoreView(t).$implicit;let d;return e.\u0275\u0275resetView(null==(d=s.get("bank_name"))?null:d.setValue(r.target.value.toUpperCase()))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"div",168)(6,"label",75),e.\u0275\u0275text(7,"Account Number"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"input",170),e.\u0275\u0275listener("input",function(r){const s=e.\u0275\u0275restoreView(t).$implicit;let d;return e.\u0275\u0275resetView(null==(d=s.get("account_number"))?null:d.setValue(r.target.value.toUpperCase()))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(9,Ao,2,0,"div",33),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div",171)(11,"label",75),e.\u0275\u0275text(12,"IFSC Code"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"input",172),e.\u0275\u0275listener("input",function(r){const s=e.\u0275\u0275restoreView(t).$implicit;let d;return e.\u0275\u0275resetView(null==(d=s.get("ifsc_code"))?null:d.setValue(r.target.value.toUpperCase()))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(14,To,2,0,"div",33),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"div",171)(16,"label",75),e.\u0275\u0275text(17,"Branch Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"input",173),e.\u0275\u0275listener("input",function(r){const s=e.\u0275\u0275restoreView(t).$implicit;let d;return e.\u0275\u0275resetView(null==(d=s.get("branch_name"))?null:d.setValue(r.target.value.toUpperCase()))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(19,"div",174)(20,"div",52),e.\u0275\u0275element(21,"input",159),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(22,"div",174),e.\u0275\u0275template(23,No,2,0,"button",161),e.\u0275\u0275elementEnd()()}if(2&i){const t=a.$implicit,n=a.index,r=e.\u0275\u0275nextContext();let o,s;e.\u0275\u0275property("formGroupName",n),e.\u0275\u0275advance(9),e.\u0275\u0275property("ngIf",(null==(o=t.get("account_number"))?null:o.invalid)&&(null==(o=t.get("account_number"))?null:o.touched)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(s=t.get("ifsc_code"))?null:s.invalid)&&(null==(s=t.get("ifsc_code"))?null:s.touched)),e.\u0275\u0275advance(7),e.\u0275\u0275property("formControlName","status"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",r.profileFormGroup.get("banks").controls.length>1)}}function Vo(i,a){1&i&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"UPLOAD Passbook/Cheque"),e.\u0275\u0275elementEnd())}function qo(i,a){if(1&i&&e.\u0275\u0275element(0,"img",137),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275propertyInterpolate("src",t.selected_cheque,e.\u0275\u0275sanitizeUrl)}}function Go(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",138),e.\u0275\u0275text(1," Name must be at least 2 characters. "),e.\u0275\u0275elementEnd())}function Po(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"option",139),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=a.$implicit;e.\u0275\u0275propertyInterpolate("value",t),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t)}}function Mo(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"small",175),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("(Age: ",t.nomineeAge," years)")}}function Bo(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",138),e.\u0275\u0275text(1," Enter valid mobile number. "),e.\u0275\u0275elementEnd())}function Oo(i,a){1&i&&(e.\u0275\u0275elementStart(0,"label",104),e.\u0275\u0275text(1,"Disability Proof"),e.\u0275\u0275elementEnd())}function zo(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",31)(1,"input",176),e.\u0275\u0275listener("change",function(r){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.onFileSelected(r,"disability_image"))}),e.\u0275\u0275elementEnd()()}}function $o(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",177)(1,"button",145),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(),o=e.\u0275\u0275reference(309);let s;return e.\u0275\u0275resetView(r.viewImage(null==(s=r.profileFormGroup.get("disability_image"))?null:s.value,o))}),e.\u0275\u0275element(2,"i",146),e.\u0275\u0275text(3," View Disability Certificate "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"button",147),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.changeImage("disability_image"))}),e.\u0275\u0275element(5,"i",148),e.\u0275\u0275text(6," Change "),e.\u0275\u0275elementEnd()()}}function Lo(i,a){1&i&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"UPLOAD SIGN"),e.\u0275\u0275elementEnd())}function Uo(i,a){if(1&i&&e.\u0275\u0275element(0,"img",137),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275propertyInterpolate("src",t.selected_signature,e.\u0275\u0275sanitizeUrl)}}function jo(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",178),e.\u0275\u0275text(1," Please correct the errors above before submitting the form. "),e.\u0275\u0275elementEnd())}function Yo(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",179),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.approveKYC())}),e.\u0275\u0275text(1,"Approve KYC"),e.\u0275\u0275elementEnd()}}function Ko(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",180)(1,"div",181)(2,"div",182)(3,"div",183),e.\u0275\u0275element(4,"img",184),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(5,"div",185)(6,"button",186),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.close("Close click"))}),e.\u0275\u0275text(7,"Close"),e.\u0275\u0275elementEnd()()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275property("src",t.viewImageURL,e.\u0275\u0275sanitizeUrl)}}let Wo=(()=>{class i{constructor(t,n,r,o,s,d,m){this.userService=t,this.toast=n,this.masterService=r,this.router=o,this.route=s,this.modalService=d,this.authService=m,this.maritalStatus="",this.viewImageURL="",this.user_details=null,this.user=null,this.selected_photo=null,this.selected_signature=null,this.userAge=0,this.nomineeAge=null,this.allStates=[],this.allDistricts=[],this.allAreas=[],this.selected_cheque=null,this.isAccountApproved=!1,this.nominee_relation=["Father","Mother","Brother","Sister","Wife","Husband","Son","Daughter"],this.user=this.router.snapshot.params.user}ngOnInit(){this.breadCrumbItems=[{label:"Members"},{label:"Edit Profile",active:!0}],this.getStates(),this.profileFormGroup=new l.cw({_id:new l.NI("",[l.kI.required]),name:new l.NI("",[l.kI.minLength(2)]),father_or_husband_name:new l.NI("",[l.kI.minLength(2)]),mother_name:new l.NI("",[l.kI.minLength(2)]),maritial_status:new l.NI(null),spouse_name:new l.NI("",[l.kI.minLength(2)]),email_id:new l.NI("",[l.kI.email]),nominee_dob:new l.NI(""),mobile_number_2:new l.NI("",[l.kI.pattern("^[6-9][0-9]{9}$")]),whatsapp_no:new l.NI(null,[l.kI.pattern("^[6-9][0-9]{9}$")]),account_number:new l.NI("",[l.kI.pattern("^[0-9]{9,18}$")]),user_id:new l.NI,mobile_number:new l.NI("",[l.kI.pattern("^[6-9][0-9]{9}$")]),gender:new l.NI(""),date_of_birth:new l.NI,guardian_name:new l.NI("",[l.kI.minLength(2)]),guardian_relation:new l.NI(""),nominee_name:new l.NI("",[l.kI.minLength(2)]),nominee_relation:new l.NI(""),nominee_mobile:new l.NI("",[l.kI.pattern("^[6-9][0-9]{9}$")]),profile_image:new l.NI(""),is_divyang:new l.NI(!1),occupation:new l.NI(null,[l.kI.minLength(2)]),aadhar:new l.NI("",[l.kI.pattern("^[0-9]{12}$")]),pan:new l.NI("",[l.kI.pattern("^[A-Z]{5}[0-9]{4}[A-Z]{1}$")]),pan_image:new l.NI(""),aadhar_front:new l.NI(""),aadhar_back:new l.NI(""),signature:new l.NI(""),signed_at:new l.NI(""),created_date:new l.NI({value:"",disabled:!0}),present_area:new l.NI(""),permanent_area:new l.NI(""),passbook_cheque:new l.NI(""),disability_image:new l.NI(""),state:new l.NI(""),district:new l.NI(""),area:new l.NI(""),present_addresses:new l.Oe([new l.cw({_id:new l.NI(null),address:new l.NI(""),state:new l.NI(""),district:new l.NI(""),pincode:new l.NI("",[l.kI.pattern("^[0-9]{6}$")]),status:new l.NI(!1)})]),permanent_addresses:new l.Oe([new l.cw({_id:new l.NI(null),address:new l.NI(""),state:new l.NI(""),district:new l.NI(""),pincode:new l.NI("",[l.kI.pattern("^[0-9]{6}$")]),status:new l.NI(!1)})]),office_addresses:new l.Oe([]),banks:new l.Oe([new l.cw({_id:new l.NI(null),bank_name:new l.NI(""),account_number:new l.NI("",[l.kI.pattern("^[0-9]{9,18}$")]),ifsc_code:new l.NI("",[l.kI.pattern("^[A-Z]{4}[0-9]{7}$")]),branch_name:new l.NI(""),status:new l.NI(!1)})])}),this.getProfile()}addPresentAddress(){this.profileFormGroup.get("present_addresses").push(new l.cw({_id:new l.NI(null),address:new l.NI(""),state:new l.NI(""),district:new l.NI(""),pincode:new l.NI("",[l.kI.pattern("^[0-9]{6}$")]),status:new l.NI(!1)}))}removePresentAddress(t){const n=this.profileFormGroup.get("present_addresses");n.length>1?n.removeAt(t):this.toast.error("At least one address is required.")}addPermanentAddress(){this.profileFormGroup.get("permanent_addresses").push(new l.cw({_id:new l.NI(null),address:new l.NI(""),state:new l.NI(""),district:new l.NI(""),pincode:new l.NI("",[l.kI.pattern("^[0-9]{6}$")]),status:new l.NI(!1)}))}removePermanentAddress(t){const n=this.profileFormGroup.get("permanent_addresses");n.length>1?n.removeAt(t):this.toast.error("At least one address is required.")}addOfficeAddress(){this.profileFormGroup.get("office_addresses").push(new l.cw({_id:new l.NI(null),address:new l.NI(""),state:new l.NI(""),district:new l.NI(""),pincode:new l.NI("",[l.kI.pattern("^[0-9]{6}$")]),status:new l.NI(!1)}))}removeOfficeAddress(t){const n=this.profileFormGroup.get("office_addresses");n.length>1?n.removeAt(t):this.toast.error("At least one office address is required.")}approveKYC(){u().fire({title:"Approve KYC",text:"Are you sure you want to approve this KYC?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, approve it!",cancelButtonText:"No, cancel!"}).then(t=>{t.isConfirmed&&(this.formSubmit(!1),this.userService.upsertKyc({user:this.user_details._id,status:"Approved"}).subscribe({next:n=>{"success"===n.status?u().fire("Approved!","KYC has been approved.","success").then(()=>{this.route.navigate(["/members/kyc"])}):this.toast.error("Failed to approve KYC. Please try again.")},error:n=>{console.error("Error approving KYC:",n)}}))})}addBank(){this.profileFormGroup.get("banks").push(new l.cw({_id:new l.NI(null),bank_name:new l.NI("",[l.kI.required]),account_number:new l.NI("",[l.kI.required,l.kI.pattern("^[0-9]{9,18}$")]),ifsc_code:new l.NI("",[l.kI.required,l.kI.pattern("^[A-Z]{4}[0-9]{7}$")]),branch_name:new l.NI("",[l.kI.required]),status:new l.NI(!1)}))}removeBank(t){const n=this.profileFormGroup.get("banks");n.length>1?n.removeAt(t):this.toast.error("At least one bank account is required.")}uploadFile(t,n){const r=t.target.files&&t.target.files[0];if(r){const o=new FileReader;o.onload=()=>{const s=o.result,d=new Image;d.onload=()=>{const m=document.createElement("canvas");m.width=.7*d.width,m.height=.7*d.height,m.getContext("2d").drawImage(d,0,0,m.width,m.height);const _=m.toDataURL("image/jpeg",.5);this.profileFormGroup.patchValue({[n]:_}),console.log(`Selected ${n}:`,_)},d.src=s},o.readAsDataURL(r)}}formSubmit(t=!0){if(this.profileFormGroup.valid){const n=this.profileFormGroup.value;this.user_details=n,this.userService.updateProfile(n).subscribe({next:r=>{"success"===r.status?t&&u().fire({title:"Profile Updated Successfully",text:"Your profile has been updated successfully.",icon:"success",confirmButtonText:"OK"}).then(()=>{setTimeout(()=>{window.location.reload()},1e3)}):this.toast.error("Failed to update profile. Please try again.")},error:r=>{console.error("Error updating profile:",r)}}),n.user=this.user}}getProfile(){console.log("Fetching user profile for user:",this.user),this.userService.getUserById(this.user).subscribe({next:t=>{if(console.log("User Profile Response:",t),"success"===t.status){const n=t?.data?.user;this.user_details=n,this.profileFormGroup.patchValue(t.data.user),delete t?.data.user?.kyc._id,this.selected_photo=n?.profile_image||null,this.selected_cheque=n?.passbook_cheque||null,this.profileFormGroup.patchValue(t?.data.user?.kyc),this.isAccountApproved="Approved"===n?.kyc?.status,n.state&&(this.getDistricts({_id:n.state}),this.getAreas({_id:n.district}),this.profileFormGroup.patchValue({state:n.state}),this.profileFormGroup.patchValue({district:n.district}));const r=n.addresses.filter(m=>"Present"===m.type),o=n.addresses.filter(m=>"Permanent"===m.type),s=n.addresses.filter(m=>"Office"===m.type);if(r&&r.length>0){const m=this.profileFormGroup.get("present_addresses");m.clear(),r.forEach((c,_)=>{m.push(new l.cw({_id:new l.NI(c._id),state:new l.NI(c.state,[l.kI.required]),district:new l.NI(c.district,[l.kI.required]),address:new l.NI(c.address,[l.kI.required]),pincode:new l.NI(c.pincode,[l.kI.required,l.kI.pattern("^[0-9]{6}$")]),status:new l.NI(c.status||!1)}))})}if(o&&o.length>0){const m=this.profileFormGroup.get("permanent_addresses");m.clear(),o.forEach((c,_)=>{m.push(new l.cw({_id:new l.NI(c._id),state:new l.NI(c.state,[l.kI.required]),district:new l.NI(c.district,[l.kI.required]),address:new l.NI(c.address,[l.kI.required]),pincode:new l.NI(c.pincode,[l.kI.required,l.kI.pattern("^[0-9]{6}$")]),status:new l.NI(c.status)}))})}if(s&&s.length>0){const m=this.profileFormGroup.get("office_addresses");m.clear(),s.forEach((c,_)=>{m.push(new l.cw({_id:new l.NI(c._id),state:new l.NI(c.state,[l.kI.required]),district:new l.NI(c.district,[l.kI.required]),address:new l.NI(c.address,[l.kI.required]),pincode:new l.NI(c.pincode,[l.kI.required,l.kI.pattern("^[0-9]{6}$")])}))})}if(n.bank&&n.bank.length>0){const m=this.profileFormGroup.get("banks");m.clear(),n.bank.forEach(c=>{m.push(new l.cw({_id:new l.NI(c._id),bank_name:new l.NI(c.bank_name,[l.kI.required]),account_number:new l.NI(c.account_number,[l.kI.required,l.kI.pattern("^[0-9]{9,18}$")]),ifsc_code:new l.NI(c.ifsc_code,[l.kI.required,l.kI.pattern("^[A-Z]{4}[0-9]{7}$")]),branch_name:new l.NI(c.branch_name,[l.kI.required]),status:new l.NI(c.status)}))})}else{const m=this.profileFormGroup.get("banks");m.clear(),m.push(new l.cw({_id:new l.NI(null),bank_name:new l.NI("",[l.kI.required]),account_number:new l.NI("",[l.kI.required,l.kI.pattern("^[0-9]{9,18}$")]),ifsc_code:new l.NI("",[l.kI.required,l.kI.pattern("^[A-Z]{4}[0-9]{7}$")]),branch_name:new l.NI("",[l.kI.required]),status:new l.NI(!1)}))}const d=this.profileFormGroup.get("banks");if(d.length>n.bank.length)for(let m=d.length-1;m>=n.bank.length;m--)d.removeAt(m);if(this.calculateAge(n.date_of_birth),console.log("Profile Data:",n.nominee_dob),this.profileFormGroup.patchValue({date_of_birth:(0,p.formatDate)(new Date(n.date_of_birth),"yyyy-MM-dd","en")}),this.profileFormGroup.patchValue({created_date:(0,p.formatDate)(new Date(n.created_date),"dd-MM-yyyy","en")}),n.nominee_dob){this.profileFormGroup.patchValue({nominee_dob:(0,p.formatDate)(new Date(n.nominee_dob),"yyyy-MM-dd","en")});const m=new Date(n.nominee_dob),c=new Date;let _=c.getFullYear()-m.getFullYear();const E=c.getMonth()-m.getMonth();(E<0||0===E&&c.getDate()<m.getDate())&&_--,this.nomineeAge=_}this.maritalStatus=t.data.marital_status,this.selected_signature=n?.signature||null}},error:t=>{console.error("Error fetching user profile:",t)}})}getStates(){this.masterService.states().subscribe({next:t=>{t&&t.data&&(this.allStates=t.data||[])},error:t=>{console.error("Error loading states:",t)}})}getDistricts(t){t?this.masterService.districts(t._id).subscribe({next:n=>{n&&n.data&&(this.allDistricts=n.data||[])},error:n=>{console.error("Error loading districts:",n)}}):this.allDistricts=[]}getAreas(t){t?this.masterService.areas(t._id).subscribe({next:n=>{n&&n.data&&(this.allAreas=n.data||[])},error:n=>{console.error("Error loading areas:",n)}}):this.allAreas=[]}calculateAge(t){const n=new Date(t),r=new Date;let o=r.getFullYear()-n.getFullYear();const s=r.getMonth()-n.getMonth();(s<0||0===s&&r.getDate()<n.getDate())&&o--,console.log("Calculated age:",o),this.userAge=o}onDOBChange(t){const n=t.target.value;n&&this.calculateAge(n)}onNomineeDOBChange(t){const n=t.target.value;if(n){const r=new Date(n),o=new Date;let s=o.getFullYear()-r.getFullYear();const d=o.getMonth()-r.getMonth();(d<0||0===d&&o.getDate()<r.getDate())&&s--,this.nomineeAge=s,console.log("Nominee age:",s)}else this.nomineeAge=null}onSelfPhotoSelected(t){const n=t.target.files&&t.target.files[0];if(n){const r=new FileReader;r.onload=()=>{const o=r.result,s=new Image;s.onload=()=>{const d=document.createElement("canvas");d.width=.7*s.width,d.height=.7*s.height,d.getContext("2d").drawImage(s,0,0,d.width,d.height);const c=d.toDataURL("image/jpeg",.5);this.selected_photo=c,console.log("Selected Self Photo:",c),this.profileFormGroup.patchValue({profile_image:c})},s.src=o},r.readAsDataURL(n)}}onSelfSignatureSelected(t){const n=t.target.files&&t.target.files[0];if(n){const r=new FileReader;r.onload=()=>{const o=r.result,s=new Image;s.onload=()=>{const d=document.createElement("canvas");d.width=.7*s.width,d.height=.7*s.height,d.getContext("2d").drawImage(s,0,0,d.width,d.height);const c=d.toDataURL("image/jpeg",.5);this.selected_signature=c,console.log("Signature:",c),this.profileFormGroup.patchValue({signature:c})},s.src=o},r.readAsDataURL(n)}}onSelfPassbookSelected(t){const n=t.target.files&&t.target.files[0];if(n){const r=new FileReader;r.onload=()=>{const o=r.result,s=new Image;s.onload=()=>{const d=document.createElement("canvas");d.width=.7*s.width,d.height=.7*s.height,d.getContext("2d").drawImage(s,0,0,d.width,d.height);const c=d.toDataURL("image/jpeg",.5);this.selected_cheque=c,this.profileFormGroup.patchValue({passbook_cheque:c})},s.src=o},r.readAsDataURL(n)}}viewImage(t,n){console.log("Viewing image:",t),t?(this.viewImageURL=t,this.modalService.open(n,{size:"sm",centered:!0})):this.toast.error("No image available to view.")}onFileSelected(t,n){const r=t.target;if(r.files&&0!==r.files.length)return r.files[0].type.startsWith("image/")?void(r.files&&r.files.length>0&&this.openImageCropper({file:t,from:n})):(u().fire({title:"Invalid File Type",text:"Please select a valid image file.",icon:"error",confirmButtonText:"OK"}),void(r.value=""));this.toast.error("No file selected.")}openImageCropper(t){const n=this.modalService.open(qa.a,{centered:!0,size:"xl"});n.componentInstance.data=t,n.result.then(r=>{console.log("Modal closed with:",r),r&&r.image&&this.cropAndSetPhoto(r.image,r.from)}).catch(r=>{console.log("Modal dismissed:",r)})}cropAndSetPhoto(t,n="profile_image"){const r=new Image;r.onload=()=>{const o=document.createElement("canvas");o.width=.4*r.width,o.height=.4*r.height,o.getContext("2d").drawImage(r,0,0,o.width,o.height);const d=o.toDataURL("image/jpeg",.3);"profile_image"===n?(this.selected_photo=d,this.profileFormGroup.patchValue({profile_image:d})):"signature"===n?(this.selected_signature=d,this.profileFormGroup.patchValue({signature:d})):"passbook_cheque"===n?(this.selected_cheque=d,this.profileFormGroup.patchValue({passbook_cheque:d})):"disability_image"===n?this.profileFormGroup.patchValue({disability_image:d}):"aadhar_front"===n?this.profileFormGroup.patchValue({aadhar_front:d}):"aadhar_back"===n?this.profileFormGroup.patchValue({aadhar_back:d}):"pan_image"===n&&this.profileFormGroup.patchValue({pan_image:d}),console.log(`Selected ${n}:`)},r.src=t}changeImage(t){u().fire({title:"Change Image",text:"Are you sure you want to change this image?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, change it!",cancelButtonText:"Cancel"}).then(n=>{if(n.isConfirmed)switch(t){case"aadhar_front":this.aadharFrontInput.nativeElement.click();break;case"aadhar_back":this.aadharBackInput.nativeElement.click();break;case"pan_image":this.panImageInput.nativeElement.click();break;case"disability_image":this.disabilityImageInput.nativeElement.click()}})}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(S.i),e.\u0275\u0275directiveInject(I._W),e.\u0275\u0275directiveInject(Q.R),e.\u0275\u0275directiveInject(f.gz),e.\u0275\u0275directiveInject(f.F0),e.\u0275\u0275directiveInject(v.FF),e.\u0275\u0275directiveInject(Ga.$))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["app-edit-form"]],viewQuery:function(t,n){if(1&t&&(e.\u0275\u0275viewQuery(Pa,5),e.\u0275\u0275viewQuery(Ma,5),e.\u0275\u0275viewQuery(Ba,5),e.\u0275\u0275viewQuery(Oa,5)),2&t){let r;e.\u0275\u0275queryRefresh(r=e.\u0275\u0275loadQuery())&&(n.aadharFrontInput=r.first),e.\u0275\u0275queryRefresh(r=e.\u0275\u0275loadQuery())&&(n.aadharBackInput=r.first),e.\u0275\u0275queryRefresh(r=e.\u0275\u0275loadQuery())&&(n.panImageInput=r.first),e.\u0275\u0275queryRefresh(r=e.\u0275\u0275loadQuery())&&(n.disabilityImageInput=r.first)}},decls:310,vars:51,consts:[[1,"container-fluid"],["title","Edit Profile",3,"breadcrumbItems"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[3,"formGroup"],[1,"row","justify-content-center"],[1,"col-12"],["src","assets/images/logo-dark.png","alt","Logo",1,"img-fluid","mb-4",2,"width","100px"],["href","https://vertexsociety.com/"],[1,"line"],[1,"col-lg-12","mb-4","d-flex","justify-content-center","align-items-center","text-center"],[1,"flex-fill"],[1,"flex-fill","oval"],[1,"d-flex","align-items-end","mt-4"],[1,"col-lg-6","mb-1"],[1,"mb-2"],[1,"mb-0"],[1,"col-lg-6"],[1,"self-photo","d-flex","justify-content-center","align-items-center",2,"cursor","pointer","min-height","60px",3,"click"],["class","w-100 text-center",4,"ngIf"],["alt","",3,"src",4,"ngIf"],["type","file","accept","image/*",2,"display","none",3,"change"],["selfPhotoInput",""],["aadharFrontInput",""],["aadharBackInput",""],["panImageInput",""],["disabilityImageInput",""],[1,"col-lg-12","mt-4"],[1,"row","mb-4"],["for","name",1,"col-sm-3","col-form-label"],[1,"col-sm-2"],["type","text","id","name","formControlName","name","placeholder","Enter Your Name",1,"form-control",3,"input"],["class","text-danger small",4,"ngIf"],["for","guardian_name",1,"col-sm-3","col-form-label"],["type","text","id","guardian_name","formControlName","guardian_name","placeholder","Enter Guardian Name",1,"form-control",3,"input"],["for","guardian_relation",1,"col-sm-2","col-form-label"],[1,"col-sm-3"],["type","text","id","guardian_relation","formControlName","guardian_relation","placeholder","Enter Relationship",1,"form-control"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","mother_name",1,"col-sm-3","col-form-label"],["type","text","id","mother_name","formControlName","mother_name","placeholder","Enter Your Mother Name",1,"form-control",3,"input"],["for","date_of_birth",1,"col-sm-3","col-form-label"],["type","date","id","date_of_birth","formControlName","date_of_birth",1,"form-control",3,"change"],[1,"col-sm-3","col-form-label"],[1,"col-sm-9","d-flex","align-items-center"],[1,"form-check","me-3"],["type","radio","name","gender","formControlName","gender","id","genderMale","value","Male",1,"form-check-input"],["for","genderMale",1,"form-check-label"],["type","radio","name","gender","formControlName","gender","id","genderFemale","value","Female",1,"form-check-input"],["for","genderFemale",1,"form-check-label"],[1,"form-check"],["type","radio","name","gender","formControlName","gender","id","genderOther","value","Other",1,"form-check-input"],["for","genderOther",1,"form-check-label"],["type","radio","formControlName","maritial_status","name","maritial_status","id","statusSingle","value","Single",1,"form-check-input"],["for","statusSingle",1,"form-check-label"],["type","radio","formControlName","maritial_status","name","maritial_status","id","statusMarried","value","Married",1,"form-check-input"],["for","statusMarried",1,"form-check-label"],["class","row mb-4",4,"ngIf"],["for","aadhar",1,"col-sm-3","col-form-label"],["type","text","id","aadhar","formControlName","aadhar","placeholder","Enter Aadhar Number",1,"form-control"],["for","pan_image","class","col-sm-1 col-form-label",4,"ngIf"],["class","col-sm-2",4,"ngIf"],["class","col-sm-2 d-flex flex-column gap-1",4,"ngIf"],["for","pan",1,"col-sm-3","col-form-label"],["type","text","id","pan","formControlName","pan","placeholder","Enter PAN Number",1,"form-control",3,"input"],["for","mobile_number",1,"col-sm-3","col-form-label"],["for","mobile_number",1,"col-sm-1","col-form-label"],["type","text","id","mobile_number","formControlName","mobile_number","placeholder","Enter Mobile Number 1",1,"form-control"],["for","mobile_number_2",1,"col-sm-1","col-form-label"],["type","text","id","mobile_number_2","formControlName","mobile_number_2","placeholder","Enter Mobile Number 2",1,"form-control"],["for","state",1,"col-sm-3","col-form-label"],[1,"row","col-sm-9"],[1,"col-sm-3","mb-1"],["for",""],["formControlName","state","placeholder","Search for a state...","bindLabel","name","bindValue","_id",3,"items","change"],[1,"col-sm-4","mb-1"],["formControlName","district","placeholder","Search for a district...","bindLabel","name","bindValue","_id",3,"items","change"],["formControlName","area","placeholder","Search for areas...","bindLabel","name","bindValue","_id",1,"custom-ng-select",3,"items"],["for","present_addr",1,"col-sm-3","col-form-label"],[1,"col-sm-8"],["formArrayName","present_addresses"],["class","row mb-2",3,"formGroupName",4,"ngFor","ngForOf"],[1,"mt-1"],["type","button",1,"btn","btn-success","btn-sm",3,"click"],[1,"fa","fa-plus"],["for","permanent_addr",1,"col-sm-3","col-form-label"],["formArrayName","permanent_addresses"],["for","email_id",1,"col-sm-3","col-form-label"],["type","email","id","email_id","formControlName","email_id","placeholder","Enter Email ID",1,"form-control"],["for","whatsapp_no",1,"col-sm-2","col-form-label"],["type","text","id","whatsapp_no","formControlName","whatsapp_no","placeholder","Enter WhatsApp No.",1,"form-control"],["for","office_addr",1,"col-sm-3","col-form-label"],["formArrayName","office_addresses"],["for","bank_details",1,"col-sm-3","col-form-label"],["formArrayName","banks"],["class","row mb-2 align-items-end",3,"formGroupName",4,"ngFor","ngForOf"],[1,"col-sm-5","d-flex","align-items-center"],[1,"passbook_box",2,"cursor","pointer",3,"click"],[4,"ngIf"],["selfPassbookInput",""],[1,"row","mb-4","align-items-center"],["type","text","formControlName","nominee_name","placeholder","Enter Nominee Name",1,"form-control",3,"input"],[1,"col-sm-2","col-form-label"],["type","text","formControlName","nominee_relation","placeholder","Relationship",1,"form-control"],["type","date","formControlName","nominee_dob",1,"form-control",3,"change"],["class","text-muted",4,"ngIf"],["type","text","formControlName","nominee_mobile",1,"form-control"],[1,"form-check","form-check-inline","me-3"],["type","radio","formControlName","is_divyang","name","is_divyang","id","disabilityYes",1,"form-check-input",3,"value"],["for","disabilityYes",1,"form-check-label"],[1,"form-check","form-check-inline"],["type","radio","formControlName","is_divyang","name","is_divyang","id","disabilityNo",1,"form-check-input",3,"value"],["for","disabilityNo",1,"form-check-label"],["class","col-sm-2 col-form-label",4,"ngIf"],["class","col-sm-3 d-flex flex-column gap-1",4,"ngIf"],["type","radio","formControlName","occupation","id","occupationService","value","Service",1,"form-check-input"],["for","occupationService",1,"form-check-label"],["type","radio","formControlName","occupation","id","occupationBusiness","value","Business",1,"form-check-input"],["for","occupationBusiness",1,"form-check-label"],[1,"col-lg-12","mt-4","mb-5"],[1,"row","mb-4","mt-6"],["for","name",1,"col-sm-1","col-form-label"],["type","text","id","name","placeholder","Date of Joining","formControlName","created_date",1,"form-control"],[1,"col-sm-9","d-flex","justify-content-end","align-items-center"],["for","signature",1,"col-form-label","me-2"],[1,"sign_box",2,"cursor","pointer",3,"click"],["selfSignInput",""],["type","text","id","name","placeholder","Place","formControlName","signed_at",1,"form-control"],["class","alert alert-danger",4,"ngIf"],[1,"d-flex","justify-content-center"],["class","btn btn-danger ms-2",3,"click",4,"ngIf"],[1,"btn","btn-primary","ms-2",3,"click"],["role","document"],["viewImageModal",""],[1,"w-100","text-center"],["alt","",3,"src"],[1,"text-danger","small"],[3,"value"],["for","spouse_name",1,"col-sm-3","col-form-label"],["type","text","id","spouse_name","formControlName","spouse_name","placeholder","Enter Spouse Name",1,"form-control",3,"input"],["for","pan_image",1,"col-sm-1","col-form-label"],["type","file","id","aadhar_front","placeholder","Aadhar Front","accept","image/*",1,"form-control",3,"change"],[1,"col-sm-2","d-flex","flex-column","gap-1"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"mdi","mdi-eye"],[1,"btn","btn-sm","btn-warning",3,"click"],[1,"mdi","mdi-pencil"],["type","file","id","aadhar_back","placeholder","Aadhar Back","accept","image/*",1,"form-control",3,"change"],["type","file","id","pan_image","placeholder","PAN Image","accept","image/*",1,"form-control",3,"change"],[1,"row","mb-2",3,"formGroupName"],[1,"col-sm-12","mb-2"],["type","text","formControlName","address","placeholder","Enter Present Address",1,"form-control",3,"id","input"],[1,"col-sm-4"],["type","text","formControlName","state","placeholder","State",1,"form-control",3,"id","input"],["type","text","formControlName","district","placeholder","District",1,"form-control",3,"id"],["type","text","formControlName","pincode","placeholder","Pincode",1,"form-control",3,"id","input"],[1,"col-sm-1","d-flex","align-items-center"],["type","checkbox","disabled","",1,"form-check-input",3,"formControlName"],[1,"col-sm-1","d-flex","align-items-center","mt-4"],["type","button","class","btn btn-danger btn-sm",3,"click",4,"ngIf"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[1,"fa","fa-trash"],["type","text","formControlName","address","placeholder","Enter Permanent Address",1,"form-control",3,"id","input"],["type","text","formControlName","district","placeholder","District",1,"form-control",3,"id","input"],["type","text","formControlName","address","placeholder","Enter Office Address",1,"form-control",3,"id","input"],[1,"row","mb-2","align-items-end",3,"formGroupName"],[1,"col-sm-3","mb-2"],["type","text","formControlName","bank_name","placeholder","Bank Name",1,"form-control",3,"input"],["type","text","formControlName","account_number","placeholder","Account Number",1,"form-control",3,"input"],[1,"col-sm-2","mb-2"],["type","text","formControlName","ifsc_code","placeholder","IFSC Code",1,"form-control",3,"input"],["type","text","formControlName","branch_name","placeholder","Branch Name",1,"form-control",3,"input"],[1,"col-sm-1","mb-3","d-flex","align-items-center"],[1,"text-muted"],["type","file","accept","image/*","id","disability_image",1,"form-control",3,"change"],[1,"col-sm-3","d-flex","flex-column","gap-1"],[1,"alert","alert-danger"],[1,"btn","btn-danger","ms-2",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[1,"text-center"],["alt","KYC Image",1,"img-fluid",2,"max-width","100%","max-height","400px",3,"src"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary","waves-effect",3,"click"]],template:function(t,n){if(1&t){const r=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-page-title",1),e.\u0275\u0275elementStart(2,"div",2)(3,"div",3)(4,"div",4)(5,"form",5)(6,"div",6)(7,"div",7),e.\u0275\u0275element(8,"img",8),e.\u0275\u0275elementStart(9,"p"),e.\u0275\u0275text(10,"VERTEX KALYAN COOPERTIVE URBAN THRIFT & CREDIT SOCIETY LTD. REGISTERED UNDER GOVERMENT OF INDIA, REGD. NO.- REGD.OFFICE- PLOT NO.-53, 3RD, FLOOR, MAIN ROAD, OPP. MOTHER DAIRY, PANDAV NAGAR, EAST DELHI- 110092, "),e.\u0275\u0275elementStart(11,"a",9),e.\u0275\u0275text(12,"WWW.VERTEXSOCIETY.COM"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(13,"hr",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"div",11)(15,"div",12)(16,"strong"),e.\u0275\u0275text(17,"USER ID:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(18),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"div",13),e.\u0275\u0275text(20,"Membership Details"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"div",12)(22,"strong"),e.\u0275\u0275text(23,"ACCOUNT NO:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(24),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(25,"div",14)(26,"div",15)(27,"p",16),e.\u0275\u0275text(28,"To,"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"p",17),e.\u0275\u0275text(30,"The Secretary/President,"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(31,"p",17),e.\u0275\u0275text(32,"VERTEX KALYAN COOPERTIVE URBAN THRIFT & CREDIT SOCIETY LTD."),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(33,"div",18)(34,"div",19),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(r);const s=e.\u0275\u0275reference(38);return e.\u0275\u0275resetView(s.click())}),e.\u0275\u0275template(35,za,2,0,"span",20),e.\u0275\u0275template(36,$a,1,1,"img",21),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(37,"input",22,23),e.\u0275\u0275listener("change",function(s){return n.onFileSelected(s,"profile_image")}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(39,"input",22,24),e.\u0275\u0275listener("change",function(s){return n.onFileSelected(s,"aadhar_front")}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(41,"input",22,25),e.\u0275\u0275listener("change",function(s){return n.onFileSelected(s,"aadhar_back")}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(43,"input",22,26),e.\u0275\u0275listener("change",function(s){return n.onFileSelected(s,"pan_image")}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(45,"input",22,27),e.\u0275\u0275listener("change",function(s){return n.onFileSelected(s,"disability_image")}),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(47,"div",2)(48,"p",17),e.\u0275\u0275text(49,"Dear Sir/Madam,"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(50,"p"),e.\u0275\u0275text(51,"\xa0\xa0\xa0\xa0 I willingly apply for admission as a member of your society. I understand all the Rules & regulation of the Society and I follow all Rules & regulation of society. Do hereby declare that all documents and information given by me below is True to the best of my knowledge and belief. I understand that any false information or violation of the cooperative rules may result in cancellation of my membership."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(52,"p",17),e.\u0275\u0275text(53,' \u092e" \u0906\u092a\u0915& \u0938\u094b\u0938\u093e\u092f\u091f, \u0915\u0947 \u0938\u0926/\u092f \u0915\u0947 0\u092a \u092e1 2\u0935\u0947\u0936 \u0915\u0947 5\u0932\u090f /\u0935\u09478\u091b\u093e \u0938\u0947 \u0906\u0935\u0947\u0926\u0928 \u0915\u0930\u0924\u093e \u0939\u0942\u0901\u0964 \u092e" \u0938\u094b\u0938\u093e\u092f\u091f, \u0915\u0947 \u0938\u092d\u0940 C\u0928\u092f\u092eD \u0914\u0930 F\u0935C\u0928\u092f\u092eD \u0915\u094b \u0938\u092e\u091d\u0924\u093e \u0939\u0942\u0901 \u0914\u0930 \u0938\u094b\u0938\u093e\u092f\u091f, \u0915\u0947 \u0938\u092d\u0940 C\u0928\u092f\u092eD \u0914\u0930 F\u0935C\u0928\u092f\u092eD \u0915\u093e \u092a\u093e\u0932\u0928 \u0915\u0930\u0924\u093e \u0939\u0942\u0901\u0964 \u092e" \u090f\u0924HH\u0935\u093e\u0930\u093e \u0918\u094b\u0937\u0923\u093e \u0915\u0930\u0924\u093e \u0939\u0942\u0901 L\u0915 \u092e\u0947\u0930\u0947 H\u0935\u093e\u0930\u093e \u0928\u0940\u091a\u0947 N\u0926\u090f \u0917\u090f \u0938\u092d\u0940 \u0926/\u0924\u093e\u0935\u0947\u091c\u093c \u0914\u0930 \u091c\u093e\u0928\u0915\u093e\u0930, \u092e\u0947\u0930\u0947 \u0938\u0935RS\u092e T\u093e\u0928 \u0914\u0930 F\u0935U\u0935\u093e\u0938 \u0915\u0947 \u0905\u0928\u0941\u0938\u093e\u0930 \u0938X\u092f \u0939"\u0964 \u092e" \u0938\u092e\u091d\u0924\u093e \u0939\u0942\u0901 L\u0915 L\u0915\u0938\u0940 \u092d\u0940 \u0917\u0932\u0924 \u091c\u093e\u0928\u0915\u093e\u0930, \u092f\u093e \u0938\u0939\u0915\u093e\u0930, C\u0928\u092f\u092eD \u0915\u0947 \u0909Z\u0932\u0902\u0918\u0928 \u0915\u0947 \u092a\\\u0930\u0923\u093e\u092e/\u09350\u092a \u092e\u0947\u0930, \u0938\u0926/\u092f\u0924\u093e \u0930H\u0926 \u0939\u094b \u0938\u0915\u0924\u0940 \u0939\u0948\u0964 '),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(54,"div",28)(55,"div",29)(56,"label",30),e.\u0275\u0275text(57,"Name of Applicant, Mr./Mrs./Miss "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(58,"div",31)(59,"input",32),e.\u0275\u0275listener("input",function(s){let d;return null==(d=n.profileFormGroup.get("name"))?null:d.setValue(s.target.value.toUpperCase())}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(60,La,2,0,"div",33),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(61,"div",29)(62,"label",34),e.\u0275\u0275text(63,"Guardian Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(64,"div",31)(65,"input",35),e.\u0275\u0275listener("input",function(s){let d;return null==(d=n.profileFormGroup.get("guardian_name"))?null:d.setValue(s.target.value.toUpperCase())}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(66,Ua,2,0,"div",33),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(67,"label",36),e.\u0275\u0275text(68,"Relationship"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(69,"div",37)(70,"select",38)(71,"option",39),e.\u0275\u0275text(72,"Select Relationship"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(73,ja,2,2,"option",40),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(74,Ya,2,0,"div",33),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(75,"div",29)(76,"label",41),e.\u0275\u0275text(77,"Mother Name "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(78,"div",31)(79,"input",42),e.\u0275\u0275listener("input",function(s){let d;return null==(d=n.profileFormGroup.get("mother_name"))?null:d.setValue(s.target.value.toUpperCase())}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(80,Ka,2,0,"div",33),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(81,"div",29)(82,"label",43),e.\u0275\u0275text(83,"Date of birth "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(84,"div",31)(85,"input",44),e.\u0275\u0275listener("change",function(s){return n.onDOBChange(s)}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(86,"label",43),e.\u0275\u0275text(87),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(88,"div",29)(89,"label",45),e.\u0275\u0275text(90,"Gender"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(91,"div",46)(92,"div",47),e.\u0275\u0275element(93,"input",48),e.\u0275\u0275elementStart(94,"label",49),e.\u0275\u0275text(95," Male "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(96,"div",47),e.\u0275\u0275element(97,"input",50),e.\u0275\u0275elementStart(98,"label",51),e.\u0275\u0275text(99," Female "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(100,"div",52),e.\u0275\u0275element(101,"input",53),e.\u0275\u0275elementStart(102,"label",54),e.\u0275\u0275text(103," Other "),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(104,"div",29)(105,"label",45),e.\u0275\u0275text(106,"Marital Status"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(107,"div",46)(108,"div",47),e.\u0275\u0275element(109,"input",55),e.\u0275\u0275elementStart(110,"label",56),e.\u0275\u0275text(111," Single "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(112,"div",52),e.\u0275\u0275element(113,"input",57),e.\u0275\u0275elementStart(114,"label",58),e.\u0275\u0275text(115," Married "),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275template(116,Ha,6,1,"div",59),e.\u0275\u0275elementStart(117,"div",29)(118,"label",60),e.\u0275\u0275text(119,"Aadhar Number"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(120,"div",31),e.\u0275\u0275element(121,"input",61),e.\u0275\u0275template(122,Ja,2,0,"div",33),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(123,Qa,2,0,"label",62),e.\u0275\u0275template(124,Za,2,0,"div",63),e.\u0275\u0275template(125,Xa,7,0,"div",64),e.\u0275\u0275template(126,eo,7,0,"div",64),e.\u0275\u0275template(127,to,2,0,"label",62),e.\u0275\u0275template(128,no,2,0,"div",63),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(129,"div",29)(130,"label",65),e.\u0275\u0275text(131,"PAN Number"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(132,"div",31)(133,"input",66),e.\u0275\u0275listener("input",function(s){let d;return null==(d=n.profileFormGroup.get("pan"))?null:d.setValue(s.target.value.toUpperCase())}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(134,io,2,0,"div",33),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(135,ro,2,0,"label",62),e.\u0275\u0275template(136,lo,2,0,"div",63),e.\u0275\u0275template(137,ao,7,0,"div",64),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(138,"div",29)(139,"label",67),e.\u0275\u0275text(140,"Mobile Number"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(141,"label",68),e.\u0275\u0275text(142,"Mobile 1"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(143,"div",37),e.\u0275\u0275element(144,"input",69),e.\u0275\u0275template(145,oo,2,0,"div",33),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(146,"label",70),e.\u0275\u0275text(147,"Mobile 2"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(148,"div",37),e.\u0275\u0275element(149,"input",71),e.\u0275\u0275template(150,so,2,0,"div",33),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(151,"div",29)(152,"label",72),e.\u0275\u0275text(153,"Location Details"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(154,"div",73)(155,"div",74)(156,"label",75),e.\u0275\u0275text(157,"State"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(158,"ng-select",76),e.\u0275\u0275listener("change",function(s){return n.getDistricts(s)}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(159,"div",77)(160,"label",75),e.\u0275\u0275text(161,"District"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(162,"ng-select",78),e.\u0275\u0275listener("change",function(s){return n.getAreas(s)}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(163,"div",77)(164,"label",75),e.\u0275\u0275text(165,"Area"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(166,"ng-select",79),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(167,"div",29)(168,"label",80),e.\u0275\u0275text(169,"Present/Correspondance Address"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(170,"div",81)(171,"div",82),e.\u0275\u0275template(172,go,26,11,"div",83),e.\u0275\u0275elementStart(173,"div",84)(174,"button",85),e.\u0275\u0275listener("click",function(){return n.addPresentAddress()}),e.\u0275\u0275element(175,"i",86),e.\u0275\u0275text(176," Add Address "),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(177,"div",29)(178,"label",87),e.\u0275\u0275text(179,"Permanent Address"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(180,"div",81)(181,"div",88),e.\u0275\u0275template(182,bo,26,11,"div",83),e.\u0275\u0275elementStart(183,"div",84)(184,"button",85),e.\u0275\u0275listener("click",function(){return n.addPermanentAddress()}),e.\u0275\u0275element(185,"i",86),e.\u0275\u0275text(186," Add Address "),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(187,"div",29)(188,"label",89),e.\u0275\u0275text(189,"Email ID"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(190,"div",37),e.\u0275\u0275element(191,"input",90),e.\u0275\u0275template(192,Co,2,0,"div",33),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(193,"label",91),e.\u0275\u0275text(194,"WhatsApp No."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(195,"div",37),e.\u0275\u0275element(196,"input",92),e.\u0275\u0275template(197,yo,2,0,"div",33),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(198,"p"),e.\u0275\u0275text(199,"Name & Address of the employed or business address"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(200,"div",29)(201,"label",93),e.\u0275\u0275text(202,"Office Address"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(203,"div",81)(204,"div",94),e.\u0275\u0275template(205,ko,23,10,"div",83),e.\u0275\u0275elementStart(206,"div",84)(207,"button",85),e.\u0275\u0275listener("click",function(){return n.addOfficeAddress()}),e.\u0275\u0275element(208,"i",86),e.\u0275\u0275text(209," Add Address "),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(210,"div",29)(211,"label",95),e.\u0275\u0275text(212,"Bank Details"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(213,"div",81)(214,"div",96),e.\u0275\u0275template(215,Ro,24,5,"div",97),e.\u0275\u0275elementStart(216,"div",84)(217,"button",85),e.\u0275\u0275listener("click",function(){return n.addBank()}),e.\u0275\u0275element(218,"i",86),e.\u0275\u0275text(219," Add Bank "),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(220,"div",29)(221,"label",45),e.\u0275\u0275text(222,"Passbook/Cheque"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(223,"div",98)(224,"div",99),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(r);const s=e.\u0275\u0275reference(228);return e.\u0275\u0275resetView(s.click())}),e.\u0275\u0275template(225,Vo,2,0,"span",100),e.\u0275\u0275template(226,qo,1,1,"img",21),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(227,"input",22,101),e.\u0275\u0275listener("change",function(s){return n.onFileSelected(s,"passbook_cheque")}),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(229,"div",102)(230,"label",45),e.\u0275\u0275text(231,"Name of the Nominee"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(232,"div",31)(233,"input",103),e.\u0275\u0275listener("input",function(s){let d;return null==(d=n.profileFormGroup.get("nominee_name"))?null:d.setValue(s.target.value.toUpperCase())}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(234,Go,2,0,"div",33),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(235,"label",104),e.\u0275\u0275text(236,"Relationship"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(237,"div",31)(238,"select",105),e.\u0275\u0275template(239,Po,2,2,"option",40),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(240,"div",102)(241,"label",45),e.\u0275\u0275text(242,"Nominee DOB"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(243,"div",31)(244,"input",106),e.\u0275\u0275listener("change",function(s){return n.onNomineeDOBChange(s)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(245,Mo,2,1,"small",107),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(246,"label",104),e.\u0275\u0275text(247,"Nominee Mobile"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(248,"div",31),e.\u0275\u0275element(249,"input",108),e.\u0275\u0275template(250,Bo,2,0,"div",33),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(251,"div",102)(252,"label",45),e.\u0275\u0275text(253,"Are you disabled?"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(254,"div",31)(255,"div",109),e.\u0275\u0275element(256,"input",110),e.\u0275\u0275elementStart(257,"label",111),e.\u0275\u0275text(258,"Yes"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(259,"div",112),e.\u0275\u0275element(260,"input",113),e.\u0275\u0275elementStart(261,"label",114),e.\u0275\u0275text(262,"No"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(263,Oo,2,0,"label",115),e.\u0275\u0275template(264,zo,2,0,"div",63),e.\u0275\u0275template(265,$o,7,0,"div",116),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(266,"div",29)(267,"label",45),e.\u0275\u0275text(268,"Occupation"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(269,"div",46)(270,"div",47),e.\u0275\u0275element(271,"input",117),e.\u0275\u0275elementStart(272,"label",118),e.\u0275\u0275text(273," Service "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(274,"div",52),e.\u0275\u0275element(275,"input",119),e.\u0275\u0275elementStart(276,"label",120),e.\u0275\u0275text(277," Business "),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(278,"p",17),e.\u0275\u0275text(279," NOTE :- I apply for admission as a member of your society. I understand the Rules & By-laws of the Society and hereby agree to abide by them and any subsequent modifications thereto. I also hereby declare that I am neither a member of any other Co- operative Thrift & Credit Society operating or working in the State of Delhi nor taken any kind of Loan which is outstanding as on date. I request that the Managing Committee may please allot me ____ Shares of Rs. 500/- each and I also agree to deposit Rs. 200/- per month on account of Compulsory Deposit as well as Admission Fee of Rs. 100/- and other sums towards Building Fund, Welfare Fund, Miscellaneous Receipts etc. as applicable on the date of my admission as Member. I hereby nominate the following person to whom all money due to me by the society or payable by me to the society, in the event of my death, maybe paid or recovered as the case may be. "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(280,"div",121)(281,"p",17),e.\u0275\u0275text(282,"I request that the mamaging committee may please allot me one share of rs.-500/-, and i also other sums towards building fund, kalyan fund, misc. ect., as applicable on the date of my admission as member. i hereby nominate the following person to whom all money due to me by the society or payable by me to the society,in the event of my death, may be paid or recovered, as the case may be."),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(283,"div",122)(284,"label",123),e.\u0275\u0275text(285,"Date of Joining "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(286,"div",31),e.\u0275\u0275element(287,"input",124),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(288,"div",125)(289,"label",126),e.\u0275\u0275text(290,"Signature"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(291,"br"),e.\u0275\u0275elementStart(292,"div",18)(293,"div",127),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(r);const s=e.\u0275\u0275reference(297);return e.\u0275\u0275resetView(s.click())}),e.\u0275\u0275template(294,Lo,2,0,"span",100),e.\u0275\u0275template(295,Uo,1,1,"img",21),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(296,"input",22,128),e.\u0275\u0275listener("change",function(s){return n.onFileSelected(s,"signature")}),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(298,"div",29)(299,"label",123),e.\u0275\u0275text(300,"Place "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(301,"div",31),e.\u0275\u0275element(302,"input",129),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(303,jo,2,0,"div",130),e.\u0275\u0275elementStart(304,"div",131),e.\u0275\u0275template(305,Yo,2,0,"button",132),e.\u0275\u0275elementStart(306,"button",133),e.\u0275\u0275listener("click",function(){return n.formSubmit()}),e.\u0275\u0275text(307),e.\u0275\u0275elementEnd()()()()()()()(),e.\u0275\u0275template(308,Ko,8,1,"ng-template",134,135,e.\u0275\u0275templateRefExtractor)}if(2&t){let r,o,s,d,m,c,_,E,q,G,P,M,C,B,O,z,w,D,F,k,A,T,N,R,ie;e.\u0275\u0275advance(1),e.\u0275\u0275property("breadcrumbItems",n.breadCrumbItems),e.\u0275\u0275advance(4),e.\u0275\u0275property("formGroup",n.profileFormGroup),e.\u0275\u0275advance(13),e.\u0275\u0275textInterpolate1(" ",null==n.user_details?null:n.user_details.user_id,""),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1(" ",null==n.user_details?null:n.user_details.account_number,""),e.\u0275\u0275advance(11),e.\u0275\u0275property("ngIf",!n.selected_photo),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.selected_photo),e.\u0275\u0275advance(24),e.\u0275\u0275property("ngIf",(null==(r=n.profileFormGroup.get("name"))?null:r.invalid)&&(null==(r=n.profileFormGroup.get("name"))?null:r.touched)),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",(null==(o=n.profileFormGroup.get("guardian_name"))?null:o.invalid)&&(null==(o=n.profileFormGroup.get("guardian_name"))?null:o.touched)),e.\u0275\u0275advance(7),e.\u0275\u0275property("ngForOf",n.nominee_relation),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==(s=n.profileFormGroup.get("guardian_relation"))?null:s.invalid)&&(null==(s=n.profileFormGroup.get("guardian_relation"))?null:s.touched)),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",(null==(d=n.profileFormGroup.get("mother_name"))?null:d.invalid)&&(null==(d=n.profileFormGroup.get("mother_name"))?null:d.touched)),e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate1("(Age: ",n.userAge," years)"),e.\u0275\u0275advance(29),e.\u0275\u0275property("ngIf","Married"===(null==(m=n.profileFormGroup.get("maritial_status"))?null:m.value)),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",(null==(c=n.profileFormGroup.get("aadhar"))?null:c.invalid)&&(null==(c=n.profileFormGroup.get("aadhar"))?null:c.touched)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!(null!=(_=n.profileFormGroup.get("aadhar_front"))&&_.value)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!(null!=(E=n.profileFormGroup.get("aadhar_front"))&&E.value)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(q=n.profileFormGroup.get("aadhar_front"))?null:q.value),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(G=n.profileFormGroup.get("aadhar_back"))?null:G.value),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!(null!=(P=n.profileFormGroup.get("aadhar_back"))&&P.value)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!(null!=(M=n.profileFormGroup.get("aadhar_back"))&&M.value)),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",(null==(C=n.profileFormGroup.get("pan"))?null:C.invalid)&&(null==(C=n.profileFormGroup.get("pan"))?null:C.touched)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!(null!=(B=n.profileFormGroup.get("pan_image"))&&B.value)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!(null!=(O=n.profileFormGroup.get("pan_image"))&&O.value)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(z=n.profileFormGroup.get("pan_image"))?null:z.value),e.\u0275\u0275advance(8),e.\u0275\u0275property("ngIf",(null==(w=n.profileFormGroup.get("mobile_number"))?null:w.invalid)&&(null==(w=n.profileFormGroup.get("mobile_number"))?null:w.touched)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(D=n.profileFormGroup.get("mobile_number_2"))?null:D.invalid)&&(null==(D=n.profileFormGroup.get("mobile_number_2"))?null:D.touched)),e.\u0275\u0275advance(8),e.\u0275\u0275property("items",n.allStates),e.\u0275\u0275advance(4),e.\u0275\u0275property("items",n.allDistricts),e.\u0275\u0275advance(4),e.\u0275\u0275property("items",n.allAreas),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngForOf",n.profileFormGroup.get("present_addresses").controls),e.\u0275\u0275advance(10),e.\u0275\u0275property("ngForOf",n.profileFormGroup.get("permanent_addresses").controls),e.\u0275\u0275advance(10),e.\u0275\u0275property("ngIf",(null==(F=n.profileFormGroup.get("email_id"))?null:F.invalid)&&(null==(F=n.profileFormGroup.get("email_id"))?null:F.touched)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(k=n.profileFormGroup.get("whatsapp_no"))?null:k.invalid)&&(null==(k=n.profileFormGroup.get("whatsapp_no"))?null:k.touched)),e.\u0275\u0275advance(8),e.\u0275\u0275property("ngForOf",n.profileFormGroup.get("office_addresses").controls),e.\u0275\u0275advance(10),e.\u0275\u0275property("ngForOf",n.profileFormGroup.get("banks").controls),e.\u0275\u0275advance(10),e.\u0275\u0275property("ngIf",!n.selected_cheque),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.selected_cheque),e.\u0275\u0275advance(8),e.\u0275\u0275property("ngIf",(null==(A=n.profileFormGroup.get("nominee_name"))?null:A.invalid)&&(null==(A=n.profileFormGroup.get("nominee_name"))?null:A.touched)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngForOf",n.nominee_relation),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",null!==n.nomineeAge),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",(null==(T=n.profileFormGroup.get("nominee_mobile"))?null:T.invalid)&&(null==(T=n.profileFormGroup.get("nominee_mobile"))?null:T.touched)),e.\u0275\u0275advance(6),e.\u0275\u0275property("value",!0),e.\u0275\u0275advance(4),e.\u0275\u0275property("value",!1),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!0===(null==(N=n.profileFormGroup.get("is_divyang"))?null:N.value)&&!(null!=(N=n.profileFormGroup.get("disability_image"))&&N.value)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!0===(null==(R=n.profileFormGroup.get("is_divyang"))?null:R.value)&&!(null!=(R=n.profileFormGroup.get("disability_image"))&&R.value)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(ie=n.profileFormGroup.get("disability_image"))?null:ie.value),e.\u0275\u0275advance(29),e.\u0275\u0275property("ngIf",!n.selected_signature),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.selected_signature),e.\u0275\u0275advance(8),e.\u0275\u0275property("ngIf",n.profileFormGroup.invalid&&n.profileFormGroup.touched),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!n.isAccountApproved),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.isAccountApproved?"Edit Profile":"Save Draft")}},dependencies:[p.NgForOf,p.NgIf,x.V,Z.w9,l._Y,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l._,l.JJ,l.JL,l.sg,l.u,l.x0,l.CE],styles:[".line[_ngcontent-%COMP%]{width:100%;height:1px;background-color:#000;margin:10px 0}.self-photo[_ngcontent-%COMP%]{width:130px;height:170px;background-color:#f0f0f0;display:flex;justify-content:center;align-items:center;border-radius:5px;border:#000000 solid 1px}.self-photo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;-o-object-fit:cover;object-fit:cover;border-radius:5px}.sign_box[_ngcontent-%COMP%]{width:180px;height:50px;background-color:#f0f0f0;display:flex;justify-content:center;align-items:center;border-radius:5px;border:#000000 solid 1px}.sign_box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;-o-object-fit:cover;object-fit:cover;border-radius:5px}.passbook_box[_ngcontent-%COMP%]{width:100%;height:120px;background-color:#f0f0f0;display:flex;justify-content:center;align-items:center;border-radius:5px;border:#000000 solid 1px}.passbook_box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;-o-object-fit:cover;object-fit:cover;border-radius:5px}.oval[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;border-radius:50%;border:#000000 solid 1px;box-shadow:0 4px 8px #00000026;width:50px;height:50px;font-size:20px;font-weight:700}@media (max-width: 50px),(max-height: 50px){.oval[_ngcontent-%COMP%]{font-size:16px;font-weight:600}}@media (max-width: 40px),(max-height: 40px){.oval[_ngcontent-%COMP%]{font-size:12px;font-weight:500}}.active-border[_ngcontent-%COMP%]{border:#34c38f solid 2px}"]}),i})();var Ho=g(5133);function Jo(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"ul",15)(1,"li",16)(2,"a",17),e.\u0275\u0275element(3,"i",18),e.\u0275\u0275elementEnd()()()),2&i){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("routerLink",t.action_url)}}function Qo(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"tr")(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"td"),e.\u0275\u0275text(6),e.\u0275\u0275element(7,"br"),e.\u0275\u0275text(8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"td")(10,"span"),e.\u0275\u0275text(11),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"td"),e.\u0275\u0275text(13),e.\u0275\u0275pipe(14,"date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"td"),e.\u0275\u0275template(16,Jo,4,1,"ul",14),e.\u0275\u0275elementEnd()()),2&i){const t=a.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.title),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.message),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",t.user?t.user.name:"N/A"," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.user.user_id," "),e.\u0275\u0275advance(2),e.\u0275\u0275classMapInterpolate1("badge badge-soft-",t.is_read?"success":"danger",""),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.is_read?"Read":"Unread"," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind2(14,10,t.createdAt,"short")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf","Deleted"!==t.status)}}function Xo(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"option",24),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"titlecase"),e.\u0275\u0275elementEnd()),2&i){const t=a.$implicit;e.\u0275\u0275property("ngValue",t),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,2,t))}}function es(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",25)(1,"div",26)(2,"span",27),e.\u0275\u0275text(3,"Loading..."),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"h5",28),e.\u0275\u0275text(5,"Loading account closure requests..."),e.\u0275\u0275elementEnd()())}function ts(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"small",28),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.email_id)}}const ns=function(i,a,t){return{"bg-success":i,"bg-warning":a,"bg-secondary":t}};function is(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr")(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td")(4,"div",33)(5,"div",34),e.\u0275\u0275element(6,"img",35),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div")(8,"h6",36),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"small",28),e.\u0275\u0275text(11),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(12,"br"),e.\u0275\u0275template(13,ts,2,1,"small",37),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(14,"td")(15,"div")(16,"strong"),e.\u0275\u0275text(17),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(18,"br"),e.\u0275\u0275elementStart(19,"small",28),e.\u0275\u0275text(20),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(21,"br"),e.\u0275\u0275elementStart(22,"small",28),e.\u0275\u0275text(23),e.\u0275\u0275pipe(24,"date"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(25,"td")(26,"div")(27,"strong"),e.\u0275\u0275text(28),e.\u0275\u0275pipe(29,"date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(30,"br"),e.\u0275\u0275elementStart(31,"small",28),e.\u0275\u0275text(32),e.\u0275\u0275pipe(33,"date"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(34,"td")(35,"span",38),e.\u0275\u0275text(36),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(37,"td")(38,"div",39)(39,"button",40),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit,s=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(s.viewUserProfile(o._id))}),e.\u0275\u0275element(40,"i",41),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(41,"button",42),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit,s=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(s.viewAccountSummary(o._id))}),e.\u0275\u0275element(42,"i",43),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(43,"button",44),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit,s=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(s.approveClosureRequest(o))}),e.\u0275\u0275element(44,"i",45),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(45,"button",46),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit,s=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(s.rejectClosureRequest(o))}),e.\u0275\u0275element(46,"i",47),e.\u0275\u0275elementEnd()()()()}if(2&i){const t=a.$implicit,n=a.index,r=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate((r.page-1)*r.pageSize+n+1),e.\u0275\u0275advance(4),e.\u0275\u0275property("src",t.profile_image||"assets/images/users/user_placeholder.png",e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.name),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("User ID: ",t.user_id,""),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.email_id),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(t.account_number||"N/A"),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("Mobile: ",t.mobile_number||"N/A",""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("Joined: ",e.\u0275\u0275pipeBind2(24,12,t.created_date,"shortDate"),""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind2(29,15,t.account_closure_requested_date,"mediumDate")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind2(33,18,t.account_closure_requested_date,"shortTime")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction3(21,ns,"Active"===t.status,"Inactive"===t.status,"Active"!==t.status&&"Inactive"!==t.status)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.status||"Unknown"," ")}}function rs(i,a){1&i&&(e.\u0275\u0275elementStart(0,"tr")(1,"td",48)(2,"div",28),e.\u0275\u0275element(3,"i",49),e.\u0275\u0275elementStart(4,"h5"),e.\u0275\u0275text(5,"No Account Closure Requests Found"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"p"),e.\u0275\u0275text(7,"There are currently no pending account closure requests."),e.\u0275\u0275elementEnd()()()())}function ls(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",29)(1,"table",30)(2,"thead")(3,"tr")(4,"th"),e.\u0275\u0275text(5,"Sr No"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"th"),e.\u0275\u0275text(7,"User Details"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"th"),e.\u0275\u0275text(9,"Account Info"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"th"),e.\u0275\u0275text(11,"Request Date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"th"),e.\u0275\u0275text(13,"Status"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"th"),e.\u0275\u0275text(15,"Actions"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(16,"tbody"),e.\u0275\u0275template(17,is,47,25,"tr",31),e.\u0275\u0275template(18,rs,8,0,"tr",32),e.\u0275\u0275elementEnd()()()),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(17),e.\u0275\u0275property("ngForOf",t.closureRequests),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0===t.closureRequests.length)}}function as(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",2)(1,"div",50)(2,"div",51),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",52)(5,"div",53)(6,"ngb-pagination",54),e.\u0275\u0275listener("pageChange",function(r){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.page=r)})("pageChange",function(r){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.pageChange(r))}),e.\u0275\u0275elementEnd()()()()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate3(" Showing ",(t.page-1)*t.pageSize+1," to ",t.Math.min(t.page*t.pageSize,t.total)," of ",t.total," entries "),e.\u0275\u0275advance(3),e.\u0275\u0275property("collectionSize",t.total)("page",t.page)("pageSize",t.pageSize)}}function ss(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",14)(1,"div",15)(2,"span",16),e.\u0275\u0275text(3,"Loading..."),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"h5",17),e.\u0275\u0275text(5,"Loading account summary..."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"p",18),e.\u0275\u0275text(7,"Please wait while we fetch the financial data"),e.\u0275\u0275elementEnd()())}function ds(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",19)(1,"div",6),e.\u0275\u0275element(2,"i",20),e.\u0275\u0275elementStart(3,"div")(4,"h6",21),e.\u0275\u0275text(5,"Unable to Load Account Summary"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"p",22),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd()()()()),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate(t.error)}}function ms(i,a){1&i&&e.\u0275\u0275element(0,"i",62)}function cs(i,a){1&i&&e.\u0275\u0275element(0,"i",63)}function ps(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",64)(1,"div",6)(2,"div",27)(3,"div",28),e.\u0275\u0275element(4,"i",65),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"div")(6,"h6",21),e.\u0275\u0275text(7,"Credit Card"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"small",17),e.\u0275\u0275text(9,"Outstanding Balance"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(10,"div",53)(11,"h6",66),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"number"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"small",17),e.\u0275\u0275text(15),e.\u0275\u0275pipe(16,"number"),e.\u0275\u0275elementEnd()()()),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(12),e.\u0275\u0275textInterpolate1("\u20b9",e.\u0275\u0275pipeBind2(13,2,t.accountSummary.liabilities.creditCard.outstanding,"1.2-2"),""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("of \u20b9",e.\u0275\u0275pipeBind2(16,5,t.accountSummary.liabilities.creditCard.limit,"1.2-2"),"")}}function us(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",67)(1,"div",6)(2,"div",27)(3,"div",28),e.\u0275\u0275element(4,"i",68),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"div")(6,"h6",21),e.\u0275\u0275text(7,"Loans"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"small",17),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(10,"div",53)(11,"h6",66),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"number"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"small",17),e.\u0275\u0275text(15,"Outstanding"),e.\u0275\u0275elementEnd()()()),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(9),e.\u0275\u0275textInterpolate2("",t.accountSummary.liabilities.loans.loanDetails.length," active loan",t.accountSummary.liabilities.loans.loanDetails.length>1?"s":"",""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("\u20b9",e.\u0275\u0275pipeBind2(13,3,t.accountSummary.liabilities.loans.totalOutstanding,"1.2-2"),"")}}function _s(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",64)(1,"div",6)(2,"div",27)(3,"div",28),e.\u0275\u0275element(4,"i",69),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"div")(6,"h6",21),e.\u0275\u0275text(7,"Compulsory Deposit"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"small",17),e.\u0275\u0275text(9,"Monthly Savings"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(10,"div",53)(11,"h6",66),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"number"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"small",17),e.\u0275\u0275text(15,"Paid Amount"),e.\u0275\u0275elementEnd()()()),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(12),e.\u0275\u0275textInterpolate1("\u20b9",e.\u0275\u0275pipeBind2(13,1,t.accountSummary.assets.compulsoryDeposit.paidAmount,"1.2-2"),"")}}function gs(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",64)(1,"div",6)(2,"div",27)(3,"div",28),e.\u0275\u0275element(4,"i",70),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"div")(6,"h6",21),e.\u0275\u0275text(7,"Fixed Deposits"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"small",17),e.\u0275\u0275text(9,"Long-term Savings"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(10,"div",53)(11,"h6",66),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"number"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"small",17),e.\u0275\u0275text(15,"Total Invested"),e.\u0275\u0275elementEnd()()()),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(12),e.\u0275\u0275textInterpolate1("\u20b9",e.\u0275\u0275pipeBind2(13,1,t.accountSummary.assets.fixedDeposits.totalPaid,"1.2-2"),"")}}function fs(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",64)(1,"div",6)(2,"div",27)(3,"div",28),e.\u0275\u0275element(4,"i",71),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"div")(6,"h6",21),e.\u0275\u0275text(7,"Recurring Deposits"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"small",17),e.\u0275\u0275text(9,"Regular Savings"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(10,"div",53)(11,"h6",66),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"number"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"small",17),e.\u0275\u0275text(15,"Total Saved"),e.\u0275\u0275elementEnd()()()),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(12),e.\u0275\u0275textInterpolate1("\u20b9",e.\u0275\u0275pipeBind2(13,1,t.accountSummary.assets.recurringDeposits.totalPaid,"1.2-2"),"")}}function vs(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",64)(1,"div",6)(2,"div",27)(3,"div",28),e.\u0275\u0275element(4,"i",72),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"div")(6,"h6",21),e.\u0275\u0275text(7,"Shared Fees"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"small",17),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(10,"div",53)(11,"h6",66),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"number"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"small",17),e.\u0275\u0275text(15),e.\u0275\u0275pipe(16,"number"),e.\u0275\u0275elementEnd()()()),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(9),e.\u0275\u0275textInterpolate(t.accountSummary.assets.userFees.payment_status),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("\u20b9",e.\u0275\u0275pipeBind2(13,3,t.accountSummary.assets.userFees.shared_money,"1.2-2"),""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("Total Paid (\u20b9",e.\u0275\u0275pipeBind2(16,6,t.accountSummary.assets.userFees.total_fees,"1.2-2"),")")}}function hs(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",67)(1,"div",6)(2,"div",27)(3,"div",28),e.\u0275\u0275element(4,"i",73),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"div")(6,"h6",21),e.\u0275\u0275text(7,"Fund PINs"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"small",17),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(10,"div",53)(11,"h6",66),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"number"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"small",17),e.\u0275\u0275text(15,"Total Value"),e.\u0275\u0275elementEnd()()()),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(9),e.\u0275\u0275textInterpolate1("",t.accountSummary.assets.fundPins.activeCount," active"),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("\u20b9",e.\u0275\u0275pipeBind2(13,2,t.accountSummary.assets.fundPins.totalAmount,"1.2-2"),"")}}function xs(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",39)(1,"div",74)(2,"div",75)(3,"h6",66),e.\u0275\u0275element(4,"i",76),e.\u0275\u0275text(5," Credit Card Details "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"div",10)(7,"div",42)(8,"div",77)(9,"small",17),e.\u0275\u0275text(10,"Outstanding"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"strong"),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"number"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(14,"div",42)(15,"div",77)(16,"small",17),e.\u0275\u0275text(17,"Credit Limit"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"strong"),e.\u0275\u0275text(19),e.\u0275\u0275pipe(20,"number"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(21,"div",42)(22,"div",77)(23,"small",17),e.\u0275\u0275text(24,"Total Paid"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"strong"),e.\u0275\u0275text(26),e.\u0275\u0275pipe(27,"number"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(28,"div")(29,"div",77)(30,"small",17),e.\u0275\u0275text(31,"Interest Paid"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(32,"strong"),e.\u0275\u0275text(33),e.\u0275\u0275pipe(34,"number"),e.\u0275\u0275elementEnd()()()()()()),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(12),e.\u0275\u0275textInterpolate1("\u20b9",e.\u0275\u0275pipeBind2(13,4,t.accountSummary.liabilities.creditCard.outstanding,"1.2-2"),""),e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate1("\u20b9",e.\u0275\u0275pipeBind2(20,7,t.accountSummary.liabilities.creditCard.limit,"1.2-2"),""),e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate1("\u20b9",e.\u0275\u0275pipeBind2(27,10,t.accountSummary.liabilities.creditCard.totalPaid,"1.2-2"),""),e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate1("\u20b9",e.\u0275\u0275pipeBind2(34,13,t.accountSummary.liabilities.creditCard.totalInterestPaid,"1.2-2"),"")}}function Ss(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",39)(1,"div",74)(2,"div",75)(3,"h6",66),e.\u0275\u0275element(4,"i",78),e.\u0275\u0275text(5," Membership Fees "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"div",10)(7,"div",42)(8,"div",77)(9,"small",17),e.\u0275\u0275text(10,"Shared Money"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"strong"),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"number"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(14,"div",42)(15,"div",77)(16,"small",17),e.\u0275\u0275text(17,"Admission Fees"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"strong"),e.\u0275\u0275text(19),e.\u0275\u0275pipe(20,"number"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(21,"div",42)(22,"div",77)(23,"small",17),e.\u0275\u0275text(24,"Building Fund"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"strong"),e.\u0275\u0275text(26),e.\u0275\u0275pipe(27,"number"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(28,"div",42)(29,"div",77)(30,"small",17),e.\u0275\u0275text(31,"Welfare Fund"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(32,"strong"),e.\u0275\u0275text(33),e.\u0275\u0275pipe(34,"number"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(35,"div")(36,"div",77)(37,"small",17),e.\u0275\u0275text(38,"Other Deposit"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(39,"strong"),e.\u0275\u0275text(40),e.\u0275\u0275pipe(41,"number"),e.\u0275\u0275elementEnd()()()()()()),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(12),e.\u0275\u0275textInterpolate1("\u20b9",e.\u0275\u0275pipeBind2(13,5,t.accountSummary.assets.userFees.shared_money,"1.2-2"),""),e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate1("\u20b9",e.\u0275\u0275pipeBind2(20,8,t.accountSummary.assets.userFees.admission_fees,"1.2-2"),""),e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate1("\u20b9",e.\u0275\u0275pipeBind2(27,11,t.accountSummary.assets.userFees.building_fund,"1.2-2"),""),e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate1("\u20b9",e.\u0275\u0275pipeBind2(34,14,t.accountSummary.assets.userFees.welfare_fund,"1.2-2"),""),e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate1("\u20b9",e.\u0275\u0275pipeBind2(41,17,t.accountSummary.assets.userFees.other_deposit,"1.2-2"),"")}}const bs=function(i,a,t){return{"bg-success":i,"bg-warning":a,"bg-secondary":t}};function Cs(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"tr")(1,"td",89),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td",90),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"number"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"td",91)(7,"span",92),e.\u0275\u0275text(8),e.\u0275\u0275elementEnd()()()),2&i){const t=a.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.pin),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("\u20b9",e.\u0275\u0275pipeBind2(5,4,t.amount,"1.2-2"),""),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction3(7,bs,"Active"===t.status,"Assigned"===t.status,"Used"===t.status)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.status," ")}}function ys(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",93)(1,"small",17),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&i){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("And ",t.accountSummary.assets.fundPins.pins.length-8," more...")}}function Es(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",39)(1,"div",74)(2,"div",75)(3,"h6",66),e.\u0275\u0275element(4,"i",79),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"div",80)(7,"div",81)(8,"table",82)(9,"thead",83)(10,"tr")(11,"th",84),e.\u0275\u0275text(12,"PIN"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"th",85),e.\u0275\u0275text(14,"Amount"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"th",86),e.\u0275\u0275text(16,"Status"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(17,"tbody"),e.\u0275\u0275template(18,Cs,9,11,"tr",87),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(19,ys,3,1,"div",88),e.\u0275\u0275elementEnd()()()()),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" Fund PINs (",t.accountSummary.assets.fundPins.pins.length,") "),e.\u0275\u0275advance(13),e.\u0275\u0275property("ngForOf",t.accountSummary.assets.fundPins.pins.slice(0,8)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.accountSummary.assets.fundPins.pins.length>8)}}const Is=function(i,a){return{"border-start border-4":!0,"border-success":i,"border-danger":a}},X=function(i,a){return{"text-success":i,"text-danger":a}};function ws(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div")(1,"div",23)(2,"div",24)(3,"div",25)(4,"div",10)(5,"div",26)(6,"div",27)(7,"div",28),e.\u0275\u0275element(8,"i",29),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"div")(10,"h5",21),e.\u0275\u0275text(11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"p",30),e.\u0275\u0275text(13,"Member Account"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(14,"div",31)(15,"div",32)(16,"div",33)(17,"small",34),e.\u0275\u0275text(18,"User ID"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"span",35),e.\u0275\u0275text(20),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(21,"div",32)(22,"div",36)(23,"small",34),e.\u0275\u0275text(24,"Account Number"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"span",35),e.\u0275\u0275text(26),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(27,"div",32)(28,"div",37)(29,"small",34),e.\u0275\u0275text(30,"Last Updated"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(31,"span",38),e.\u0275\u0275text(32),e.\u0275\u0275pipe(33,"date"),e.\u0275\u0275elementEnd()()()()()()(),e.\u0275\u0275elementStart(34,"div",39)(35,"div",40)(36,"div",41)(37,"div",42),e.\u0275\u0275element(38,"i",43),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(39,"h2",44),e.\u0275\u0275text(40),e.\u0275\u0275pipe(41,"number"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(42,"h6",45),e.\u0275\u0275text(43,"Net Balance"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(44,"small",17),e.\u0275\u0275template(45,ms,1,0,"i",46),e.\u0275\u0275template(46,cs,1,0,"i",47),e.\u0275\u0275text(47," Assets - Liabilities "),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(48,"div",23)(49,"div",48)(50,"div",25)(51,"div",49)(52,"div",50)(53,"div",6),e.\u0275\u0275element(54,"i",51),e.\u0275\u0275elementStart(55,"h5",52),e.\u0275\u0275text(56,"Liabilities"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(57,"div",53)(58,"h4",52),e.\u0275\u0275text(59),e.\u0275\u0275pipe(60,"number"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(61,"small",17),e.\u0275\u0275text(62,"Total Owed"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(63,"div",10),e.\u0275\u0275template(64,ps,17,8,"div",54),e.\u0275\u0275template(65,us,16,6,"div",55),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(66,"div",48)(67,"div",25)(68,"div",49)(69,"div",50)(70,"div",6),e.\u0275\u0275element(71,"i",56),e.\u0275\u0275elementStart(72,"h5",57),e.\u0275\u0275text(73,"Assets"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(74,"div",53)(75,"h4",57),e.\u0275\u0275text(76),e.\u0275\u0275pipe(77,"number"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(78,"small",17),e.\u0275\u0275text(79,"Total Value"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(80,"div",10),e.\u0275\u0275template(81,_s,16,4,"div",54),e.\u0275\u0275template(82,gs,16,4,"div",54),e.\u0275\u0275template(83,fs,16,4,"div",54),e.\u0275\u0275template(84,vs,17,9,"div",54),e.\u0275\u0275template(85,hs,16,5,"div",55),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(86,"div",2)(87,"div",3)(88,"div",58)(89,"div",49)(90,"h6",8),e.\u0275\u0275element(91,"i",59),e.\u0275\u0275text(92," Detailed Breakdown "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(93,"div",10)(94,"div",60),e.\u0275\u0275template(95,xs,35,16,"div",61),e.\u0275\u0275template(96,Ss,42,20,"div",61),e.\u0275\u0275template(97,Es,20,3,"div",61),e.\u0275\u0275elementEnd()()()()()()),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(11),e.\u0275\u0275textInterpolate(t.accountSummary.userName),e.\u0275\u0275advance(9),e.\u0275\u0275textInterpolate(t.accountSummary.userID),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(t.accountSummary.accountNumber),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind2(33,22,t.accountSummary.calculatedAt,"short")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(34,Is,t.accountSummary.netBalance>=0,t.accountSummary.netBalance<0)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(37,X,t.accountSummary.netBalance>=0,t.accountSummary.netBalance<0)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(40,X,t.accountSummary.netBalance>=0,t.accountSummary.netBalance<0)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" \u20b9",e.\u0275\u0275pipeBind2(41,25,t.accountSummary.netBalance,"1.2-2")," "),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",t.accountSummary.netBalance>=0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.accountSummary.netBalance<0),e.\u0275\u0275advance(13),e.\u0275\u0275textInterpolate1("\u20b9",e.\u0275\u0275pipeBind2(60,28,t.accountSummary.liabilities.totalLiabilities,"1.2-2"),""),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",t.accountSummary.liabilities.creditCard.outstanding>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.accountSummary.liabilities.loans.totalOutstanding>0),e.\u0275\u0275advance(11),e.\u0275\u0275textInterpolate1("\u20b9",e.\u0275\u0275pipeBind2(77,31,t.accountSummary.assets.totalAssets,"1.2-2"),""),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",t.accountSummary.assets.compulsoryDeposit.paidAmount>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.accountSummary.assets.fixedDeposits.totalPaid>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.accountSummary.assets.recurringDeposits.totalPaid>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.accountSummary.assets.userFees.total_fees>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.accountSummary.assets.fundPins.totalAmount>0),e.\u0275\u0275advance(10),e.\u0275\u0275property("ngIf",t.accountSummary.liabilities.creditCard.outstanding>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.accountSummary.assets.userFees.total_fees>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.accountSummary.assets.fundPins.pins.length>0)}}const Ds=[{path:"all",component:Je},{path:"kyc",component:Va},{path:"profile/:user",component:pt},{path:"profile/form/:user",component:Wo},{path:"view/:user",component:Dt},{path:"compulsory-deposit/:user",component:xn},{path:"recurring-deposits/:user",component:Sr},{path:"fixed-deposits/:user",component:Ql},{path:"notification-list",component:(()=>{class i{constructor(t){this.notificationService=t,this.total=0,this.page=1,this.pageSize=10,this.notificationList=[]}ngOnInit(){this.getAllNotifications()}getAllNotifications(){this.breadCrumbItems=[{label:"Notification"},{label:"List",active:!0}],this.notificationService.getAllNotifications(this.pageSize,this.page).subscribe(t=>{t&&t.data?(this.notificationList=t.data.notifications||[],console.log(this.notificationList),this.total=t.data.total||0):this.total=0})}findPageShowing(){return Math.min(this.page*this.pageSize,this.total)}pageChange(t){this.page=t,this.getAllNotifications()}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(Ho.T))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["app-notifications-lists"]],decls:35,vars:8,consts:[[1,"container-fluid"],["title","All Notifications",3,"breadcrumbItems"],[1,"row"],[1,"col-xl-12"],[1,"card"],[1,"card-body"],[1,"table-responsive"],["id","basic-datatable",1,"table","table-bordered","dt-responsive","nowrap","datatables","no-footer","dtr-inline"],[4,"ngFor","ngForOf"],[1,"row","justify-content-md-between","align-items-md-center","mt-2"],[1,"col-sm-12","col-md-5"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[1,"text-md-right","float-md-end","pagination-rounded"],[3,"collectionSize","page","pageSize","pageChange"],["class","list-inline font-size-20 contact-links mb-0",4,"ngIf"],[1,"list-inline","font-size-20","contact-links","mb-0"],[1,"list-inline-item","px-2"],["tooltip","Message",3,"routerLink"],[1,"bx","bx-link-external"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-page-title",1),e.\u0275\u0275elementStart(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",2)(7,"div",6)(8,"table",7)(9,"thead")(10,"tr")(11,"th"),e.\u0275\u0275text(12,"Title"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"th"),e.\u0275\u0275text(14,"Message"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"th"),e.\u0275\u0275text(16,"User"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"th"),e.\u0275\u0275text(18,"Read"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"th"),e.\u0275\u0275text(20,"Date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"th"),e.\u0275\u0275text(22,"Go To"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(23,"tbody"),e.\u0275\u0275template(24,Qo,17,13,"tr",8),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(25,"div",9)(26,"div",10)(27,"div",11),e.\u0275\u0275text(28,"Showing "),e.\u0275\u0275elementStart(29,"b"),e.\u0275\u0275text(30),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(31),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(32,"div",10)(33,"div",12)(34,"ngb-pagination",13),e.\u0275\u0275listener("pageChange",function(o){return n.page=o})("pageChange",function(o){return n.pageChange(o)}),e.\u0275\u0275elementEnd()()()()()()()()()()()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("breadcrumbItems",n.breadCrumbItems),e.\u0275\u0275advance(23),e.\u0275\u0275property("ngForOf",n.notificationList),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate((n.page-1)*n.pageSize+1),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate2(" to ",n.findPageShowing()," of ",n.total," entries "),e.\u0275\u0275advance(3),e.\u0275\u0275property("collectionSize",n.total)("page",n.page)("pageSize",n.pageSize))},dependencies:[p.NgForOf,p.NgIf,x.V,f.yS,v.N9,p.DatePipe]}),i})()},{path:"account-closure-requests",component:(()=>{class i{constructor(t,n){this.userService=t,this.toast=n,this.closureRequests=[],this.total=0,this.page=1,this.pageSize=10,this.loading=!1,this.Math=Math,this.statusList=["active","inactive"]}ngOnInit(){this.breadCrumbItems=[{label:"Account Closure"},{label:"Requests",active:!0}],this.searchFormGroup=new l.cw({search:new l.NI(""),status:new l.NI("")}),this.getClosureRequests()}search(){this.page=1,this.getClosureRequests()}reset(){this.page=1,this.searchFormGroup.reset(),this.getClosureRequests()}pageChange(t){this.page=t,this.getClosureRequests()}getClosureRequests(){this.loading=!0;const t=this.searchFormGroup.value,n=[];n.push(`page=${this.page}`),n.push(`limit=${this.pageSize}`),Object.keys(t).forEach(o=>{null!==t[o]&&""!==t[o]&&void 0!==t[o]&&n.push(`${o}=${encodeURIComponent(t[o])}`)});const r=n.join("&");this.userService.getAccountClosureRequests(r).subscribe({next:o=>{this.loading=!1,o&&o.success&&o.data?(this.closureRequests=o.data.requests||[],this.total=o.data.pagination?.totalRequests||0):(this.closureRequests=[],this.total=0)},error:o=>{this.loading=!1,console.error("Error fetching closure requests:",o),this.closureRequests=[],this.total=0,this.toast.error("Failed to load account closure requests")}})}viewUserProfile(t){window.open(`/members/profile/form/${t}`,"_blank")}viewAccountSummary(t){window.open(`/members/account-summary/${t}`,"_blank")}approveClosureRequest(t){this.userService.getAccountSummary(t._id).subscribe({next:n=>{if(n.success&&n.data){const r=n.data;u().fire({title:"Account Summary - "+t.name,html:`\n              <div class="text-start">\n                <div class="row mb-3">\n                  <div class="col-6">\n                    <h6 class="text-success">Assets</h6>\n                    <div class="border rounded p-2 bg-light">\n                      <small><strong>Wallet Balance:</strong> \u20b9${r.assets?.wallet?.total_wallet?.toFixed(2)||"0.00"}</small><br/>\n                      <small><strong>Compulsory Deposit:</strong> \u20b9${r.assets?.compulsoryDeposit?.paidAmount?.toFixed(2)||"0.00"}</small><br/>\n                      <small><strong>Fixed Deposits:</strong> \u20b9${r.assets?.fixedDeposits?.totalPaid?.toFixed(2)||"0.00"}</small><br/>\n                      <small><strong>Recurring Deposits:</strong> \u20b9${r.assets?.recurringDeposits?.totalPaid?.toFixed(2)||"0.00"}</small><br/>\n                      <small><strong>User Fees:</strong> \u20b9${r.assets?.userFees?.total_fees?.toFixed(2)||"0.00"}</small><br/>\n                      <small><strong>Fund PINs:</strong> \u20b9${r.assets?.fundPins?.totalAmount?.toFixed(2)||"0.00"}</small><br/>\n                      <hr class="my-1">\n                      <strong class="text-success">Total Assets: \u20b9${r.assets?.totalAssets?.toFixed(2)||"0.00"}</strong>\n                    </div>\n                  </div>\n                  <div class="col-6">\n                    <h6 class="text-danger">Liabilities</h6>\n                    <div class="border rounded p-2 bg-light">\n                      <small><strong>Credit Card Outstanding:</strong> \u20b9${r.liabilities?.creditCard?.outstanding?.toFixed(2)||"0.00"}</small><br/>\n                      <small><strong>Loans Outstanding:</strong> \u20b9${r.liabilities?.loans?.totalOutstanding?.toFixed(2)||"0.00"}</small><br/>\n                      <hr class="my-1">\n                      <strong class="text-danger">Total Liabilities: \u20b9${r.liabilities?.totalLiabilities?.toFixed(2)||"0.00"}</strong>\n                    </div>\n                  </div>\n                </div>\n                <div class="text-center border-top pt-3">\n                  <h5 class="${r.netBalance>=0?"text-success":"text-danger"}">\n                    <strong>Net Balance: \u20b9${r.netBalance?.toFixed(2)||"0.00"}</strong>\n                  </h5>\n                  <small class="text-muted">\n                    ${r.netBalance>=0?"Account has surplus funds. Safe to close after settlement.":"Account has outstanding liabilities. Must be cleared before closure."}\n                  </small>\n                </div>\n              </div>\n            `,icon:r.netBalance>=0?"info":"warning",showCancelButton:!0,confirmButtonText:r.netBalance>=0?"Proceed with Approval":"Cannot Approve - Outstanding Balance",cancelButtonText:"Cancel",confirmButtonColor:r.netBalance>=0?"#28a745":"#6c757d",width:"800px",customClass:{popup:"account-summary-modal"},preConfirm:()=>!(r.netBalance<0&&(u().showValidationMessage("Cannot approve closure with outstanding liabilities"),1))}).then(o=>{o.isConfirmed&&r.netBalance>=0&&this.confirmClosureApproval(t)})}else this.toast.error("Failed to load account summary")},error:n=>{console.error("Error fetching account summary:",n),this.toast.error("Failed to load account summary"),this.showBasicApprovalDialog(t)}})}confirmClosureApproval(t){this.userService.approveAccountClosure(t._id).subscribe({next:n=>{n.success?(this.toast.success(`Account closure approved successfully for ${t.name}`),n.data&&n.data.netBalance>0&&u().fire({title:"Account Closure Completed",html:`\n                <div class="text-center">\n                  <p class="text-success"><strong>Account closure approved for ${t.name}</strong></p>\n                  <div class="alert alert-success">\n                    <strong>Settlement Amount:</strong> \u20b9${n.data.netBalance.toFixed(2)}<br/>\n                    <small>Bank transfer has been initiated for the outstanding balance.</small>\n                  </div>\n                  <p class="text-muted">The user's account has been terminated and they will no longer be able to log in.</p>\n                </div>\n              `,icon:"success",confirmButtonText:"OK"}),this.getClosureRequests()):this.toast.error(n.message||"Failed to approve account closure")},error:n=>{console.error("Error approving account closure:",n),this.toast.error(n.error?.message||"Failed to approve account closure")}})}showBasicApprovalDialog(t){u().fire({title:"Approve Account Closure?",html:`\n        <p>Are you sure you want to approve the account closure request for:</p>\n        <div class="alert alert-info">\n          <strong>${t.name}</strong> (${t.user_id})<br/>\n          Account: ${t.account_number||"N/A"}<br/>\n          Requested: ${new Date(t.account_closure_requested_date).toLocaleDateString()}\n        </div>\n        <p class="text-danger"><strong>Warning:</strong> This action will permanently close the user's account.</p>\n      `,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Approve Closure",cancelButtonText:"Cancel",confirmButtonColor:"#dc3545"}).then(n=>{n.isConfirmed&&(this.toast.success(`Account closure approved for ${t.name}`),this.getClosureRequests())})}rejectClosureRequest(t){u().fire({title:"Reject Account Closure?",html:`\n        <p>Are you sure you want to reject the account closure request for:</p>\n        <div class="alert alert-info">\n          <strong>${t.name}</strong> (${t.user_id})<br/>\n          Account: ${t.account_number||"N/A"}\n        </div>\n        <p class="text-warning">The user will be notified of the rejection.</p>\n      `,icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Reject Request",cancelButtonText:"Cancel",confirmButtonColor:"#6c757d"}).then(n=>{n.isConfirmed&&this.userService.rejectAccountClosure(t._id).subscribe({next:r=>{r.success?(this.toast.success(`Account closure request rejected for ${t.name}`),this.getClosureRequests()):this.toast.error(r.message||"Failed to reject account closure request")},error:r=>{console.error("Error rejecting account closure:",r),this.toast.error(r.error?.message||"Failed to reject account closure request")}})})}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(S.i),e.\u0275\u0275directiveInject(I._W))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["app-account-closure-request"]],decls:30,vars:7,consts:[[1,"container-fluid"],["title","Account Closure Requests",3,"breadcrumbItems"],[1,"row"],[1,"col-xl-12"],[1,"card"],[1,"card-body"],[1,"card-body","border-bottom"],[3,"formGroup"],[1,"row","align-items-end","g-2"],[1,"col-lg-4"],["type","search","formControlName","search","placeholder","Search by name, user ID, account number...",1,"form-control"],[1,"col-lg-3"],["formControlName","status",1,"form-control","select2"],["value",""],[3,"ngValue",4,"ngFor","ngForOf"],[1,"col-lg-2","d-grid"],["type","button",1,"btn","btn-soft-secondary",3,"click"],[1,"mdi","mdi-filter-outline","align-middle"],[1,"mdi","mdi-refresh"],[1,"col-lg-1","d-grid"],[1,"badge","bg-info","fs-6"],["class","text-center py-5",4,"ngIf"],["class","table-responsive",4,"ngIf"],["class","row",4,"ngIf"],[3,"ngValue"],[1,"text-center","py-5"],["role","status",1,"spinner-border","text-primary","mb-3"],[1,"visually-hidden"],[1,"text-muted"],[1,"table-responsive"],[1,"table","table-bordered","dt-responsive","nowrap","datatables","no-footer","dtr-inline"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"d-flex","align-items-center"],[1,"avatar-sm","me-3"],["alt","User",1,"avatar-sm","rounded-circle",2,"width","40px","height","40px","object-fit","cover",3,"src"],[1,"mb-0"],["class","text-muted",4,"ngIf"],[1,"badge",3,"ngClass"],[1,"d-flex","gap-2"],["tooltip","View Profile",1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"bx","bx-user-circle"],["tooltip","View Account Summary",1,"btn","btn-sm","btn-outline-info",3,"click"],[1,"bx","bx-bar-chart-alt-2"],["tooltip","Approve Closure",1,"btn","btn-sm","btn-success",3,"click"],[1,"bx","bx-check"],["tooltip","Reject Request",1,"btn","btn-sm","btn-danger",3,"click"],[1,"bx","bx-x"],["colspan","6",1,"text-center","py-4"],[1,"bx","bx-info-circle","display-4","mb-3"],[1,"col-sm-12","col-md-5"],["role","status","aria-live","polite",1,"dataTables_info"],[1,"col-sm-12","col-md-7"],[1,"text-md-right","float-md-end","pagination-rounded"],[3,"collectionSize","page","pageSize","pageChange"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-page-title",1),e.\u0275\u0275elementStart(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"form",7)(8,"div",8)(9,"div",9),e.\u0275\u0275element(10,"input",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",11)(12,"select",12)(13,"option",13),e.\u0275\u0275text(14,"All Status"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(15,Xo,3,4,"option",14),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(16,"div",15)(17,"button",16),e.\u0275\u0275listener("click",function(){return n.search()}),e.\u0275\u0275element(18,"i",17),e.\u0275\u0275text(19," Filter "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(20,"div",15)(21,"button",16),e.\u0275\u0275listener("click",function(){return n.reset()}),e.\u0275\u0275element(22,"i",18),e.\u0275\u0275text(23," Reset "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(24,"div",19)(25,"span",20),e.\u0275\u0275text(26),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275template(27,es,6,0,"div",21),e.\u0275\u0275template(28,ls,19,2,"div",22),e.\u0275\u0275template(29,as,7,6,"div",23),e.\u0275\u0275elementEnd()()()()()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("breadcrumbItems",n.breadCrumbItems),e.\u0275\u0275advance(6),e.\u0275\u0275property("formGroup",n.searchFormGroup),e.\u0275\u0275advance(8),e.\u0275\u0275property("ngForOf",n.statusList),e.\u0275\u0275advance(11),e.\u0275\u0275textInterpolate1("",n.total," Requests"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.loading),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.loading),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.loading&&n.closureRequests.length>0))},dependencies:[p.NgClass,p.NgForOf,p.NgIf,x.V,l._Y,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.sg,l.u,v.N9,p.TitleCasePipe,p.DatePipe]}),i})()},{path:"account-summary/:user",component:(()=>{class i{constructor(t,n){this.route=t,this.userService=n,this.accountSummary=null,this.loading=!0,this.error="",this.userId="",this.userDetails=null,this.Math=Math}ngOnInit(){this.route.params.subscribe(t=>{this.userId=t.user,this.userId?(this.breadCrumbItems=[{label:"Members"},{label:"All Users",link:"/members/all"},{label:"Account Summary",active:!0}],this.getAccountSummary(),this.getUserDetails()):(this.error="User ID not found in URL",this.loading=!1)})}getAccountSummary(){this.loading=!0,this.userService.getAccountSummary(this.userId).subscribe({next:t=>{t.success?this.accountSummary=t.data:this.error="Failed to load account summary",this.loading=!1},error:t=>{console.error("Error fetching account summary:",t),this.error="Failed to load account summary. Please try again.",this.loading=!1}})}getUserDetails(){}getStatusBadgeClass(t){switch(t?.toLowerCase()){case"active":return"badge bg-success";case"inactive":return"badge bg-warning";case"pending":return"badge bg-info";case"blocked":return"badge bg-danger";default:return"badge bg-secondary"}}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(f.gz),e.\u0275\u0275directiveInject(S.i))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["app-account-summary"]],decls:17,vars:4,consts:[[1,"container-fluid"],["title","Account Summary",3,"breadcrumbItems"],[1,"row"],[1,"col-12"],[1,"card","shadow-sm"],[1,"card-header","bg-white","border-bottom-0"],[1,"d-flex","align-items-center"],[1,"bx","bx-bar-chart-alt-2","text-primary","me-2",2,"font-size","1.5rem"],[1,"card-title","mb-0"],[1,"text-muted","mb-0","small"],[1,"card-body"],["class","text-center py-5",4,"ngIf"],["class","alert alert-warning border-0 shadow-sm",4,"ngIf"],[4,"ngIf"],[1,"text-center","py-5"],["role","status",1,"spinner-border","text-primary","mb-3",2,"width","3rem","height","3rem"],[1,"visually-hidden"],[1,"text-muted"],[1,"text-muted","small"],[1,"alert","alert-warning","border-0","shadow-sm"],[1,"bx","bx-error-circle","me-2",2,"font-size","1.2rem"],[1,"mb-1"],[1,"mb-0","small"],[1,"row","mb-4"],[1,"col-lg-8"],[1,"card","border-0","shadow-sm","h-100"],[1,"d-flex","align-items-center","mb-3"],[1,"avatar-sm","me-3"],[1,"avatar-title","bg-light","rounded-circle"],[1,"bx","bx-user","text-primary",2,"font-size","1.2rem"],[1,"text-muted","mb-0"],[1,"row","g-3"],[1,"col-md-4"],[1,"border-start","border-primary","border-4","ps-3"],[1,"text-muted","d-block"],[1,"fw-semibold"],[1,"border-start","border-info","border-4","ps-3"],[1,"border-start","border-success","border-4","ps-3"],[1,"fw-semibold","small"],[1,"col-lg-4"],[1,"card","border-0","shadow-sm","h-100",3,"ngClass"],[1,"card-body","text-center"],[1,"mb-3"],[1,"bx","bx-wallet","display-4",3,"ngClass"],[1,"mb-2",3,"ngClass"],[1,"text-muted","mb-1"],["class","bx bx-trending-up me-1",4,"ngIf"],["class","bx bx-trending-down me-1",4,"ngIf"],[1,"col-md-6"],[1,"card-header","bg-light","border-0"],[1,"d-flex","align-items-center","justify-content-between"],[1,"bx","bx-trending-down","text-danger","me-2",2,"font-size","1.3rem"],[1,"mb-0","text-danger"],[1,"text-end"],["class","d-flex align-items-center justify-content-between p-3 border rounded mb-3",4,"ngIf"],["class","d-flex align-items-center justify-content-between p-3 border rounded",4,"ngIf"],[1,"bx","bx-trending-up","text-success","me-2",2,"font-size","1.3rem"],[1,"mb-0","text-success"],[1,"card","border-0","shadow-sm"],[1,"bx","bx-detail","me-2"],[1,"row","g-4"],["class","col-lg-4",4,"ngIf"],[1,"bx","bx-trending-up","me-1"],[1,"bx","bx-trending-down","me-1"],[1,"d-flex","align-items-center","justify-content-between","p-3","border","rounded","mb-3"],[1,"bx","bx-credit-card","text-primary"],[1,"mb-0"],[1,"d-flex","align-items-center","justify-content-between","p-3","border","rounded"],[1,"bx","bx-money","text-warning"],[1,"bx","bx-check-circle","text-info"],[1,"bx","bx-package","text-secondary"],[1,"bx","bx-hourglass","text-warning"],[1,"bx","bx-receipt","text-primary"],[1,"bx","bx-pin","text-danger"],[1,"card","border","h-100"],[1,"card-header","bg-light"],[1,"bx","bx-credit-card","me-2"],[1,"d-flex","justify-content-between"],[1,"bx","bx-receipt","me-2"],[1,"bx","bx-pin","me-2"],[1,"card-body","p-0"],[1,"table-responsive"],[1,"table","table-hover","mb-0"],[1,"table-light"],[1,"small","border-0","ps-3"],[1,"small","border-0"],[1,"small","border-0","pe-3"],[4,"ngFor","ngForOf"],["class","text-center p-3",4,"ngIf"],[1,"small","ps-3"],[1,"small"],[1,"small","pe-3"],[1,"badge",3,"ngClass"],[1,"text-center","p-3"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-page-title",1),e.\u0275\u0275elementStart(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),e.\u0275\u0275element(7,"i",7),e.\u0275\u0275elementStart(8,"div")(9,"h4",8),e.\u0275\u0275text(10,"Account Summary"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"p",9),e.\u0275\u0275text(12,"Comprehensive overview of user's financial position"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(13,"div",10),e.\u0275\u0275template(14,ss,8,0,"div",11),e.\u0275\u0275template(15,ds,8,1,"div",12),e.\u0275\u0275template(16,ws,98,43,"div",13),e.\u0275\u0275elementEnd()()()()()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("breadcrumbItems",n.breadCrumbItems),e.\u0275\u0275advance(13),e.\u0275\u0275property("ngIf",n.loading),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.loading&&n.error),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.loading&&!n.error&&n.accountSummary))},dependencies:[p.NgClass,p.NgForOf,p.NgIf,x.V,p.DecimalPipe,p.DatePipe]}),i})()}];let Fs=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({imports:[f.Bz.forChild(Ds),f.Bz]}),i})();var ks=g(9668),As=g(1819);let Hs=(()=>{class i{static forRoot(){return{ngModule:i,providers:[]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({imports:[p.CommonModule]}),i})();var Js=g(3344);let Qs=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({imports:[p.CommonModule,ks.v,v.XC,Fs,H.X,Hs,As.y,Z.A0,l.u5,l.UX,v.HK,v.Oz,Js.QG,v.jF,v.M]}),i})()}}]);