<div class="container-fluid">
    <app-page-title title="General Settings" [breadcrumbItems]="breadCrumbItems"></app-page-title>

    <div class="row">
        <div class="col-12">
            <div class="card shadow-sm">
                <div class="card-header bg-primary text-white">
                    <h4 class="card-title mb-0">
                        <i class="mdi mdi-cog-outline me-2"></i>
                        General Settings
                    </h4>
                </div>
                <form [formGroup]="generalSettingsForm">
                    <div class="card-body">

                        <!-- Sahyog Card Settings -->
                        <div class="settings-section mb-4">
                            <div class="section-header bg-light p-3 rounded mb-3">
                                <h5 class="mb-0 text-primary">
                                    <i class="mdi mdi-credit-card-outline me-2"></i>
                                    Sahyog Card Settings
                                </h5>
                                <small class="text-muted">Configure fees, rates, and commission settings for Sahyog Cards</small>
                            </div>

                            <div class="row g-3">
                                <div class="col-md-6 col-lg-3">
                                    <div class="form-group">
                                        <label class="form-label fw-bold">Card Fees (₹)</label>
                                        <input type="number" class="form-control form-control-lg" formControlName="credit_card_fees" placeholder="0.00">
                                        <div *ngIf="generalSettingsForm.get('credit_card_fees')?.invalid && generalSettingsForm.get('credit_card_fees')?.touched" class="text-danger small mt-1">
                                            <i class="mdi mdi-alert-circle-outline me-1"></i>
                                            <span *ngIf="generalSettingsForm.get('credit_card_fees')?.errors?.['pattern']">Enter a valid amount (up to 2 decimals).</span>
                                            <span *ngIf="generalSettingsForm.get('credit_card_fees')?.errors?.['min']">Value must be at least 0.</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-6 col-lg-3">
                                    <div class="form-group">
                                        <label class="form-label fw-bold">Interest Rate (%)</label>
                                        <input type="number" class="form-control form-control-lg" formControlName="sahyog_card_rate" placeholder="0.00">
                                        <div *ngIf="generalSettingsForm.get('sahyog_card_rate')?.invalid && generalSettingsForm.get('sahyog_card_rate')?.touched" class="text-danger small mt-1">
                                            <i class="mdi mdi-alert-circle-outline me-1"></i>
                                            <span *ngIf="generalSettingsForm.get('sahyog_card_rate')?.errors?.['pattern']">Enter a valid rate (up to 2 decimals).</span>
                                            <span *ngIf="generalSettingsForm.get('sahyog_card_rate')?.errors?.['min']">Value must be at least 0.</span>
                                            <span *ngIf="generalSettingsForm.get('sahyog_card_rate')?.errors?.['max']">Value cannot exceed 100.</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-6 col-lg-3">
                                    <div class="form-group">
                                        <label class="form-label fw-bold">Franchise Commission (₹)</label>
                                        <input type="number" class="form-control form-control-lg" formControlName="credit_francise_rs" placeholder="0.00">
                                        <div *ngIf="generalSettingsForm.get('credit_francise_rs')?.invalid && generalSettingsForm.get('credit_francise_rs')?.touched" class="text-danger small mt-1">
                                            <i class="mdi mdi-alert-circle-outline me-1"></i>
                                            <span *ngIf="generalSettingsForm.get('credit_francise_rs')?.errors?.['pattern']">Enter a valid amount (up to 2 decimals).</span>
                                            <span *ngIf="generalSettingsForm.get('credit_francise_rs')?.errors?.['min']">Value must be at least 0.</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-6 col-lg-3">
                                    <div class="form-group">
                                        <label class="form-label fw-bold">Penalty (₹)</label>
                                        <input type="number" class="form-control form-control-lg" formControlName="sahyog_penalty" placeholder="0.00">
                                        <div *ngIf="generalSettingsForm.get('sahyog_penalty')?.invalid && generalSettingsForm.get('sahyog_penalty')?.touched" class="text-danger small mt-1">
                                            <i class="mdi mdi-alert-circle-outline me-1"></i>
                                            <span *ngIf="generalSettingsForm.get('sahyog_penalty')?.errors?.['pattern']">Enter a valid amount (up to 2 decimals).</span>
                                            <span *ngIf="generalSettingsForm.get('sahyog_penalty')?.errors?.['min']">Value must be at least 0.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row g-3 mt-2">
                                <div class="col-md-6 col-lg-3">
                                    <div class="form-group">
                                        <label class="form-label fw-bold">Indirect Commission (₹)</label>
                                        <input type="number" class="form-control form-control-lg" formControlName="credit_indirect_rs" placeholder="0.00">
                                        <div *ngIf="generalSettingsForm.get('credit_indirect_rs')?.invalid && generalSettingsForm.get('credit_indirect_rs')?.touched" class="text-danger small mt-1">
                                            <i class="mdi mdi-alert-circle-outline me-1"></i>
                                            <span *ngIf="generalSettingsForm.get('credit_indirect_rs')?.errors?.['pattern']">Enter a valid amount (up to 2 decimals).</span>
                                            <span *ngIf="generalSettingsForm.get('credit_indirect_rs')?.errors?.['min']">Value must be at least 0.</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-6 col-lg-3">
                                    <div class="form-group">
                                        <label class="form-label fw-bold">Direct Commission (₹)</label>
                                        <input type="number" class="form-control form-control-lg" formControlName="credit_direct_rs" placeholder="0.00">
                                        <div *ngIf="generalSettingsForm.get('credit_direct_rs')?.invalid && generalSettingsForm.get('credit_direct_rs')?.touched" class="text-danger small mt-1">
                                            <i class="mdi mdi-alert-circle-outline me-1"></i>
                                            <span *ngIf="generalSettingsForm.get('credit_direct_rs')?.errors?.['pattern']">Enter a valid amount (up to 2 decimals).</span>
                                            <span *ngIf="generalSettingsForm.get('credit_direct_rs')?.errors?.['min']">Value must be at least 0.</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-6 col-lg-3">
                                    <div class="form-group">
                                        <label class="form-label fw-bold">Apply To</label>
                                        <select class="form-select form-select-lg" formControlName="credit_update_for">
                                            <option value="future">New Members</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="col-md-6 col-lg-3 d-flex align-items-end">
                                    <button type="button" class="btn btn-success btn-lg w-100" (click)="onSubmit()" [disabled]="generalSettingsForm.get('credit_card_fees')?.invalid">
                                        <i class="mdi mdi-content-save me-2"></i>
                                        Save Card Settings
                                    </button>
                                </div>
                            </div>
                        </div>
                        <!-- Deposit Settings -->
                        <div class="settings-section mb-4">
                            <div class="section-header bg-light p-3 rounded mb-3">
                                <h5 class="mb-0 text-success">
                                    <i class="mdi mdi-bank-outline me-2"></i>
                                    Deposit Settings
                                </h5>
                                <small class="text-muted">Configure rates and commissions for different deposit types</small>
                            </div>

                            <!-- Compulsory Deposit -->
                            <div class="deposit-card mb-4">
                                <div class="card border-success">
                                    <div class="card-header bg-success text-white">
                                        <h6 class="mb-0">
                                            <i class="mdi mdi-cash-multiple me-2"></i>
                                            Compulsory Deposit
                                        </h6>
                                    </div>
                                    <div class="card-body">
                                        <div class="row g-3">
                                            <div class="col-md-6 col-lg-3">
                                                <div class="form-group">
                                                    <label class="form-label fw-bold">Interest Rate (%)</label>
                                                    <input type="number" class="form-control form-control-lg" formControlName="compulsory_deposit_rate" placeholder="0.00">
                                                    <div *ngIf="generalSettingsForm.get('compulsory_deposit_rate')?.invalid && generalSettingsForm.get('compulsory_deposit_rate')?.touched" class="text-danger small mt-1">
                                                        <i class="mdi mdi-alert-circle-outline me-1"></i>
                                                        <span *ngIf="generalSettingsForm.get('compulsory_deposit_rate')?.errors?.['pattern']">Enter a valid rate (up to 2 decimals).</span>
                                                        <span *ngIf="generalSettingsForm.get('compulsory_deposit_rate')?.errors?.['min']">Value must be at least 0.</span>
                                                        <span *ngIf="generalSettingsForm.get('compulsory_deposit_rate')?.errors?.['max']">Value cannot exceed 100.</span>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-md-6 col-lg-3">
                                                <div class="form-group">
                                                    <label class="form-label fw-bold">Franchise Commission (₹)</label>
                                                    <input type="number" class="form-control form-control-lg" formControlName="compulsory_francise_rs" placeholder="0.00">
                                                    <div *ngIf="generalSettingsForm.get('compulsory_francise_rs')?.invalid && generalSettingsForm.get('compulsory_francise_rs')?.touched" class="text-danger small mt-1">
                                                        <i class="mdi mdi-alert-circle-outline me-1"></i>
                                                        <span *ngIf="generalSettingsForm.get('compulsory_francise_rs')?.errors?.['pattern']">Enter a valid amount (up to 2 decimals).</span>
                                                        <span *ngIf="generalSettingsForm.get('compulsory_francise_rs')?.errors?.['min']">Value must be at least 0.</span>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-md-6 col-lg-3">
                                                <div class="form-group">
                                                    <label class="form-label fw-bold">Penalty (₹)</label>
                                                    <input type="number" class="form-control form-control-lg" formControlName="compulsory_penalty" placeholder="0.00">
                                                    <div *ngIf="generalSettingsForm.get('compulsory_penalty')?.invalid && generalSettingsForm.get('compulsory_penalty')?.touched" class="text-danger small mt-1">
                                                        <i class="mdi mdi-alert-circle-outline me-1"></i>
                                                        <span *ngIf="generalSettingsForm.get('compulsory_penalty')?.errors?.['pattern']">Enter a valid amount (up to 2 decimals).</span>
                                                        <span *ngIf="generalSettingsForm.get('compulsory_penalty')?.errors?.['min']">Value must be at least 0.</span>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-md-6 col-lg-3 d-flex align-items-end">
                                                <button type="button" class="btn btn-success btn-lg w-100" (click)="onSubmit()" [disabled]="generalSettingsForm.get('compulsory_deposit_rate')?.invalid">
                                                    <i class="mdi mdi-content-save me-2"></i>
                                                    Save Compulsory
                                                </button>
                                            </div>
                                        </div>

                                        <div class="row g-3 mt-2">
                                            <div class="col-md-6 col-lg-3">
                                                <div class="form-group">
                                                    <label class="form-label fw-bold">Indirect Commission (₹)</label>
                                                    <input type="number" class="form-control form-control-lg" formControlName="compulsory_indirect_rs" placeholder="0.00">
                                                    <div *ngIf="generalSettingsForm.get('compulsory_indirect_rs')?.invalid && generalSettingsForm.get('compulsory_indirect_rs')?.touched" class="text-danger small mt-1">
                                                        <i class="mdi mdi-alert-circle-outline me-1"></i>
                                                        <span *ngIf="generalSettingsForm.get('compulsory_indirect_rs')?.errors?.['pattern']">Enter a valid amount (up to 2 decimals).</span>
                                                        <span *ngIf="generalSettingsForm.get('compulsory_indirect_rs')?.errors?.['min']">Value must be at least 0.</span>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-md-6 col-lg-3">
                                                <div class="form-group">
                                                    <label class="form-label fw-bold">Direct Commission (₹)</label>
                                                    <input type="number" class="form-control form-control-lg" formControlName="compulsory_direct_rs" placeholder="0.00">
                                                    <div *ngIf="generalSettingsForm.get('compulsory_direct_rs')?.invalid && generalSettingsForm.get('compulsory_direct_rs')?.touched" class="text-danger small mt-1">
                                                        <i class="mdi mdi-alert-circle-outline me-1"></i>
                                                        <span *ngIf="generalSettingsForm.get('compulsory_direct_rs')?.errors?.['pattern']">Enter a valid amount (up to 2 decimals).</span>
                                                        <span *ngIf="generalSettingsForm.get('compulsory_direct_rs')?.errors?.['min']">Value must be at least 0.</span>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-md-6 col-lg-3">
                                                <div class="form-group">
                                                    <label class="form-label fw-bold">Apply To</label>
                                                    <select class="form-select form-select-lg" formControlName="compulsory_deposit_update_for">
                                                        <option value="future">New Members</option>
                                                    </select>
                                                    <div *ngIf="generalSettingsForm.get('compulsory_deposit_update_for')?.invalid && generalSettingsForm.get('compulsory_deposit_update_for')?.touched" class="text-danger small mt-1">
                                                        <i class="mdi mdi-alert-circle-outline me-1"></i>
                                                        Update For is required.
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- Recurring Deposit -->
                            <div class="deposit-card mb-4">
                                <div class="card border-info">
                                    <div class="card-header bg-info text-white">
                                        <h6 class="mb-0">
                                            <i class="mdi mdi-repeat me-2"></i>
                                            Recurring Deposit
                                        </h6>
                                    </div>
                                    <div class="card-body">
                                        <div class="row g-3">
                                            <div class="col-md-6 col-lg-3">
                                                <div class="form-group">
                                                    <label class="form-label fw-bold">Interest Rate (%)</label>
                                                    <input type="number" class="form-control form-control-lg" formControlName="recurring_deposit_rate" placeholder="0.00">
                                                    <div *ngIf="generalSettingsForm.get('recurring_deposit_rate')?.invalid && generalSettingsForm.get('recurring_deposit_rate')?.touched" class="text-danger small mt-1">
                                                        <i class="mdi mdi-alert-circle-outline me-1"></i>
                                                        <span *ngIf="generalSettingsForm.get('recurring_deposit_rate')?.errors?.['pattern']">Enter a valid rate (up to 2 decimals).</span>
                                                        <span *ngIf="generalSettingsForm.get('recurring_deposit_rate')?.errors?.['min']">Value must be at least 0.</span>
                                                        <span *ngIf="generalSettingsForm.get('recurring_deposit_rate')?.errors?.['max']">Value cannot exceed 100.</span>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-md-6 col-lg-3">
                                                <div class="form-group">
                                                    <label class="form-label fw-bold">Franchise Commission (₹)</label>
                                                    <input type="number" class="form-control form-control-lg" formControlName="recurring_francise_rs" placeholder="0.00">
                                                    <div *ngIf="generalSettingsForm.get('recurring_francise_rs')?.invalid && generalSettingsForm.get('recurring_francise_rs')?.touched" class="text-danger small mt-1">
                                                        <i class="mdi mdi-alert-circle-outline me-1"></i>
                                                        <span *ngIf="generalSettingsForm.get('recurring_francise_rs')?.errors?.['pattern']">Enter a valid amount (up to 2 decimals).</span>
                                                        <span *ngIf="generalSettingsForm.get('recurring_francise_rs')?.errors?.['min']">Value must be at least 0.</span>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-md-6 col-lg-3">
                                                <div class="form-group">
                                                    <label class="form-label fw-bold">Penalty (₹)</label>
                                                    <input type="number" class="form-control form-control-lg" formControlName="recurring_penalty" placeholder="0.00">
                                                    <div *ngIf="generalSettingsForm.get('recurring_penalty')?.invalid && generalSettingsForm.get('recurring_penalty')?.touched" class="text-danger small mt-1">
                                                        <i class="mdi mdi-alert-circle-outline me-1"></i>
                                                        <span *ngIf="generalSettingsForm.get('recurring_penalty')?.errors?.['pattern']">Enter a valid amount (up to 2 decimals).</span>
                                                        <span *ngIf="generalSettingsForm.get('recurring_penalty')?.errors?.['min']">Value must be at least 0.</span>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-md-6 col-lg-3 d-flex align-items-end">
                                                <button type="button" class="btn btn-info btn-lg w-100" (click)="onSubmit()" [disabled]="generalSettingsForm.get('recurring_deposit_rate')?.invalid">
                                                    <i class="mdi mdi-content-save me-2"></i>
                                                    Save Recurring
                                                </button>
                                            </div>
                                        </div>

                                        <div class="row g-3 mt-2">
                                            <div class="col-md-6 col-lg-3">
                                                <div class="form-group">
                                                    <label class="form-label fw-bold">Indirect Commission (₹)</label>
                                                    <input type="number" class="form-control form-control-lg" formControlName="recurring_indirect_rs" placeholder="0.00">
                                                    <div *ngIf="generalSettingsForm.get('recurring_indirect_rs')?.invalid && generalSettingsForm.get('recurring_indirect_rs')?.touched" class="text-danger small mt-1">
                                                        <i class="mdi mdi-alert-circle-outline me-1"></i>
                                                        <span *ngIf="generalSettingsForm.get('recurring_indirect_rs')?.errors?.['pattern']">Enter a valid amount (up to 2 decimals).</span>
                                                        <span *ngIf="generalSettingsForm.get('recurring_indirect_rs')?.errors?.['min']">Value must be at least 0.</span>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-md-6 col-lg-3">
                                                <div class="form-group">
                                                    <label class="form-label fw-bold">Direct Commission (₹)</label>
                                                    <input type="number" class="form-control form-control-lg" formControlName="recurring_direct_rs" placeholder="0.00">
                                                    <div *ngIf="generalSettingsForm.get('recurring_direct_rs')?.invalid && generalSettingsForm.get('recurring_direct_rs')?.touched" class="text-danger small mt-1">
                                                        <i class="mdi mdi-alert-circle-outline me-1"></i>
                                                        <span *ngIf="generalSettingsForm.get('recurring_direct_rs')?.errors?.['pattern']">Enter a valid amount (up to 2 decimals).</span>
                                                        <span *ngIf="generalSettingsForm.get('recurring_direct_rs')?.errors?.['min']">Value must be at least 0.</span>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-md-6 col-lg-3">
                                                <div class="form-group">
                                                    <label class="form-label fw-bold">Apply To</label>
                                                    <select class="form-select form-select-lg" formControlName="recurring_deposit_update_for">
                                                        <option value="future">New Members</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- Fixed Deposit -->
                            <div class="deposit-card mb-4">
                                <div class="card border-warning">
                                    <div class="card-header bg-warning text-white">
                                        <h6 class="mb-0">
                                            <i class="mdi mdi-lock-outline me-2"></i>
                                            Fixed Deposit
                                        </h6>
                                    </div>
                                    <div class="card-body">
                                        <div class="row g-3">
                                            <div class="col-md-6 col-lg-3">
                                                <div class="form-group">
                                                    <label class="form-label fw-bold">Interest Rate (%)</label>
                                                    <input type="number" class="form-control form-control-lg" formControlName="fixed_deposit_rate" placeholder="0.00">
                                                    <div *ngIf="generalSettingsForm.get('fixed_deposit_rate')?.invalid && generalSettingsForm.get('fixed_deposit_rate')?.touched" class="text-danger small mt-1">
                                                        <i class="mdi mdi-alert-circle-outline me-1"></i>
                                                        <span *ngIf="generalSettingsForm.get('fixed_deposit_rate')?.errors?.['pattern']">Enter a valid rate (up to 2 decimals).</span>
                                                        <span *ngIf="generalSettingsForm.get('fixed_deposit_rate')?.errors?.['min']">Value must be at least 0.</span>
                                                        <span *ngIf="generalSettingsForm.get('fixed_deposit_rate')?.errors?.['max']">Value cannot exceed 100.</span>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-md-6 col-lg-3">
                                                <div class="form-group">
                                                    <label class="form-label fw-bold">Franchise Commission (₹)</label>
                                                    <input type="number" class="form-control form-control-lg" formControlName="fixed_francise_rs" placeholder="0.00">
                                                    <div *ngIf="generalSettingsForm.get('fixed_francise_rs')?.invalid && generalSettingsForm.get('fixed_francise_rs')?.touched" class="text-danger small mt-1">
                                                        <i class="mdi mdi-alert-circle-outline me-1"></i>
                                                        <span *ngIf="generalSettingsForm.get('fixed_francise_rs')?.errors?.['pattern']">Enter a valid amount (up to 2 decimals).</span>
                                                        <span *ngIf="generalSettingsForm.get('fixed_francise_rs')?.errors?.['min']">Value must be at least 0.</span>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-md-6 col-lg-3">
                                                <div class="form-group">
                                                    <label class="form-label fw-bold">Penalty (₹)</label>
                                                    <input type="number" class="form-control form-control-lg" formControlName="fixed_penalty" placeholder="0.00">
                                                    <div *ngIf="generalSettingsForm.get('fixed_penalty')?.invalid && generalSettingsForm.get('fixed_penalty')?.touched" class="text-danger small mt-1">
                                                        <i class="mdi mdi-alert-circle-outline me-1"></i>
                                                        <span *ngIf="generalSettingsForm.get('fixed_penalty')?.errors?.['pattern']">Enter a valid amount (up to 2 decimals).</span>
                                                        <span *ngIf="generalSettingsForm.get('fixed_penalty')?.errors?.['min']">Value must be at least 0.</span>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-md-6 col-lg-3 d-flex align-items-end">
                                                <button type="button" class="btn btn-warning btn-lg w-100" (click)="onSubmit()" [disabled]="generalSettingsForm.get('fixed_deposit_rate')?.invalid">
                                                    <i class="mdi mdi-content-save me-2"></i>
                                                    Save Fixed
                                                </button>
                                            </div>
                                        </div>

                                        <div class="row g-3 mt-2">
                                            <div class="col-md-6 col-lg-3">
                                                <div class="form-group">
                                                    <label class="form-label fw-bold">Indirect Commission (₹)</label>
                                                    <input type="number" class="form-control form-control-lg" formControlName="fixed_indirect_rs" placeholder="0.00">
                                                    <div *ngIf="generalSettingsForm.get('fixed_indirect_rs')?.invalid && generalSettingsForm.get('fixed_indirect_rs')?.touched" class="text-danger small mt-1">
                                                        <i class="mdi mdi-alert-circle-outline me-1"></i>
                                                        <span *ngIf="generalSettingsForm.get('fixed_indirect_rs')?.errors?.['pattern']">Enter a valid amount (up to 2 decimals).</span>
                                                        <span *ngIf="generalSettingsForm.get('fixed_indirect_rs')?.errors?.['min']">Value must be at least 0.</span>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-md-6 col-lg-3">
                                                <div class="form-group">
                                                    <label class="form-label fw-bold">Direct Commission (₹)</label>
                                                    <input type="number" class="form-control form-control-lg" formControlName="fixed_direct_rs" placeholder="0.00">
                                                    <div *ngIf="generalSettingsForm.get('fixed_direct_rs')?.invalid && generalSettingsForm.get('fixed_direct_rs')?.touched" class="text-danger small mt-1">
                                                        <i class="mdi mdi-alert-circle-outline me-1"></i>
                                                        <span *ngIf="generalSettingsForm.get('fixed_direct_rs')?.errors?.['pattern']">Enter a valid amount (up to 2 decimals).</span>
                                                        <span *ngIf="generalSettingsForm.get('fixed_direct_rs')?.errors?.['min']">Value must be at least 0.</span>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-md-6 col-lg-3">
                                                <div class="form-group">
                                                    <label class="form-label fw-bold">Apply To</label>
                                                    <select class="form-select form-select-lg" formControlName="fixed_deposit_update_for">
                                                        <option value="future">New Members</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <h5 class="card-title mt-3">Services Annual Rate</h5>
                        <div class="settings-section mb-4">
                            <div class="section-header bg-light p-3 rounded mb-3">
                                <h5 class="mb-0 text-danger">
                                    <i class="mdi mdi-handshake-outline me-2"></i>
                                    Loan Services
                                </h5>
                                <small class="text-muted">Configure loan interest rates and commission percentages</small>
                            </div>

                            <!-- Loan Settings -->
                            <div class="service-card">
                                <div class="card border-danger">
                                    <div class="card-header bg-danger text-white">
                                        <h6 class="mb-0">
                                            <i class="mdi mdi-cash-plus me-2"></i>
                                            Personal Loan Configuration
                                        </h6>
                                    </div>
                                    <div class="card-body">
                                        <div class="row g-3">
                                            <div class="col-md-6 col-lg-3">
                                                <div class="form-group">
                                                    <label class="form-label fw-bold">Interest Rate (%)</label>
                                                    <input type="number" class="form-control form-control-lg" formControlName="loan_rate" placeholder="0.00">
                                                    <div *ngIf="generalSettingsForm.get('loan_rate')?.invalid && generalSettingsForm.get('loan_rate')?.touched" class="text-danger small mt-1">
                                                        <i class="mdi mdi-alert-circle-outline me-1"></i>
                                                        <span *ngIf="generalSettingsForm.get('loan_rate')?.errors?.['pattern']">Enter a valid rate (up to 2 decimals).</span>
                                                        <span *ngIf="generalSettingsForm.get('loan_rate')?.errors?.['min']">Value must be at least 0.</span>
                                                        <span *ngIf="generalSettingsForm.get('loan_rate')?.errors?.['max']">Value cannot exceed 100.</span>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-md-6 col-lg-3">
                                                <div class="form-group">
                                                    <label class="form-label fw-bold">Franchise Commission (%)</label>
                                                    <input type="number" class="form-control form-control-lg" formControlName="loan_francise_percentage" placeholder="0.00">
                                                    <div *ngIf="generalSettingsForm.get('loan_francise_percentage')?.invalid && generalSettingsForm.get('loan_francise_percentage')?.touched" class="text-danger small mt-1">
                                                        <i class="mdi mdi-alert-circle-outline me-1"></i>
                                                        <span *ngIf="generalSettingsForm.get('loan_francise_percentage')?.errors?.['pattern']">Enter a valid percentage (up to 2 decimals).</span>
                                                        <span *ngIf="generalSettingsForm.get('loan_francise_percentage')?.errors?.['min']">Value must be at least 0.</span>
                                                        <span *ngIf="generalSettingsForm.get('loan_francise_percentage')?.errors?.['max']">Value cannot exceed 100.</span>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-md-6 col-lg-3">
                                                <div class="form-group">
                                                    <label class="form-label fw-bold">Penalty (₹)</label>
                                                    <input type="number" class="form-control form-control-lg" formControlName="loan_penalty" placeholder="0.00">
                                                    <div *ngIf="generalSettingsForm.get('loan_penalty')?.invalid && generalSettingsForm.get('loan_penalty')?.touched" class="text-danger small mt-1">
                                                        <i class="mdi mdi-alert-circle-outline me-1"></i>
                                                        <span *ngIf="generalSettingsForm.get('loan_penalty')?.errors?.['pattern']">Enter a valid amount (up to 2 decimals).</span>
                                                        <span *ngIf="generalSettingsForm.get('loan_penalty')?.errors?.['min']">Value must be at least 0.</span>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-md-6 col-lg-3 d-flex align-items-end">
                                                <button type="button" class="btn btn-danger btn-lg w-100" (click)="onSubmit()" [disabled]="generalSettingsForm.get('loan_rate')?.invalid">
                                                    <i class="mdi mdi-content-save me-2"></i>
                                                    Save Loan Settings
                                                </button>
                                            </div>
                                        </div>

                                        <div class="row g-3 mt-2">
                                            <div class="col-md-6 col-lg-3">
                                                <div class="form-group">
                                                    <label class="form-label fw-bold">Indirect Commission (%)</label>
                                                    <input type="number" class="form-control form-control-lg" formControlName="loan_indirect_percentage" placeholder="0.00">
                                                    <div *ngIf="generalSettingsForm.get('loan_indirect_percentage')?.invalid && generalSettingsForm.get('loan_indirect_percentage')?.touched" class="text-danger small mt-1">
                                                        <i class="mdi mdi-alert-circle-outline me-1"></i>
                                                        <span *ngIf="generalSettingsForm.get('loan_indirect_percentage')?.errors?.['pattern']">Enter a valid percentage (up to 2 decimals).</span>
                                                        <span *ngIf="generalSettingsForm.get('loan_indirect_percentage')?.errors?.['min']">Value must be at least 0.</span>
                                                        <span *ngIf="generalSettingsForm.get('loan_indirect_percentage')?.errors?.['max']">Value cannot exceed 100.</span>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-md-6 col-lg-3">
                                                <div class="form-group">
                                                    <label class="form-label fw-bold">Direct Commission (%)</label>
                                                    <input type="number" class="form-control form-control-lg" formControlName="loan_direct_percentage" placeholder="0.00">
                                                    <div *ngIf="generalSettingsForm.get('loan_direct_percentage')?.invalid && generalSettingsForm.get('loan_direct_percentage')?.touched" class="text-danger small mt-1">
                                                        <i class="mdi mdi-alert-circle-outline me-1"></i>
                                                        <span *ngIf="generalSettingsForm.get('loan_direct_percentage')?.errors?.['pattern']">Enter a valid percentage (up to 2 decimals).</span>
                                                        <span *ngIf="generalSettingsForm.get('loan_direct_percentage')?.errors?.['min']">Value must be at least 0.</span>
                                                        <span *ngIf="generalSettingsForm.get('loan_direct_percentage')?.errors?.['max']">Value cannot exceed 100.</span>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-md-6 col-lg-3">
                                                <div class="form-group">
                                                    <label class="form-label fw-bold">Apply To</label>
                                                    <select class="form-select form-select-lg" formControlName="loan_update_for">
                                                        <option value="future">New Members</option>
                                                    </select>
                                                    <div *ngIf="generalSettingsForm.get('loan_update_for')?.invalid && generalSettingsForm.get('loan_update_for')?.touched" class="text-danger small mt-1">
                                                        <i class="mdi mdi-alert-circle-outline me-1"></i>
                                                        Update For is required.
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>


                            <div class="service-card">
                                <div class="card border-info">
                                    <div class="card-header bg-info text-white">
                                        <h6 class="mb-0">
                                            <i class="mdi mdi-cash-plus me-2"></i>
                                            Guaranteed Loan Configuration
                                        </h6>
                                    </div>
                                    <div class="card-body">
                                        <div class="row g-3">
                                            <div class="col-md-6 col-lg-3">
                                                <div class="form-group">
                                                    <label class="form-label fw-bold">Interest Rate (%)</label>
                                                    <input type="number" class="form-control form-control-lg" formControlName="g_loan_rate" placeholder="0.00">
                                                    <div *ngIf="generalSettingsForm.get('g_loan_rate')?.invalid && generalSettingsForm.get('g_loan_rate')?.touched" class="text-danger small mt-1">
                                                        <i class="mdi mdi-alert-circle-outline me-1"></i>
                                                        <span *ngIf="generalSettingsForm.get('g_loan_rate')?.errors?.['pattern']">Enter a valid rate (up to 2 decimals).</span>
                                                        <span *ngIf="generalSettingsForm.get('g_loan_rate')?.errors?.['min']">Value must be at least 0.</span>
                                                        <span *ngIf="generalSettingsForm.get('g_loan_rate')?.errors?.['max']">Value cannot exceed 100.</span>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-md-6 col-lg-3">
                                                <div class="form-group">
                                                    <label class="form-label fw-bold">Franchise Commission (%)</label>
                                                    <input type="number" class="form-control form-control-lg" formControlName="g_loan_francise_percentage" placeholder="0.00">
                                                    <div *ngIf="generalSettingsForm.get('g_loan_francise_percentage')?.invalid && generalSettingsForm.get('g_loan_francise_percentage')?.touched" class="text-danger small mt-1">
                                                        <i class="mdi mdi-alert-circle-outline me-1"></i>
                                                        <span *ngIf="generalSettingsForm.get('g_loan_francise_percentage')?.errors?.['pattern']">Enter a valid percentage (up to 2 decimals).</span>
                                                        <span *ngIf="generalSettingsForm.get('g_loan_francise_percentage')?.errors?.['min']">Value must be at least 0.</span>
                                                        <span *ngIf="generalSettingsForm.get('g_loan_francise_percentage')?.errors?.['max']">Value cannot exceed 100.</span>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-md-6 col-lg-3">
                                                <div class="form-group">
                                                    <label class="form-label fw-bold">Penalty (₹)</label>
                                                    <input type="number" class="form-control form-control-lg" formControlName="g_loan_penalty" placeholder="0.00">
                                                    <div *ngIf="generalSettingsForm.get('g_loan_penalty')?.invalid && generalSettingsForm.get('g_loan_penalty')?.touched" class="text-danger small mt-1">
                                                        <i class="mdi mdi-alert-circle-outline me-1"></i>
                                                        <span *ngIf="generalSettingsForm.get('g_loan_penalty')?.errors?.['pattern']">Enter a valid amount (up to 2 decimals).</span>
                                                        <span *ngIf="generalSettingsForm.get('g_loan_penalty')?.errors?.['min']">Value must be at least 0.</span>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-md-6 col-lg-3 d-flex align-items-end">
                                                <button type="button" class="btn btn-info btn-lg w-100" (click)="onSubmit()" [disabled]="generalSettingsForm.get('loan_rate')?.invalid">
                                                    <i class="mdi mdi-content-save me-2"></i>
                                                    Save Loan Settings
                                                </button>
                                            </div>
                                        </div>

                                        <div class="row g-3 mt-2">
                                            <div class="col-md-6 col-lg-3">
                                                <div class="form-group">
                                                    <label class="form-label fw-bold">Indirect Commission (%)</label>
                                                    <input type="number" class="form-control form-control-lg" formControlName="g_loan_indirect_percentage" placeholder="0.00">
                                                    <div *ngIf="generalSettingsForm.get('g_loan_indirect_percentage')?.invalid && generalSettingsForm.get('g_loan_indirect_percentage')?.touched" class="text-danger small mt-1">
                                                        <i class="mdi mdi-alert-circle-outline me-1"></i>
                                                        <span *ngIf="generalSettingsForm.get('g_loan_indirect_percentage')?.errors?.['pattern']">Enter a valid percentage (up to 2 decimals).</span>
                                                        <span *ngIf="generalSettingsForm.get('g_loan_indirect_percentage')?.errors?.['min']">Value must be at least 0.</span>
                                                        <span *ngIf="generalSettingsForm.get('g_loan_indirect_percentage')?.errors?.['max']">Value cannot exceed 100.</span>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-md-6 col-lg-3">
                                                <div class="form-group">
                                                    <label class="form-label fw-bold">Direct Commission (%)</label>
                                                    <input type="number" class="form-control form-control-lg" formControlName="g_loan_direct_percentage" placeholder="0.00">
                                                    <div *ngIf="generalSettingsForm.get('g_loan_direct_percentage')?.invalid && generalSettingsForm.get('g_loan_direct_percentage')?.touched" class="text-danger small mt-1">
                                                        <i class="mdi mdi-alert-circle-outline me-1"></i>
                                                        <span *ngIf="generalSettingsForm.get('g_loan_direct_percentage')?.errors?.['pattern']">Enter a valid percentage (up to 2 decimals).</span>
                                                        <span *ngIf="generalSettingsForm.get('g_loan_direct_percentage')?.errors?.['min']">Value must be at least 0.</span>
                                                        <span *ngIf="generalSettingsForm.get('g_loan_direct_percentage')?.errors?.['max']">Value cannot exceed 100.</span>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-md-6 col-lg-3">
                                                <div class="form-group">
                                                    <label class="form-label fw-bold">Apply To</label>
                                                    <select class="form-select form-select-lg" formControlName="g_loan_update_for">
                                                        <option value="future">New Members</option>
                                                    </select>
                                                    <div *ngIf="generalSettingsForm.get('g_loan_update_for')?.invalid && generalSettingsForm.get('g_loan_update_for')?.touched" class="text-danger small mt-1">
                                                        <i class="mdi mdi-alert-circle-outline me-1"></i>
                                                        Update For is required.
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                        
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>